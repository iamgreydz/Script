!function(){var e={94739:function(e,t,s){var a={"./af.js":[915903,15903],"./am.js":[329911,29911],"./ar-dz.js":[47200,47200],"./ar-iq.js":[487719,87719],"./ar-kw.js":[62376,62376],"./ar-ly.js":[848540,48540],"./ar-ma.js":[996817,96817],"./ar-sa.js":[511573,11573],"./ar-tn.js":[599339,99339],"./ar.js":[963939,63939],"./az.js":[888092,88092],"./be.js":[960504,60504],"./bg.js":[119091,19091],"./bi.js":[419149,19149],"./bm.js":[415287,15287],"./bn-bd.js":[654067,54067],"./bn.js":[35254,35254],"./bo.js":[852502,52502],"./br.js":[308864,8864],"./bs.js":[604502,4502],"./ca.js":[333646,33646],"./cs.js":[498507,98507],"./cv.js":[916636,16636],"./cy.js":[228792,28792],"./da.js":[917427,17427],"./de-at.js":[373237,73237],"./de-ch.js":[716148,16148],"./de.js":[180790,80790],"./dv.js":[911794,11794],"./el.js":[565423,65423],"./en-au.js":[885109,85109],"./en-ca.js":[55105,55105],"./en-gb.js":[899517,99517],"./en-ie.js":[230758,30758],"./en-il.js":[995805,95805],"./en-in.js":[388529,88529],"./en-nz.js":[250302,50302],"./en-sg.js":[935941,35941],"./en-tt.js":[746183,46183],"./en.js":[125054,25054],"./eo.js":[474990,74990],"./es-do.js":[603864,3864],"./es-mx.js":[337118,37118],"./es-pr.js":[723521,23521],"./es-us.js":[636165,36165],"./es.js":[667763,67763],"./et.js":[599670,99670],"./eu.js":[946629,46629],"./fa.js":[596953,96953],"./fi.js":[847822,47822],"./fo.js":[269197,69197],"./fr-ca.js":[477989,77989],"./fr-ch.js":[454254,54254],"./fr.js":[496023,96023],"./fy.js":[793220,93220],"./ga.js":[47467,47467],"./gd.js":[754855,54855],"./gl.js":[290229,90229],"./gom-latn.js":[646312,46312],"./gu.js":[287632,87632],"./he.js":[645418,45418],"./hi.js":[577573,77573],"./hr.js":[496257,96257],"./ht.js":[698889,98889],"./hu.js":[968562,68562],"./hy-am.js":[38242,38242],"./id.js":[83783,83783],"./is.js":[998980,98980],"./it-ch.js":[283706,83706],"./it.js":[715551,15551],"./ja.js":[176831,76831],"./jv.js":[542641,42641],"./ka.js":[246622,46622],"./kk.js":[32921,32921],"./km.js":[845567,45567],"./kn.js":[321113,21113],"./ko.js":[919132,19132],"./ku.js":[994888,94888],"./ky.js":[660466,60466],"./lb.js":[891796,91796],"./lo.js":[468894,68894],"./lt.js":[78768,78768],"./lv.js":[630953,30953],"./me.js":[818066,18066],"./mi.js":[268602,68602],"./mk.js":[951560,51560],"./ml.js":[404017,4017],"./mn.js":[894717,94717],"./mr.js":[15473,15473],"./ms-my.js":[177387,77387],"./ms.js":[505742,5742],"./mt.js":[828477,28477],"./my.js":[462966,62966],"./nb.js":[119682,19682],"./ne.js":[14149,14149],"./nl-be.js":[737496,37496],"./nl.js":[899182,99182],"./nn.js":[992722,92722],"./oc-lnc.js":[776159,76159],"./pa-in.js":[135914,35914],"./pl.js":[581987,81987],"./pt-br.js":[457548,57548],"./pt.js":[515001,15001],"./rn.js":[300123,123],"./ro.js":[318146,18146],"./ru.js":[270600,70600],"./rw.js":[206509,6509],"./sd.js":[465437,65437],"./se.js":[200772,772],"./si.js":[277109,77109],"./sk.js":[935627,35627],"./sl.js":[382544,82544],"./sq.js":[588341,88341],"./sr-cyrl.js":[137101,37101],"./sr.js":[450617,50617],"./ss.js":[864127,64127],"./sv-fi.js":[819911,19911],"./sv.js":[991876,91876],"./sw.js":[146148,46148],"./ta.js":[255596,55596],"./te.js":[45159,45159],"./tet.js":[799157,99157],"./tg.js":[509928,9928],"./th.js":[262019,62019],"./tk.js":[675817,75817],"./tl-ph.js":[46513,46513],"./tlh.js":[997296,97296],"./tr.js":[373035,73035],"./tzl.js":[557797,57797],"./tzm-latn.js":[330261,30261],"./tzm.js":[284722,84722],"./ug-cn.js":[580313,80313],"./uk.js":[564144,64144],"./ur.js":[592957,92957],"./uz-latn.js":[98727,98727],"./uz.js":[307486,7486],"./vi.js":[337553,37553],"./x-pseudo.js":[955321,55321],"./yo.js":[114724,14724],"./zh-cn.js":[533852,33852],"./zh-hk.js":[502390,2390],"./zh-tw.js":[543901,43901],"./zh.js":[132009,32009]};function r(e){if(!s.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return s.e(t[1]).then((function(){return s.t(r,23)}))}r.keys=function(){return Object.keys(a)},r.id=94739,e.exports=r},888638:function(e,t,s){"use strict";s.d(t,{$t:function(){return r},BA:function(){return u},Ck:function(){return l},L5:function(){return n},UG:function(){return c},V4:function(){return o},ok:function(){return i},sB:function(){return d}});var a=s(990733);const r=e=>a.ZP.post(`${a.tW}/trials/claim`,{code:e}).then((e=>e.data)),i=e=>a.ZP.post(`${a.tW}/trials/check`,{code:e,reserve:!0}).then((e=>e.data)),n=e=>a.ZP.post(`${a.tW}/promotions/claim`,{code:e,strictAuthCheck:1}).then((e=>e.data)),o=e=>a.ZP.get(`${a.tW}/promotions/offer/${e}`).then((e=>e.data)),d=e=>a.ZP.post(`${a.tW}/users/restore-access`,{code:e}).then((e=>e.data)),c=(e,t={})=>a.ZP.get(`${a.tW}/emails/confirm/${e}${(0,a.XP)(t)}`).then((e=>e.data)),l=e=>a.ZP.post(`${a.tW}/users/clicks-stats`,e).then((e=>e.data)),u=(e,t="view")=>a.ZP.get(`${a.tW}/gdpr/${e}${(0,a.XP)({op:t})}`).then((e=>e.data))},97386:function(e,t,s){"use strict";s.d(t,{UC:function(){return l},be:function(){return u},cN:function(){return c},jK:function(){return d},pP:function(){return o},uf:function(){return i},x4:function(){return r},z2:function(){return n}});var a=s(990733);const r=e=>a.ZP.post(`${a.tW}/users/login`,e).then((e=>e.data)),i=()=>a.ZP.post(`${a.tW}/users/logout`).then((e=>e.data)),n=e=>a.ZP.post(`${a.tW}/users/register`,e).then((e=>e.data)),o=e=>a.ZP.get(`${a.tW}/users/login-as-referral/${e}`).then((e=>e.data)),d=()=>a.ZP.get(`${a.tW}/users/logout-from-referral`).then((e=>e.data)),c=()=>a.ZP.get(`${a.tW}/oauth/confirm`).then((e=>e.data)),l=()=>a.ZP.get(`${a.tW}/webauthn/credentials`).then((e=>e.data)),u=e=>a.ZP.delete(`${a.tW}/webauthn/credentials`,{data:e}).then((e=>e.data))},398563:function(e,t,s){"use strict";s.d(t,{Bw:function(){return c},CP:function(){return l},Fz:function(){return o},GG:function(){return g},Jd:function(){return n},KD:function(){return h},Pz:function(){return f},SH:function(){return y},VN:function(){return S},cD:function(){return r},do:function(){return w},iO:function(){return u},id:function(){return b},jV:function(){return i},mt:function(){return m},oY:function(){return P},t1:function(){return v},uI:function(){return p},ys:function(){return d},zr:function(){return I}});var a=s(990733);const r=()=>a.ZP.get(`${a.tW}/payouts/account`).then((e=>e.data)),i=e=>a.ZP.post(`${a.tW}/payouts/account`,e).then((e=>e.data)),n=()=>a.ZP.get(`${a.tW}/payouts/legal-form`).then((e=>e.data)),o=()=>a.ZP.get(`${a.tW}/payouts/legal-info`).then((e=>e.data)),d=e=>a.ZP.post(`${a.tW}/payouts/legal`,e).then((e=>e.data)),c=e=>a.ZP.post(`${a.tW}/payouts/legal/twitter`,e).then((e=>e.data)),l=e=>a.ZP.post(`${a.tW}/payouts/legal/instagram`,e).then((e=>e.data)),u=(e={},t)=>a.ZP.get(`${a.tW}/payouts/bank${(0,a.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),m=(e={},t)=>a.ZP.get(`${a.tW}/payouts/other/bank${(0,a.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),h=e=>a.ZP.post(`${a.tW}/payouts/bank`,e).then((e=>e.data)),f=e=>a.ZP.patch(`${a.tW}/payouts/bank`,e).then((e=>e.data)),p=()=>a.ZP.delete(`${a.tW}/payouts/bank`).then((e=>e.data)),g=()=>a.ZP.get(`${a.tW}/payouts/stripe`).then((e=>e.data)),y=()=>a.ZP.get(`${a.tW}/payouts/stripe/legal`).then((e=>e.data)),v=e=>a.ZP.post(`${a.tW}/payouts/stripe/legal`,e).then((e=>e.data)),S=(e=!1)=>a.ZP.get(`${a.tW}/payouts/stripe/account${e?"-edit":""}`).then((e=>e.data)),P=e=>a.ZP.post(`${a.tW}/payouts/stripe/account`,e).then((e=>e.data)),w=e=>a.ZP.get(`${a.tW}/zip/${e}/state`).then((e=>e.data)),b=(e,t)=>a.ZP.post(`${a.tW}/address`,e,{cancelToken:t}).then((({data:e})=>e)),I=()=>a.ZP.get(`${a.tW}/countries/payouts`).then((e=>e.data))},410697:function(e,t,s){"use strict";s.d(t,{AT:function(){return m},DP:function(){return o},GO:function(){return l},JK:function(){return v},Jn:function(){return T},O4:function(){return p},Re:function(){return P},SL:function(){return y},SR:function(){return E},U2:function(){return L},XC:function(){return k},ad:function(){return I},ae:function(){return f},bG:function(){return c},bh:function(){return g},cJ:function(){return C},d9:function(){return w},dU:function(){return F},j2:function(){return $},kd:function(){return S},lg:function(){return _},mb:function(){return n},o8:function(){return i},qP:function(){return u},rY:function(){return A},sl:function(){return d},tY:function(){return b},tx:function(){return h},yq:function(){return M},zG:function(){return r}});var a=s(990733);const r=({limit:e=a.P9,offset:t=0,listId:s,...r}={},i)=>a.ZP.get(`${a.tW}/chats${(0,a.XP)({limit:e,offset:t,list_id:s,skip_users:"all",...r})}`,{cancelToken:i}).then((e=>e.data)),i=({limit:e=a.P9,offset:t=0,skipUsers:s,...r},i)=>a.ZP.get(`${a.tW}/chats/users${(0,a.XP)({limit:e,offset:t,skip_users:s,skip_users_dups:s?void 0:1,...r})}`,{cancelToken:i}).then((e=>e.data)),n=e=>a.ZP.get(`${a.tW}/chats/${encodeURIComponent(e)}?skip_users=all`).then((e=>e.data)),o=(e,{limit:t=a.P9,groupId:s,skipUsers:r,order:i="desc",...n}={})=>a.ZP.get(`${a.tW}/chats/${encodeURIComponent(e)}/messages${(0,a.XP)({limit:t,group_id:s,order:i,skip_users:r,skip_users_dups:r?void 0:1,...n})}`).then((e=>e.data)),d=(e,t={})=>a.ZP.get(`${a.tW}/chats/${encodeURIComponent(e)}/messages/search${(0,a.XP)(t)}`).then((e=>e.data)),c=(e,t)=>a.ZP.post(`${a.tW}/chats/${e}/messages`,t).then((e=>e.data)),l=e=>a.ZP.delete(`${a.tW}/chats/${e}`).then((e=>e.data)),u=(e,t)=>a.ZP.delete(`${a.tW}/messages/${e}`,{data:{withUserId:t}}).then((e=>e.data)),m=e=>a.ZP.get(`${a.tW}/messages/${e}`).then((e=>e.data)),h=()=>a.ZP.get(`${a.tW}/messages/queue`).then((e=>e.data)),f=(e,t="scheduled",s)=>a.ZP.get(`${a.tW}/messages/queue/${e}${(0,a.XP)({format:t})}`,{cancelToken:s}).then((e=>e.data)),p=e=>a.ZP.post(`${a.tW}/messages/queue`,e).then((e=>e.data)),g=(e,t)=>a.ZP.put(`${a.tW}/messages/queue/${t}`,e).then((e=>e.data)),y=e=>a.ZP.delete(`${a.tW}/messages/queue/${e}`).then((e=>e.data)),v=e=>a.ZP.post(`${a.tW}/chats/${e}/mark-as-read`).then((e=>e.data)),S=e=>a.ZP.delete(`${a.tW}/chats/${e}/mark-as-read`).then((e=>e.data)),P=e=>a.ZP.post(`${a.tW}/chats/mark-as-read`,{data:{currentFiltersIds:e}}).then((e=>e.data)),w=(e,t)=>a.ZP.post(`${a.tW}/messages/${e}/like`,{withUserId:t}).then((e=>e.data)),b=(e,t)=>a.ZP.delete(`${a.tW}/messages/${e}/like`,{data:{withUserId:t}}).then((e=>e.data)),I=e=>a.ZP.post(`${a.tW}/chats/${e}/hide`).then((e=>e.data)),k=e=>a.ZP.post(`${a.tW}/chats/${e}/mute`).then((e=>e.data)),C=e=>a.ZP.delete(`${a.tW}/chats/${e}/mute`).then((e=>e.data)),T=({offset:e=0,limit:t=30,query:s},r)=>a.ZP.get(`${a.tW}/messages/queue/stats${(0,a.XP)({offset:e,limit:t,query:s,format:"infinite"})}`,{cancelToken:r}).then((e=>e.data)),L=e=>a.ZP.post(`${a.tW}/messages/queue/size`,{queueBuyers:e}).then((e=>e.data)),M=({userId:e,type:t="",opened:s,lastId:r,limit:i=20,signal:n}={})=>a.ZP.get(`${a.tW}/chats/${encodeURIComponent(e)}/media/${t}${(0,a.XP)({opened:s,last_id:r,limit:i,skip_users:"all"})}`,{signal:n}).then((e=>e.data)),$=({queueId:e,limit:t=a.P9,offset:s=0,skipUsers:r,marker:i})=>a.ZP.get(`${a.tW}/messages/queue/${e}/buyers${(0,a.XP)({limit:t,offset:s,skip_users:r,skip_users_dups:r?void 0:1,marker:i})}`).then((e=>e.data)),A=(e,t)=>a.ZP.post(`${a.tW}/messages/${e}/pin${t?"/user/"+t:""}`).then((e=>e.data)),_=(e,t)=>a.ZP.delete(`${a.tW}/messages/${e}/pin${t?"/user/"+t:""}`).then((e=>e.data)),F=e=>a.ZP.delete(`${a.tW}/chats/${e}/messages/pin`).then((e=>e.data)),E=e=>a.ZP.put(`${a.tW}/messages/${e}/hide`).then((e=>e.data))},329732:function(e,t,s){"use strict";s.d(t,{Ru:function(){return n},ar:function(){return r},vO:function(){return i}});var a=s(990733);const r=e=>a.ZP.post(`${a.tW}/comments/${e}/like`).then((e=>e.data)),i=e=>a.ZP.delete(`${a.tW}/comments/${e}/like`).then((e=>e.data)),n=e=>a.ZP.delete(`${a.tW}/comments/${e}`).then((e=>e.data))},8056:function(e,t,s){"use strict";s.d(t,{$z:function(){return r},GK:function(){return n},J8:function(){return c},Pt:function(){return d},bm:function(){return o},m_:function(){return i}});var a=s(990733);const r=e=>a.ZP.post(`${a.tW}/users/opensea/wallet`,e).then((e=>e.data)),i=()=>a.ZP.delete(`${a.tW}/users/opensea/wallet`).then((e=>e.data)),n=({offset:e=0,limit:t=a.P9})=>a.ZP.get(`${a.tW}/users/opensea/assets${(0,a.XP)({offset:e,limit:t})}`).then((e=>e.data)),o=({offset:e=0,limit:t=a.P9})=>a.ZP.get(`${a.tW}/users/opensea/assets/nft${(0,a.XP)({offset:e,limit:t})}`).then((e=>e.data)),d=e=>a.ZP.put(`${a.tW}/users/opensea/nft`,e).then((e=>e.data)),c=e=>a.ZP.get(`${a.tW}/users${e?`/${e}`:""}/opensea/nft`).then((e=>e.data))},218684:function(e,t,s){"use strict";s.d(t,{B8:function(){return l},Eh:function(){return T},F2:function(){return d},NB:function(){return h},WG:function(){return M},_P:function(){return o},_v:function(){return f},f1:function(){return b},j1:function(){return p},j2:function(){return P},jm:function(){return L},kN:function(){return g},t$:function(){return w},tT:function(){return $},u6:function(){return C},uX:function(){return k},vm:function(){return u},wT:function(){return I}});var a=s(227361),r=s.n(a),i=s(990733),n=s(550615);const o=e=>i.ZP.get(`${i.tW}/payments/3ds-js${(0,i.XP)({isExtendedVendorFormat:1,v:e})}`).then((e=>e.data)),d=(e={})=>i.ZP.post(`${i.tW}/payments/pay`,e).then((e=>e.data)),c=e=>request.post(`${apiVersion}/payments/cards`,e).then((e=>e.data)),l=(e,t)=>i.ZP.put(`${i.tW}/payments/cards/${e}`,t).then((e=>e.data)),u=()=>i.ZP.get(`${i.tW}/payments/cards`).then((e=>e.data)),m=e=>request.get(`${apiVersion}/payments/cards-vat${buildQuery(e)}`).then((e=>e.data)),h=(e={},t)=>i.ZP.get(`${i.tW}/payments/methods-vat${(0,i.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),f=({limit:e=i.P9,marker:t,type:s,dateFrom:a,dateTo:r}={})=>i.ZP.get(`${i.tW}/payments/all/transactions${(0,i.XP)({limit:e,marker:t,type:s,date_from:a,date_to:r})}`).then((e=>e.data)),p=()=>i.ZP.get(`${i.tW}/payments/all/has-transactions`).then((e=>e.data)),g=(e={})=>i.ZP.get(`${i.tW}/payments/token/ccbill${(0,i.XP)(e)}`).then((e=>e.data)),y=()=>request.get(`${apiVersion}/payments/token/optile`).then((e=>e.data)),v=e=>{const t=store.getters["init/getInit"],s=_get(t,"cards.inovio.proxyHost"),a=`${s?`https://${s}`:""}${apiVersion}/payments/proxy/inovio`;return request.post(a,e).then((e=>e.data))},S=e=>request.post(`${apiVersion}/payments/proxy/emerchantpay`,e).then((e=>e.data)),P=(e,t)=>i.ZP.post(e,t),w=e=>i.ZP.put(`${i.tW}/payments/cards/${e}/default`).then((e=>e.data)),b=e=>i.ZP.delete(`${i.tW}/payments/cards/${e}`).then((e=>e.data)),I=(e,t,s,a)=>{const r=new FormData;return a?r.append("fileBase64",a):s&&r.append("files[]",s,s.name),i.ZP.post(`${e}payments/scan-card`,r,{headers:{post:{Authorization:`Bearer ${t}`}}}).then((e=>e.data))},k=()=>i.ZP.get(`${i.tW}/alternative-payment-methods`).then((e=>e.data)),C=(e={})=>i.ZP.get(`${i.tW}/alternative-payment-methods/form${(0,i.XP)(e)}`).then((e=>e.data)),T=(e={})=>i.ZP.post(`${i.tW}/alternative-payment-methods/form`,e).then((e=>e.data)),L=e=>i.ZP.post(`${i.tW}/alternative-payment-methods/pay`,e).then((e=>e.data)),M=e=>i.ZP.delete(`${i.tW}/alternative-payment-methods`,{data:{id:e}}).then((e=>e.data)),$=(e,t={})=>i.ZP.post(`${i.tW}/payments/cards/${e}/verify`,t).then((e=>e.data))},865273:function(e,t,s){"use strict";s.d(t,{$m:function(){return c},$p:function(){return f},E8:function(){return u},Ee:function(){return p},Gw:function(){return g},Ju:function(){return v},K3:function(){return E},K4:function(){return k},KE:function(){return L},M5:function(){return d},Nb:function(){return h},Nl:function(){return F},Nv:function(){return l},PF:function(){return I},Rp:function(){return _},U7:function(){return y},Uf:function(){return D},Xj:function(){return T},_5:function(){return S},eq:function(){return m},gG:function(){return b},k7:function(){return A},l8:function(){return w},mG:function(){return C},n1:function(){return P},nj:function(){return M},yx:function(){return $}});var a=s(406557),r=s.n(a),i=s(535937),n=s.n(i),o=s(990733);const d=({limit:e=o.P9,marker:t}={})=>o.ZP.get(`${o.tW}/payouts/transactions${(0,o.XP)({limit:e,marker:t})}`).then((e=>e.data)),c=(e=!1)=>o.ZP.get(`${o.tW}/payouts/balances${e?"/stripe":""}`).then((e=>e.data)),l=(e,t,s)=>o.ZP.get(`${o.tW}/payouts/stats${(0,o.XP)({startDate:e,endDate:t,timeZone:s})}`).then((e=>e.data)),u=(e={})=>o.ZP.get(`${o.tW}/payouts/requests${(0,o.XP)(e)}`).then((e=>e.data)),m=(e={})=>o.ZP.get(`${o.tW}/payouts/requests/stripe${(0,o.XP)(n()(e,r()))}`).then((e=>e.data)),h=({withdrawalPeriod:e,isStripe:t=!1}={})=>o.ZP.patch(`${o.tW}/payouts/requests${t?"/stripe":""}`,{withdrawalPeriod:e}).then((e=>e.data)),f=e=>o.ZP.post(`${o.tW}/payouts/requests`,{withdrawal_amount:e}).then((e=>e.data)),p=({data:e})=>o.ZP.post(`${o.tW}/payouts/w9`,e).then((e=>e.data)),g=e=>o.ZP.post(`${o.tW}/payouts/tin`,{tin:e}).then((e=>e.data)),y=(e={})=>o.ZP.post(`${o.tW}/payouts/w9/tincheck`,e).then((e=>e.data)),v=({limit:e=o.P9,...t}={})=>o.ZP.get(`${o.tW}/payouts/disputes${(0,o.XP)({limit:e,...t})}`).then((e=>e.data)),S=()=>o.ZP.get(`${o.tW}/payouts/check-receive/`).then((e=>e.data)),P=e=>o.ZP.post(`${o.tW}/payouts/vat`,{vat:e}).then((e=>e.data)),w=e=>o.ZP.post(`${o.tW}/payouts/vat-requests`,{...e}).then((e=>e.data)),b=()=>o.ZP.get(`${o.tW}/payouts/vat`).then((e=>e.data)),I=(e={})=>o.ZP.get(`${o.tW}/payouts/requests/vat-documents${(0,o.XP)(e)}`).then((e=>e.data)),k=e=>o.ZP.get(`${o.tW}/payouts/requests/vat/${e}`).then((e=>e.data)),C=(e={})=>o.ZP.get(`${o.tW}/payouts/vat-invoice${(0,o.XP)(e)}`).then((e=>e.data)),T=({year:e,month:t,amount:s}={})=>o.ZP.get(`${o.tW}/payouts/download/vat-invoice${(0,o.XP)({invoiceYear:e,invoiceMonth:t,creatorVatAmount:s})}`).then((e=>e.data)),L=e=>o.ZP.get(`${o.tW}/payouts/download/vat/${e}`).then((e=>e.data)),M=()=>o.ZP.get(`${o.tW}/payouts/vats`).then((e=>e.data)),$=()=>o.ZP.delete(`${o.tW}/payouts/vat`).then((e=>e.data)),A=(e={})=>o.ZP.get(`${o.tW}/payouts/w9/address${(0,o.XP)(e)}`).then((e=>e.data)),_=e=>o.ZP.post(`${o.tW}/payouts/w9/address`,e).then((e=>e.data)),F=()=>o.ZP.get(`${o.tW}/payouts/can-add-vat-documents`).then((e=>e.data)),E=({limit:e=o.P9,...t}={})=>o.ZP.get(`${o.tW}/payouts/chargebacks${(0,o.XP)({limit:e,...t})}`).then((e=>e.data)),D=e=>o.ZP.get(`${o.tW}/iv/yoti-redirect-url/${e}`).then((e=>e.data))},547732:function(e,t,s){"use strict";s.d(t,{HH:function(){return o},He:function(){return d},KZ:function(){return i},f9:function(){return r},ov:function(){return c},wq:function(){return n}});var a=s(990733);const r=()=>a.ZP.get(`${a.tW}/helpers`).then((e=>e.data)),i=e=>a.ZP.get(`${a.tW}/helpers/${e}`).then((e=>e.data)),n=()=>a.ZP.get(`${a.tW}/helpers/permissions`).then((e=>e.data)),o=(e,t=[])=>a.ZP.post(`${a.tW}/helpers/${e}`,{permissions:t}).then((e=>e.data)),d=e=>a.ZP.post(`${a.tW}/users/login-as-helper/${e}`).then((e=>e.data)),c=()=>a.ZP.post(`${a.tW}/users/helper-logout`).then((e=>e.data))},849344:function(e,t,s){"use strict";s.d(t,{$C:function(){return n},A$:function(){return w},Cs:function(){return m},F3:function(){return S},GX:function(){return b},Gi:function(){return p},HG:function(){return k},Jq:function(){return r},RD:function(){return f},XX:function(){return d},Z1:function(){return I},_D:function(){return L},aF:function(){return C},b0:function(){return T},fR:function(){return g},j7:function(){return $},jp:function(){return v},lT:function(){return h},ov:function(){return i},qb:function(){return y},u_:function(){return o},w8:function(){return c},wr:function(){return P},wy:function(){return u},xZ:function(){return l},yI:function(){return M}});var a=s(990733);const r=({offset:e,limit:t=a.P9,query:s,cancelToken:r,beforePublishTime:i,afterPublishTime:n,headMarker:o,tailMarker:d,listId:c,listType:l,onlyCanView:u,sort:m}={})=>{const h=!(!c||l);let f={limit:t,["paid"!==c?"query":"user_id"]:"paid"===c?s&&encodeURIComponent(s):s,skip_users:"all",format:"infinite",list_id:h?void 0:c,sort:m};return f=h?{...f,offset:e}:{...f,beforePublishTime:i,afterPublishTime:n,only_can_view:u},(o||d)&&(delete f.offset,f={...f,headMarker:o,tailMarker:d}),a.ZP.get(`${a.tW}/posts${h?"/"+c:""}${(0,a.XP)(f)}`,{cancelToken:r}).then((e=>e.data))},i=({listId:e,offset:t=0,limit:s=a.P9,query:r,filter:i,order:n,type:o,cancelToken:d}={})=>a.ZP.get(`${a.tW}/lists/${e}/posts${(0,a.XP)({offset:t,limit:s,filter:i,order:n,query:r,type:o})}`,{cancelToken:d}).then((e=>e.data)),n=({id:e,query:t,order:s,filter:r,postType:i,limit:n=a.P9,offset:o=0,format:d="infinite"}={},c)=>{let l=`${a.tW}/posts/bookmarks`;"all"===e&&"all"===i||(l=`${l}/${i}/${e}`);const u=undefined;return l=`${l}${(0,a.XP)({format:d,limit:n,offset:o,query:t,order:s,filter:r})}`,a.ZP.get(l,{cancelToken:c}).then((e=>e.data))},o=e=>a.ZP.get(`${a.tW}/posts/${e}?skip_users=all`).then((e=>e.data)),d=(e,t)=>a.ZP.put(`${a.tW}/posts/${e}`,t).then((e=>e.data)),c=({id:e,limit:t=a.P9,offset:s=0})=>a.ZP.get(`${a.tW}/posts/${e}/comments${(0,a.XP)({limit:t,offset:s,sort:"desc",skip_users:"all"})}`).then((e=>e.data)),l=({id:e,authorId:t})=>a.ZP.post(`${a.tW}/posts/${e}/favorites/${t}`).then((e=>e.data)),u=e=>a.ZP.post(`${a.tW}/posts/${e}/pin?format=status`).then((e=>e.data)),m=({id:e,...t})=>a.ZP.post(`${a.tW}/posts/${e}/comments`,t).then((e=>e.data)),h=({data:e,url:t})=>a.ZP.post(t,e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>e.data)),f=e=>a.ZP.delete(`${e}`).then((e=>e.data)),p=(e,t)=>a.ZP.post(`${a.tW}/posts/${e}/vote`,{optionId:t}).then((e=>e.data)),g=e=>a.ZP.delete(`${a.tW}/posts/${e}`).then((e=>e.data)),y=e=>a.ZP.post(`${a.tW}/posts`,e).then((e=>e.data)),v=e=>a.ZP.put(`${a.tW}/posts/${e}/hide`).then((e=>e.data)),S=({postId:e,offset:t})=>a.ZP.get(`${a.tW}/posts/${e}/favorites${(0,a.XP)({limit:a.P9,offset:t})}`).then((e=>e.data)),P=({postId:e,offset:t})=>a.ZP.get(`${a.tW}/posts/${e}/tips${(0,a.XP)({limit:a.P9,offset:t})}`).then((e=>e.data)),w=({postId:e,add:t=!0,query:s={}})=>a.ZP.post(`${a.tW}/posts/${e}/${t?"":"un"}archive${(0,a.XP)(s)}`).then((e=>e.data)),b=(e,t)=>a.ZP.post(`${a.tW}/posts/${e}/bookmarks/${t}`).then((e=>e.data)),I=e=>a.ZP.delete(`${a.tW}/posts/${e}/bookmarks`).then((e=>e.data)),k=e=>a.ZP.get(`${a.tW}/posts/${e}/fund-raising-contributors/count`).then((e=>e.data)),C=e=>a.ZP.post(`${a.tW}/posts/stats-collect`,{actions:e}).then((e=>e.data)),T=e=>a.ZP.post(`${a.tW}/posts/pinned/sort?format=ids`,{order:e}).then((e=>e.data)),L=({postId:e,offset:t})=>a.ZP.get(`${a.tW}/posts/${e}/buyers${(0,a.XP)({limit:a.P9,offset:t})}`).then((e=>e.data)),M=({postId:e,optionId:t,...s})=>a.ZP.get(`${a.tW}/posts/${e}/voters${t?`/${t}`:""}${(0,a.XP)({limit:a.P9,...s})}`).then((e=>e.data)),$=e=>a.ZP.get(`${a.tW}/posts/login${(0,a.XP)({...e,skip_users:"all"})}`).then((e=>e.data))},201505:function(e,t,s){"use strict";s.d(t,{DE:function(){return l},PK:function(){return o},S4:function(){return n},aC:function(){return c},kb:function(){return r},pc:function(){return d},uH:function(){return u},yK:function(){return i}});var a=s(990733);const r=e=>a.ZP.post(`${a.tW}/promotions`,e).then((e=>e.data)),i=e=>a.ZP.post(`${a.tW}/promotions/${e}/finish`).then((e=>e.data)),n=e=>a.ZP.delete(`${a.tW}/promotions/${e}`).then((e=>e.data)),o=e=>a.ZP.post(`${a.tW}/promotions/invite`,e).then((e=>e.data)),d=({limit:e=a.P9,offset:t=0,cancelToken:s,...r}={})=>a.ZP.get(`${a.tW}/promotions/offers${(0,a.XP)({limit:e,offset:t,skip_users:"all",...r})}`,{cancelToken:s}).then((e=>e.data)),c=()=>a.ZP.delete(`${a.tW}/promotions/offers`).then((e=>e.data)),l=e=>a.ZP.delete(`${a.tW}/promotions/offer/${e}`).then((e=>e.data)),u=()=>a.ZP.post(`${a.tW}/promotions/offers/hide`).then((e=>e.data))},527557:function(e,t,s){"use strict";s.d(t,{$d:function(){return r},Hh:function(){return n},K$:function(){return c},dc:function(){return o},eZ:function(){return i},iF:function(){return d}});var a=s(990733);const r=(e={})=>a.ZP.get(`${a.tW}/users/referrals${(0,a.XP)(e)}`).then((e=>e.data)),i=(e={})=>a.ZP.get(`${a.tW}/users/referrals/count${(0,a.XP)(e)}`).then((e=>e.data)),n=()=>a.ZP.get(`${a.tW}/payments/referrals/balance`).then((e=>e.data)),o=(e={})=>a.ZP.get(`${a.tW}/payouts/requests/referral${(0,a.XP)(e)}`).then((e=>e.data)),d=({phone:e,type:t="user"})=>a.ZP.post(`${a.tW}/sms/invite/${t}`,{phone:e}).then((e=>e.data)),c=()=>a.ZP.get(`${a.tW}/sms/templates`).then((e=>e.data))},248556:function(e,t,s){"use strict";s.d(t,{HP:function(){return g},Qo:function(){return l},U9:function(){return p},Xz:function(){return h},e0:function(){return m},f3:function(){return r},fg:function(){return n},ku:function(){return o},lJ:function(){return c},ln:function(){return u},qR:function(){return y},uT:function(){return i},uj:function(){return d},wf:function(){return v},yY:function(){return f}});var a=s(990733);const r=(e,t)=>a.ZP.get(`${a.tW}/release-form-links/${e}${(0,a.XP)(t)}`).then((e=>e.data)),i=(e,t)=>a.ZP.post(`${a.tW}/release-form-links/${e}/guest${(0,a.XP)(t)}`).then((e=>e.data)),n=e=>a.ZP.post(`${a.tW}/release-form-links/${e}/start`).then((e=>e.data)),o=e=>a.ZP.post(`${a.tW}/release-form-links/${e}/url`).then((e=>e.data)),d=e=>a.ZP.post(`${a.tW}/release-form-documents`,e).then((e=>e.data)),c=e=>a.ZP.post(`${a.tW}/release-forms/attach`,e).then((e=>e.data)),l=(e,t)=>a.ZP.get(`${a.tW}/posts/tagged-friend-users${(0,a.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),u=e=>a.ZP.post(`${a.tW}/release-form-links`,e).then((e=>e.data)),m=(e,t)=>a.ZP.get(`${a.tW}/release-forms${(0,a.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),h=e=>a.ZP.patch(`${a.tW}/release-forms/rename`,e).then((e=>e.data)),f=e=>a.ZP.patch(`${a.tW}/release-forms/toggle-show`,e).then((e=>e.data)),p=(e={},t)=>{const s=undefined;return(t?a.ZP.patch:a.ZP.post)(`${a.tW}/guests/${t||""}`,e).then((e=>e.data))},g=e=>a.ZP.post(`${a.tW}/guests/${e}/assign`).then((e=>e.data)),y=e=>a.ZP.get(`${a.tW}/release-forms/mentions${(0,a.XP)(e)}`).then((e=>e.data)),v=e=>a.ZP.get(`${a.tW}/guests/${e}`).then((e=>e.data))},481274:function(e,t,s){"use strict";s.d(t,{Fr:function(){return d},Is:function(){return i},Pj:function(){return r},lB:function(){return n},sg:function(){return o}});var a=s(990733);const r=()=>a.ZP.get(`${a.tW}/reports/reasons`).then((e=>e.data)),i=()=>a.ZP.get(`${a.tW}/reports/abuse-options`).then((e=>e.data)),n=({id:e,type:t,data:s={}}={})=>a.ZP.post(`${a.tW}/${"story"===t?"stories":`${t}s`}/${e}/report`,s).then((e=>e.data)),o=()=>a.ZP.get(`${a.tW}/unsubscribe/reasons`).then((e=>e.data)),d=(e={})=>a.ZP.post(`${a.tW}/users/appeal`,e).then((e=>e.data))},596012:function(e,t,s){"use strict";s.d(t,{F4:function(){return m},HC:function(){return c},PF:function(){return u},SM:function(){return l},o6:function(){return d},vw:function(){return h}});var a=s(990733),r=s(727484),i=s.n(r),n=s(629387),o=s.n(n);i().extend(o());const d=({params:e={},cancelToken:t})=>a.ZP.get(`${a.tW}/schedules${(0,a.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),c=({params:e={},cancelToken:t})=>a.ZP.get(`${a.tW}/schedules/counters${(0,a.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),l=({params:e={}})=>{const{limit:t=30}=e;return a.ZP.get(`${a.tW}/schedules/later${(0,a.XP)({...e,limit:t})}`).then((e=>e.data))},u=e=>a.ZP.put(`${a.tW}/schedules/${e}/publish`).then((e=>e.data)),m=()=>a.ZP.get(`${a.tW}/schedules${(0,a.XP)({"filter[type][0]":"stream",limit:1,"filter[timeZone]":i()().format("Z")})}`).then((e=>e.data)),h=(e={})=>a.ZP.get(`${a.tW}/streams/reminder${(0,a.XP)(e)}`).then((e=>e.data))},617875:function(e,t,s){"use strict";s.d(t,{Ei:function(){return d},F2:function(){return c},G:function(){return n},Hp:function(){return o},Hz:function(){return h},Wj:function(){return p},Xg:function(){return g},Yx:function(){return i},Z5:function(){return f},Zt:function(){return u},_p:function(){return l},ar:function(){return y},ox:function(){return r},vY:function(){return m}});var a=s(990733);const r=()=>a.ZP.get(`${a.tW}/countries?all=1`).then((e=>e.data)),i=e=>a.ZP.get(`${a.tW}/countries/${e}/states`).then((e=>e.data)),n=e=>a.ZP.get(`${a.tW}/iso/countries/${e}/states`).then((e=>e.data)),o=({countryId:e,search:t="",state:s=""})=>a.ZP.get(`${a.tW}/countries/${e}/address${(0,a.XP)({search:t,state:s})}`).then((e=>e.data)),d=()=>a.ZP.post(`${a.tW}/users/me/settings/api-tokens`).then((e=>e.data)),c=e=>a.ZP.delete(`${a.tW}/users/me/settings/api-tokens/${e}`).then((e=>e.data)),l=e=>a.ZP.post(`${a.tW}/messages/templates/reply_on_subscribe`,e).then((e=>e.data)),u=()=>a.ZP.get(`${a.tW}/messages/templates`).then((e=>e.data)),m=e=>a.ZP.delete(`${a.tW}/messages/templates/${e}`).then((e=>e.data)),h=e=>a.ZP.patch(`${a.tW}/users/me/settings/messages`,e).then((e=>e.data)),f=e=>a.ZP.post(`${a.tW}/emails/change`,e).then((e=>e.data)),p=()=>a.ZP.delete(`${a.tW}/emails/change`).then((e=>e.data)),g=e=>a.ZP.get(`${a.tW}/users/settings/notifications/${e}?group=1`).then((e=>e.data)),y=e=>a.ZP.delete(`${a.tW}/streams/obs/key${(0,a.XP)({type:e})}`).then((e=>e.data))},483190:function(e,t,s){"use strict";s.d(t,{$d:function(){return o},JT:function(){return l},MO:function(){return u},U1:function(){return i},Zo:function(){return c},mp:function(){return r},q6:function(){return n},tf:function(){return d}});var a=s(990733);const r=e=>a.ZP.post(`${a.tW}/users/social/spotify`,e).then((e=>e.data)),i=e=>a.ZP.get(`${a.tW}/users${e?`/${e}`:""}/social/spotify`).then((e=>e.data)),n=()=>a.ZP.get(`${a.tW}/users/social/spotify/top`).then((e=>e.data)),o=()=>a.ZP.get(`${a.tW}/users/social/spotify/top/artists`).then((e=>e.data)),d=e=>a.ZP.put(`${a.tW}/users/social/spotify/artists`,{topArtistsIds:e}).then((e=>e.data)),c=()=>a.ZP.get(`${a.tW}/users/social/spotify/top/tracks`).then((e=>e.data)),l=e=>a.ZP.put(`${a.tW}/users/social/spotify/anthem`,{anthemId:e}).then((e=>e.data)),u=e=>a.ZP.get(`${a.tW}/users/social/spotify/search${(0,a.XP)({query:e})}`).then((e=>e.data))},354487:function(e,t,s){"use strict";s.d(t,{L5:function(){return r},Ul:function(){return n},hz:function(){return i},yC:function(){return o}});var a=s(990733);const r=e=>a.ZP.get(`${a.tW}/pages/${e}${"faq"===e?"?help=1":""}`,{"axios-retry":{retries:1}}).then((e=>e.data)),i=e=>a.ZP.post(`${a.tW}/pages/contacts`,e).then((e=>e.data)),n=e=>a.ZP.post(`${a.tW}/legal-inquiry`,e).then((e=>e.data)),o=e=>a.ZP.get(`${a.tW}/pages/faq${(0,a.XP)({query:e,help:1})}`).then((e=>e.data))},749832:function(e,t,s){"use strict";s.d(t,{Af:function(){return h},Bd:function(){return p},Cb:function(){return i},DZ:function(){return r},EB:function(){return n},H:function(){return b},IA:function(){return f},ON:function(){return m},UU:function(){return v},WL:function(){return d},ZO:function(){return C},d_:function(){return g},gm:function(){return u},ix:function(){return k},j6:function(){return I},ke:function(){return P},oh:function(){return w},qn:function(){return c},sd:function(){return S},wJ:function(){return y},x4:function(){return o},xg:function(){return l}});var a=s(990733);const r=e=>a.ZP.post(`${a.tW}/stories`,e).then((e=>e.data)),i=e=>a.ZP.get(`${a.tW}/users/me/stories`,{cancelToken:e}).then((e=>e.data)),n=(e={},t)=>a.ZP.get(`${a.tW}/stories${(0,a.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),o=e=>a.ZP.get(`${a.tW}/stories/${e}`).then((e=>e.data)),d=e=>a.ZP.get(`${a.tW}/stories/archive${(0,a.XP)({limit:12,offset:e,format:"infinite"})}`).then((e=>e.data)),c=e=>a.ZP.get(`${a.tW}/users/${e}/stories`).then((e=>e.data)),l=e=>a.ZP.put(`${a.tW}/stories/${e}/watched`).then((e=>e.data)),u=e=>a.ZP.delete(`${a.tW}/stories/${e}`).then((e=>e.data)),m=e=>a.ZP.post(`${a.tW}/stories/${e}/like`).then((e=>e.data)),h=e=>a.ZP.delete(`${a.tW}/stories/${e}/like`).then((e=>e.data)),f=({userId:e,offset:t=0,limit:s=10,storyIdToCheck:r=null})=>a.ZP.get(`${a.tW}/users/${e}/stories/highlights${(0,a.XP)({limit:s,offset:t,storyIdToCheck:r})}`).then((e=>e.data)),p=e=>a.ZP.get(`${a.tW}/stories/highlights/${e}`).then((e=>e.data)),g=e=>a.ZP.delete(`${a.tW}/stories/highlights/${e}`).then((e=>e.data)),y=e=>a.ZP.post(`${a.tW}/stories/highlights`,e).then((e=>e.data)),v=(e,t)=>a.ZP.patch(`${a.tW}/stories/highlights/${e}`,t).then((e=>e.data)),S=e=>a.ZP.put(`${a.tW}/stories/highlights/${e.id}`,e).then((e=>e.data)),P=()=>a.ZP.get(`${a.tW}/stories/users/blocked`).then((e=>e.data)),w=e=>a.ZP.post(`${a.tW}/stories/users/${e}/block`).then((e=>e.data)),b=e=>a.ZP.delete(`${a.tW}/stories/users/${e}/block`).then((e=>e.data)),I=(e,t)=>a.ZP.post(`${a.tW}/stories/${e}/answer`,t).then((e=>e.data)),k=({storyId:e,offset:t=0,limit:s=8,cancelToken:r})=>a.ZP.get(`${a.tW}/stories/${e}/answer${(0,a.XP)({limit:s,offset:t})}`,{cancelToken:r}).then((e=>e.data)),C=e=>a.ZP.delete(`${a.tW}/stories/answer/${e}`).then((e=>e.data))},408481:function(e,t,s){"use strict";s.d(t,{$1:function(){return W},$n:function(){return D},AP:function(){return b},At:function(){return H},Bd:function(){return R},CI:function(){return A},EC:function(){return U},Jc:function(){return M},Jz:function(){return w},K8:function(){return B},Km:function(){return C},NB:function(){return $},Nt:function(){return _},QH:function(){return p},QM:function(){return y},T0:function(){return P},TJ:function(){return Z},UD:function(){return v},W7:function(){return j},WH:function(){return S},_K:function(){return O},a9:function(){return L},d7:function(){return N},dM:function(){return q},f4:function(){return I},fI:function(){return g},ip:function(){return F},jI:function(){return k},m8:function(){return V},mJ:function(){return E},ml:function(){return T},pL:function(){return x},z:function(){return f}});var a=s(436968),r=s.n(a),i=s(227361),n=s.n(i),o=s(838862),d=s.n(o),c=s(21703),l=s.n(c),u=s(990733),m=s(734416);const h=()=>{if(window.streamModule)try{return{width:window.streamModule.videoVars.track.getSettings().width,height:window.streamModule.videoVars.track.getSettings().height}}catch(e){console.warn(e)}},f=async(e=[])=>{const t=await u.ZP.get(`${u.tW}/streams/ms_service${(0,u.XP)({data:JSON.stringify({streamtype:e,type:"get.streamer.server.list-all"})})}`);return n()(t,"data.Message.ServerList",{})},p=async(e=m.default.defaultStreamType.agora,t=[])=>{let s;"agora_direct"===e&&(s=h()),window.preferredServer&&(t=[window.preferredServer]);const a={streamtype:e,sbp:!0,preferred_servers:t,video_resolution:s};return"string"==typeof window.streamingTranscoderVersion&&r()(a,"extra_stream_settings.transcoder_version",window.streamingTranscoderVersion),u.ZP.get(`${u.tW}/streams/url${(0,u.XP)({extension:JSON.stringify(a)})}`)},g=(e,t=m.default.defaultStreamType.agora,s=[])=>{let a;return"agora_direct"===t&&(a=h()),window.preferredServer&&(s=[window.preferredServer]),u.ZP.get(`${u.tW}/streams/${e}/url${(0,u.XP)({extension:JSON.stringify({streamtype:t,sbp:!0,preferred_servers:s,video_resolution:a})})}`)},y=(e,t="webrtc",s=[])=>{if(!e)throw new Error("userId is not defined");window.preferredServer&&(s=[window.preferredServer]);const a={streamtype:t,sbp:!0,preferred_servers:s};return["hls","llhls"].includes(t)&&window.viewModule[e]&&(a.hls_player=viewModule[e].driver.isHlsNativeSupported()?"hls.native":"hls.js"),"string"==typeof window.streamingTranscoderVersion&&(a.extra_stream_settings={transcoder_version:window.streamingTranscoderVersion}),u.ZP.get(`${u.tW}/users/${e}/streams/active/url${(0,u.XP)({extension:JSON.stringify(a)})}`).then((e=>e.data))},v=(e,t=!1)=>{if(!e)throw new Error("userId is not defined");return u.ZP.get(`${u.tW}/users/${e}/streams/active${(0,u.XP)({view:t?"full_with_check":"full"})}`).then((e=>e.data))},S=e=>u.ZP.post(`${u.tW}/streams`,e).then((e=>e.data)),P=e=>u.ZP.patch(`${u.tW}/streams/${e.id}`,e).then((e=>e.data)),w=e=>u.ZP.post(`${u.tW}/streams`,e).then((e=>e.data)),b=(e,t)=>{if(!e)throw new Error("streamId is not defined");return u.ZP.put(`${u.tW}/streams/${e}/finish`,t).then((e=>e.data))},I=()=>u.ZP.delete(`${u.tW}/streams`).then((e=>e.data)),k=({streamId:e,data:t})=>{if(!e)throw new Error("streamId is not defined");return u.ZP.patch(`${u.tW}/streams/${e}`,t).then((e=>e.data))},C=(e={})=>u.ZP.get(`${u.tW}/streams/active${(0,u.XP)(e)}`).then((e=>e.data)),T=()=>u.ZP.get(`${u.tW}/streams/has-active`).then((e=>e.data)),L=({id:e,withChart:t=!0,countersOnly:s},a)=>{if(!e)throw new Error("streamId is not defined");const r={countersOnly:s,withChart:t};return u.ZP.get(`${u.tW}/streams/${e}/stats${(0,u.XP)(r)}`,{cancelToken:a}).then((e=>e.data))},M=({streamId:e,...t})=>{if(!e)throw new Error("streamId is not defined");return u.ZP.put(`${u.tW}/streams/${e}/make-post`,{id:e,...t}).then((e=>e.data))},$=e=>{if(!e)throw new Error("streamId is not defined");return u.ZP.get(`${u.tW}/streams/${e}/covers`).then((e=>e.data))},A=(e,t)=>{if(!e)throw new Error("streamId is not defined");return u.ZP.put(`${u.tW}/streams/${e}/cover`,t).then((e=>e.data))},_=({streamId:e,userId:t,ban:s=!1})=>{if(!e||!t)throw new Error("streamId or userId is not defined");return u.ZP.post(`${u.tW}/streams/${e}/block`,{userId:t,isPermanent:s}).then((e=>e.data))},F=({streamId:e,limit:t=u.P9,offset:s=0,query:a=""})=>{if(!e)throw new Error("streamId is not defined");const r={limit:t};return s&&(r.offset=s),a&&(r.query=a),u.ZP.get(`${u.tW}/streams/${e}/viewers${(0,u.XP)(r)}`).then((e=>e.data))},E=({streamId:e})=>{if(!e)throw new Error("joinDualStreamRequest: streamId is not defined");return u.ZP.post(`${u.tW}/streams/${e}/join`).then((e=>e.data))},D=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("acceptDualStreamRequest: streamId or userId is not defined");return u.ZP.post(`${u.tW}/streams/${e}/users/${t}/accept`).then((e=>e.data))},U=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("declineDualStreamRequest: streamId or userId is not defined");return u.ZP.post(`${u.tW}/streams/${e}/users/${t}/decline`).then((e=>e.data))},R=e=>{if(!e)throw new Error("streamId is not defined");return u.ZP.post(`${u.tW}/streams/${e}/look`).then((e=>e.data))},O=e=>{if(!e)throw new Error("streamId is not defined");return u.ZP.delete(`${u.tW}/streams/${e}/look`).then((e=>e.data))},x=(e,t)=>{if(!e)throw new Error("streamId is not defined");return u.ZP.post(`${u.tW}/streams/${e}/like`,t).then((e=>e.data))},B=(e,t,s)=>{if(!e)throw new Error("streamId is not defined");const a={comment:t};return s&&(a.userId=s),u.ZP.post(`${u.tW}/streams/${e}/comments`,a).then((e=>e.data))},j=(e,{id:t,limit:s=u.P9}={})=>{if(!e)throw new Error("streamId is not defined");return u.ZP.get(`${u.tW}/streams/${e}/comments${(0,u.XP)({id:t,limit:s})}`).then((e=>e.data))},W=({includeUserListIds:e="",excludeUserListIds:t="",scheduledSubscribedOn:s="",subscribersIds:a=""}={})=>u.ZP.get(`${u.tW}/streams/users/count${(0,u.XP)({includeUserListIds:e,excludeUserListIds:t,scheduledSubscribedOn:s,subscribersIds:a})}`).then((e=>e.data)),Z=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("streamId or userId is not defined");return u.ZP.put(`${u.tW}/streams/${e}/users/${t}/helper`).then((e=>e.data))},q=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("streamId or userId is not defined");return u.ZP.delete(`${u.tW}/streams/${e}/users/${t}/helper`).then((e=>e.data))},N=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("inviteDualStream: streamId or userId is not defined");const s=`${u.tW}/streams/${e}/users/${t}/invite`;return u.ZP.post(s).then((e=>e.data))},V=({streamId:e})=>{if(!e)throw new Error("acceptDualStreamInvite: streamId is not defined");const t=`${u.tW}/streams/${e}/accept`;return u.ZP.post(t).then((e=>e.data))},H=({streamId:e})=>{if(!e)throw new Error("declineDualStreamInvite: streamId is not defined");const t=`${u.tW}/streams/${e}/decline`;return u.ZP.post(t).then((e=>e.data))}},629857:function(e,t,s){"use strict";s.d(t,{$b:function(){return d},$u:function(){return n},PC:function(){return i},SA:function(){return c},xf:function(){return r},ye:function(){return o}});var a=s(990733);const r=(e={},t)=>a.ZP.get(`${a.tW}/streams/feed${(0,a.XP)({limit:10,...e})}`,{cancelToken:t}).then((e=>e.data)),i=e=>a.ZP.get(`${a.tW}/streams/${e}/events`).then((e=>e.data)),n=e=>a.ZP.get(`${a.tW}/streams/${e}`).then((e=>e.data)),o=e=>a.ZP.delete(`${a.tW}/streams/${e}`).then((e=>e.data)),d=e=>a.ZP.post(`${a.tW}/streams/${e}/reminder`).then((e=>e.data)),c=e=>a.ZP.delete(`${a.tW}/streams/${e}/reminder`).then((e=>e.data))},76816:function(e,t,s){"use strict";s.d(t,{El:function(){return F},Fu:function(){return o},Ge:function(){return _},IE:function(){return M},IK:function(){return v},Iz:function(){return l},JR:function(){return i},PK:function(){return g},Uo:function(){return T},Vb:function(){return A},W3:function(){return r},_8:function(){return n},_z:function(){return y},bO:function(){return S},dl:function(){return h},eT:function(){return $},et:function(){return P},gM:function(){return u},gU:function(){return C},gr:function(){return f},i2:function(){return w},jP:function(){return p},l$:function(){return I},mf:function(){return d},mk:function(){return b},qT:function(){return k},tY:function(){return m},x$:function(){return c},y:function(){return L}});var a=s(990733);const r=e=>a.ZP.post(`${a.tW}/users/${e}/restrict`).then((e=>e.data)),i=e=>a.ZP.delete(`${a.tW}/users/${e}/restrict`).then((e=>e.data)),n=e=>a.ZP.put(`${a.tW}/subscriptions/${e}/hide-posts`).then((e=>e.data)),o=e=>a.ZP.delete(`${a.tW}/subscriptions/${e}/hide-posts`).then((e=>e.data)),d=(e={},t)=>(e.limit=e.limit||a.P9,e.offset=e.offset||0,e.format="infinite",a.ZP.get(`${a.tW}/subscriptions/subscribes${(0,a.XP)(e)}`,{cancelToken:t}).then((e=>e.data))),c=()=>a.ZP.get(`${a.tW}/subscriptions/count/all`).then((e=>e.data)),l=(e,t)=>a.ZP.get(`${a.tW}/subscriptions/subscribers/count${(0,a.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),u=e=>a.ZP.get(`${a.tW}/subscriptions/subscribes/count${(0,a.XP)(e)}`).then((e=>e.data)),m=({limit:e=a.P9,offset:t=0,...s}={},r)=>a.ZP.get(`${a.tW}/subscriptions/subscribers${(0,a.XP)({limit:e,offset:t,format:"infinite",...s})}`,{cancelToken:r}).then((e=>e.data)),h=({limit:e=a.P9,offset:t=0,filter:s}={})=>a.ZP.get(`${a.tW}/subscriptions/subscribers/awards${(0,a.XP)({limit:e,offset:t,filter:s})}`).then((e=>e.data)),f=({id:e,discount:t=0,period:s=1}={})=>a.ZP.put(`${a.tW}/subscriptions/${e}/discount`,{discount:t,period:s}).then((e=>e.data)),p=(e={})=>a.ZP.post(`${a.tW}/campaigns`,e).then((e=>e.data)),g=e=>a.ZP.post(`${a.tW}/campaigns/transition`,e).then((e=>e.data)),y=({limit:e=a.P9,offset:t=0,...s}={})=>a.ZP.get(`${a.tW}/campaigns${(0,a.XP)({limit:e,offset:t,pagination:1,...s})}`).then((e=>e.data)),v=({filter:e={clicks:"clicks",claims:"claims"},...t}={})=>a.ZP.get(`${a.tW}/campaigns/chart${(0,a.XP)({filter:e,...t})}`).then((e=>e.data)),S=e=>a.ZP.delete(`${a.tW}/campaigns/${e}`).then((e=>e.data)),P=({id:e,...t})=>a.ZP.get(`${a.tW}/campaigns/${e}/claimers${(0,a.XP)(t)}`).then((e=>e.data)),w=(e={})=>a.ZP.post(`${a.tW}/trials`,e).then((e=>e.data)),b=({limit:e=a.P9,offset:t=0,...s}={})=>a.ZP.get(`${a.tW}/trials${(0,a.XP)({limit:e,offset:t,pagination:1,...s})}`).then((e=>e.data)),I=e=>a.ZP.delete(`${a.tW}/trials/${e}`).then((e=>e.data)),k=({id:e,on:t=!0,place:s})=>a.ZP[t?"put":"delete"](`${a.tW}/subscriptions/${e}/autoprolong`,s&&t?{place:s}:{}).then((e=>e.data)),C=(e,t={})=>a.ZP.put(`${a.tW}/subscriptions/${e}`,t).then((e=>e.data)),T=e=>a.ZP.get(`${a.tW}/subscriptions/subscribers/awards/count${(0,a.XP)({filter:e})}`).then((e=>e.data)),L=e=>a.ZP.delete(`${a.tW}/subscriptions/${e}/price-change-hint`).then((e=>e.data)),M=e=>a.ZP.get(`${a.tW}/subscriptions/${e}/history?all=1`).then((e=>e.data)),$=()=>a.ZP.get(`${a.tW}/subscriptions/subscribers/recent-expired?skip_users=all`).then((e=>e.data)),A=({userId:e,subscriberId:t,token:s}={})=>a.ZP.post(`${a.tW}/subscriptions/tokens/${e}/${t}/${s}/request`).then((e=>e.data)),_=({userId:e,subscriberId:t,token:s}={})=>a.ZP.post(`${a.tW}/subscriptions/tokens/${e}/${t}/${s}/confirm`).then((e=>e.data)),F=e=>a.ZP.delete(`${a.tW}/subscriptions/${e}/attention`).then((e=>e.data))},999023:function(e,t,s){"use strict";s.d(t,{$F:function(){return fe},$g:function(){return pe},AP:function(){return _},B3:function(){return me},BS:function(){return He},BW:function(){return ue},Br:function(){return Ve},C8:function(){return h},Cp:function(){return W},Dg:function(){return le},Dt:function(){return Fe},Ek:function(){return qe},Fh:function(){return D},Fw:function(){return ve},GB:function(){return Me},Gp:function(){return O},H1:function(){return Ie},HU:function(){return ye},I1:function(){return Ne},IF:function(){return o},IX:function(){return p},J5:function(){return Pe},JW:function(){return Ae},Jz:function(){return Be},Kh:function(){return K},Ld:function(){return b},MD:function(){return Ue},NS:function(){return x},Nh:function(){return We},O5:function(){return I},OL:function(){return je},OT:function(){return Ze},Op:function(){return he},P4:function(){return H},PK:function(){return A},PR:function(){return m},Pb:function(){return Te},QV:function(){return ne},RA:function(){return F},Rv:function(){return V},S9:function(){return y},SP:function(){return Re},TH:function(){return R},U7:function(){return f},U9:function(){return Oe},XP:function(){return ae},YK:function(){return be},Yi:function(){return _e},Yn:function(){return re},Yw:function(){return $e},_w:function(){return v},al:function(){return N},at:function(){return g},bW:function(){return ke},b_:function(){return Y},cW:function(){return M},cp:function(){return ce},dW:function(){return we},dX:function(){return z},dh:function(){return xe},eP:function(){return w},eV:function(){return S},f:function(){return Ee},g5:function(){return Z},gF:function(){return U},gj:function(){return L},hd:function(){return j},i:function(){return J},jp:function(){return ee},kS:function(){return oe},kt:function(){return De},lA:function(){return l},lJ:function(){return Le},nR:function(){return ge},nS:function(){return u},qB:function(){return B},r1:function(){return k},rf:function(){return G},rg:function(){return de},rv:function(){return $},rx:function(){return Ce},sV:function(){return c},t9:function(){return te},tL:function(){return E},uH:function(){return T},uI:function(){return P},ui:function(){return n},uk:function(){return q},vh:function(){return Q},vn:function(){return Se},xY:function(){return ie},y6:function(){return d},yv:function(){return se},z6:function(){return C},zv:function(){return X}});var a=s(990733),r=s(378945),i=s(310569);const n=()=>a.ZP.get(`${a.tW}/users/me`,{"axios-retry":{retries:1}}).then((e=>e.data)),o=e=>a.ZP.put(`${a.tW}/users/me`,e).then((e=>e.data)),d=e=>a.ZP.patch(`${a.tW}/users/me`,e).then((e=>e.data)),c=(e,t)=>a.ZP.put(`${a.tW}/users/me/settings/${t}`,e).then((e=>e.data)),l=(e,t)=>a.ZP.patch(`${a.tW}/users/me/settings/${t}`,e).then((e=>e.data)),u=()=>a.ZP.get(`${a.tW}/users/me/settings`).then((e=>e.data)),m=(e,t={})=>a.ZP.get(`${a.tW}/users/${encodeURIComponent(e)}${(0,a.XP)(t)}`).then((e=>e.data)),h=({id:e,limit:t=a.P9,type:s,order:i="publish_date_desc",onlyCanView:n,cancelToken:o,...d}={})=>a.ZP.get(`${a.tW}/users/${e}/posts${"posts"!==s?`/${(0,r.C)(s)}`:""}${(0,a.XP)({limit:t,order:i,skip_users:"all",only_can_view:n,format:"infinite",...d})}`,{cancelToken:o}).then((e=>e.data)),f=({id:e,cancelToken:t}={})=>a.ZP.get(`${a.tW}/users/${e}/posts${(0,a.XP)({skip_users:"all",pinned:1,counters:0,format:"infinite"})}`,{cancelToken:t}).then((e=>e.data)),p=()=>a.ZP.get(`${a.tW}/users/otp/code`).then((e=>e.data)),g=(e,t)=>a.ZP.put(`${a.tW}/users/otp`,{code:e,rememberMe:t}).then((e=>e.data)),y=(e,t)=>a.ZP.post(`${a.tW}/users/otp/check`,{code:e,rememberMe:t}).then((e=>e.data)),v=()=>a.ZP.put(`${a.tW}/users/otp/phone`).then((e=>e.data)),S=e=>a.ZP.delete(`${a.tW}/users/otp`,{data:{code:e}}).then((e=>e.data)),P=()=>a.ZP.put(`${a.tW}/users/otp/alternative`).then((e=>e.data)),w=e=>a.ZP.post(`${a.tW}/users/exists`,{username:e}).then((e=>e.data)),b=(e,t={})=>a.ZP.post(`${a.tW}/users/${e}/subscribe`,t).then((e=>e.data)),I=(e,t={})=>a.ZP.post(`${a.tW}/users/${e}/resubscribe`,t).then((e=>e.data)),k=(e,{reasonId:t})=>a.ZP.delete(`${a.tW}/users/${e}/subscribe`,{data:{reason:t}}).then((e=>e.data)),C=({network:e="twitter"}={})=>a.ZP.delete(`${a.tW}/users/social/${e}`).then((e=>e.data)),T=e=>a.ZP.get(`${a.tW}/users/alert`,{cancelToken:e}).then((e=>e.data)),L=e=>a.ZP.delete(`${a.tW}/users/alert/${e}`).then((e=>e.data)),M=e=>a.ZP.delete(`${a.tW}/users/mass-alert/${e}`).then((e=>e.data)),$=({offset:e=0})=>a.ZP.get(`${a.tW}/users/hints${(0,a.XP)({offset:e})}`).then((e=>e.data)),A=e=>a.ZP.delete(`${a.tW}/users/hints/${e}`).then((e=>e.data)),_=e=>a.ZP.delete(`${a.tW}/users/mass-hints/${e}`).then((e=>e.data)),F=e=>a.ZP.delete(`${a.tW}/users/recommends/${e}`).then((e=>e.data)),E=e=>a.ZP.get(`${a.tW}/users/recommends${(0,a.XP)({...e,skip_users:"all"})}`).then((e=>e.data)),D=()=>a.ZP.get(`${a.tW}/users/promotions`).then((e=>e.data)),U=e=>a.ZP.post(`${a.tW}/users/forgot-password`,e).then((e=>e.data)),R=({limit:e=a.P9,offset:t=0,type:s,relatedUser:r,cancelToken:i,skipUsers:n}={})=>a.ZP.get(`${a.tW}/users/notifications${(0,a.XP)({limit:e,offset:t,type:s,related_user:r,skip_users:n,skip_users_dups:n?void 0:1,format:"infinite"})}`,{cancelToken:i}).then((e=>e.data)),O=e=>a.ZP.post(`${a.tW}/users/notifications/read${e?`/${e}`:""}`).then((e=>e.data)),x=e=>a.ZP.post(`${a.tW}/users/notifications/${e}/read/`).then((e=>e.data)),B=e=>a.ZP.patch(`${a.tW}/users/settings/notifications`,e).then((e=>e.data)),j=e=>a.ZP.put(`${a.tW}/users/push-token/pwa`,e).then((e=>e.data)),W=e=>a.ZP.post(`${a.tW}/users/change-password`,e).then((e=>e.data)),Z=e=>a.ZP.delete(`${a.tW}/users/${e}/friend`).then((e=>e.data)),q=e=>a.ZP.post(`${a.tW}/users/delete/request`,{captchaCode:e}).then((e=>e.data)),N=()=>a.ZP.delete(`${a.tW}/users/delete/request`).then((e=>e.data)),V=e=>a.ZP.post(`${a.tW}/phones/change`,e).then((e=>e.data)),H=e=>a.ZP.delete(`${a.tW}/phones/change`,e).then((e=>e.data)),z=()=>a.ZP.get(`${a.tW}/users/telegram-link`).then((e=>e.data)),G=e=>a.ZP.post(`${a.tW}/users/${e}/block`).then((e=>e.data)),X=e=>a.ZP.delete(`${a.tW}/users/${e}/block`).then((e=>e.data)),Y=({limit:e=a.P9,offset:t=0,cancelToken:s,...r}={})=>a.ZP.get(`${a.tW}/users/blocked${(0,a.XP)({limit:e,offset:t,format:"infinite",...r})}`,{cancelToken:s}).then((e=>e.data)),K=({limit:e=a.P9,offset:t=0,query:s,allUsers:r,view:i="se"}={})=>a.ZP.get(`${a.tW}/users${(0,a.XP)({limit:e,offset:t,query:s,all_users:r,view:i})}`).then((e=>e.data)),Q=()=>a.ZP.get(`${a.tW}/users/settings/post`).then((e=>e.data)),J=e=>a.ZP.patch(`${a.tW}/users/settings/post`,{periodPublishLaterPost:e}).then((e=>e.data)),ee=()=>a.ZP.get(`${a.tW}/users/settings/story`).then((e=>e.data)),te=(e={})=>a.ZP.patch(`${a.tW}/users/settings/story`,e).then((e=>e.data)),se=()=>a.ZP.get(`${a.tW}/users/settings/streams`).then((e=>e.data)),ae=({userId:e,limit:t=a.P9,offset:s=0}={})=>a.ZP.get(`${a.tW}/users/${e}/friends${(0,a.XP)({limit:t,offset:s})}`).then((e=>e.data)),re=e=>a.ZP.post(`${a.tW}/users/connect`,e).then((e=>e.data)),ie=e=>a.ZP.post(`${a.tW}/users/get-auth-token`,e).then((e=>e.data)),ne=e=>a.ZP.post(`${a.tW}/users/get-otp-token`,e).then((e=>e.data)),oe=e=>a.ZP.delete(`${a.tW}/users/connect/${e}`).then((e=>e.data)),de=e=>a.ZP.post(`${a.tW}/users/switch/${e}`).then((e=>e.data)),ce=(e,t)=>{const{limit:s=a.P9,offset:r=0,query:i}=e||{};return a.ZP.get(`${a.tW}/users/mention${(0,a.XP)({limit:s,offset:r,query:i})}`,{cancelToken:t}).then((e=>e.data))},le=e=>a.ZP.post(`${a.tW}/users/profile/stats-collect`,e).then((e=>e.data)),ue=e=>a.ZP.post(`${a.tW}/users/profile/visit`,e).then((e=>e.data)),me=e=>a.ZP.get(`${a.tW}/users/list${(0,a.XP)(e)}`).then((e=>e.data)),he=({userId:e,limit:t=8,offset:s=0}={})=>a.ZP.get(`${a.tW}/users/${e}/streams${(0,a.XP)({limit:t,offset:s,skip_users:"all"})}`).then((e=>e.data)),fe=({userId:e,limit:t=8,offset:s=0}={})=>a.ZP.get(`${a.tW}/users/${e}/streams/scheduled${(0,a.XP)({limit:t,offset:s})}`).then((e=>e.data)),pe=({limit:e=a.P9,offset:t=0,cancelToken:s,...r}={})=>a.ZP.get(`${a.tW}/users/tickets${(0,a.XP)({limit:e,offset:t,...r})}`,{cancelToken:s}).then((e=>e.data)),ge=({id:e}={})=>a.ZP.get(`${a.tW}/users/tickets/${e}`).then((e=>e.data)),ye=(e={})=>a.ZP.post(`${a.tW}/users/tickets`,e).then((e=>e.data)),ve=(e,t={})=>a.ZP.post(`${a.tW}/users/tickets/${e}/reply`,t).then((e=>e.data)),Se=({id:e,limit:t=a.P9,offset:s=0})=>a.ZP.get(`${a.tW}/users/tickets/${e}/comments${(0,a.XP)({limit:t,offset:s,html:1})}`).then((e=>e.data)),Pe=e=>a.ZP.post(`${a.tW}/users/tickets/${e}/solve`).then((e=>e.data)),we=({id:e,data:t})=>a.ZP.put(`${a.tW}/users/tickets/${e}/reopen`,t).then((e=>e.data)),be=(e={})=>a.ZP.post(`${a.tW}/users/tickets/allowed`,e).then((e=>e.data)),Ie=(e={})=>a.ZP.get(`${a.tW}/users/me/strong_otp_codes`,e).then((e=>e.data)),ke=(e={})=>a.ZP.get(`${a.tW}/users/me/auth-token`,e).then((e=>e.data)),Ce=()=>a.ZP.get(`${a.tW}/users/links`).then((e=>e.data)),Te=e=>a.ZP.get(`${a.tW}/users/${e}/links`).then((e=>e.data)),Le=(e={})=>a.ZP.post(`${a.tW}/users/links`,e).then((e=>e.data)),Me=e=>a.ZP.put(`${a.tW}/users/links`,{link:e}).then((e=>e.data)),$e=e=>a.ZP.delete(`${a.tW}/users/links/${e}`).then((e=>e.data)),Ae=({limit:e=a.P9,offset:t=0,cancelToken:s,...r}={})=>a.ZP.get(`${a.tW}/users/restrict${(0,a.XP)({limit:e,offset:t,...r})}`,{cancelToken:s}).then((e=>e.data)),_e=(e={})=>a.ZP.post(`${a.tW}/iv/start`,e).then((e=>e.data)),Fe=()=>a.ZP.post(`${a.tW}/age-verifier/start`).then((e=>e.data)),Ee=(e={})=>a.ZP.post(`${a.tW}/face-id/start`,e).then((e=>e.data)),De=()=>a.ZP.get(`${a.tW}/users/me/profile/views/qr`).then((e=>e.data)),Ue=()=>a.ZP.get(`${a.tW}/users/me/id`).then((e=>e.data)),Re=()=>a.ZP.get(`${a.tW}/users/notifications/count`).then((e=>e.data)),Oe=()=>a.ZP.get(`${a.tW}/users/notifications/settings/tabs-order`).then((e=>e.data)),xe=e=>a.ZP.post(`${a.tW}/users/notifications/settings/tabs-order`,e).then((e=>e.data)),Be=(e,t={})=>a.ZP.post(`${a.tW}/users/${encodeURIComponent(e)}/stat`,t).then((e=>e.data)),je=()=>a.ZP.get(`${a.tW}/users/me/start-date-model`).then((e=>e.data)),We=()=>a.ZP.get(`${a.tW}/users/ws-auth`).then((e=>e.data)),Ze=()=>a.ZP.post(`${a.tW}/users/terms/confirm`).then((e=>e.data)),qe=e=>a.ZP.post(`${a.tW}/users/license_form`,e).then((e=>e.data)),Ne=({mediaId:e,entityId:t=0,entityType:s=i.MEDIA_ENTITY_TYPES.OWN_MEDIA,drmType:r})=>{let n;const o=undefined;return`${`${a.tW}/users/media/${e}/drm/`}${s!==i.MEDIA_ENTITY_TYPES.OWN_MEDIA?`${s}/${t}`:""}${(0,a.XP)({type:r})}`},Ve=()=>a.ZP.get(`${a.tW}/users/media/drm/certificate`).then((e=>e.data)),He=e=>a.ZP.post(`${a.tW}/users/me/validate-data`,e).then((e=>e.data))},698424:function(e,t,s){"use strict";s.d(t,{D2:function(){return c},I:function(){return n},Ku:function(){return h},L0:function(){return g},PZ:function(){return u},U_:function(){return v},Y_:function(){return l},Zw:function(){return m},a9:function(){return o},bU:function(){return i},cN:function(){return f},cT:function(){return y},iX:function(){return d},iY:function(){return p},l5:function(){return r}});var a=s(990733);const r=({limit:e=a.P9,offset:t=0,cancelToken:s,...r})=>a.ZP.get(`${a.tW}/vault/media${(0,a.XP)({limit:e,offset:t,...r})}`,{cancelToken:s}).then((e=>e.data)),i=({mediaId:e,cancelToken:t,...s})=>a.ZP.get(`${a.tW}/vault/media/${e}/posts${(0,a.XP)(s)}`,{cancelToken:t}).then((e=>e.data)),n=(e={})=>a.ZP.get(`${a.tW}/vault/media/hash${(0,a.XP)(e)}`).then((e=>e.data)),o=({ids:e})=>a.ZP.put(`${a.tW}/vault/media/hidden`,{mediaIds:e}).then((e=>e.data)),d=(e={})=>a.ZP.get(`${a.tW}/vault/lists${(0,a.XP)(e)}`).then((e=>e.data)),c=e=>a.ZP.get(`${a.tW}/vault/lists/${e}`).then((e=>e.data)),l=e=>a.ZP.post(`${a.tW}/vault/lists`,{name:e}).then((e=>e.data)),u=({id:e,name:t})=>a.ZP.patch(`${a.tW}/vault/lists/${e}`,{name:t}).then((e=>e.data)),m=(e,t)=>a.ZP.delete(`${a.tW}/vault/lists/${e}`,{data:{clearMedia:t}}).then((e=>e.data)),h=(e,t)=>a.ZP.post(`${a.tW}/vault/lists/${t}/media`,{mediaIds:e}).then((e=>e.data)),f=(e,t)=>a.ZP.delete(`${a.tW}/vault/lists/${t}/media`,{data:{mediaIds:e}}).then((e=>e.data)),p=e=>a.ZP.post(`${a.tW}/vault/lists/sort`,e).then((e=>e.data)),g=()=>a.ZP.get(`${a.tW}/vault/media/types`).then((e=>e.data)),y=({mediaId:e})=>a.ZP.get(`${a.tW}/vault/media/${e}`).then((e=>e.data)),v=(e,t)=>a.ZP.put(`${a.tW}/vault/media/${e}/attach`,t).then((e=>e.data))},299833:function(e,t,s){"use strict";s.d(t,{r:function(){return n}});var a=s(333948),r=s.n(a),i=s(550615);const n=(e,t)=>{if(!e.length&&!t)return;let s=e;i.default.state.releaseForms.usersFromGuest.length&&(s=e.map((e=>{const t=i.default.state.releaseForms.usersFromGuest.find((t=>t.guest_id===e.id));return t||e})));const a=e=>e.id,r=(e,t)=>s.filter((e=>e.type===t)).map(a);return{rfTag:r(s,"user"),rfGuest:r(s,"guest"),rfPartner:[...r(s,"link"),...r(s,"document")]}}},181528:function(e,t,s){"use strict";s.d(t,{HZ:function(){return i},UH:function(){return d},av:function(){return o},m9:function(){return n}});var a=s(115306),r=s.n(a);const i=e=>e?e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"):e,n=e=>e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e,o=(e,t="")=>e?e.replace(/(<([^>]+)>)/gi,t):e,d=e=>Number.isInteger(e)?e.toLocaleString():e},861286:function(e,t,s){"use strict";s.d(t,{CZ:function(){return n},Z9:function(){return o},kp:function(){return d}});var a=s(115306),r=s.n(a);const i=e=>!isNaN(parseFloat(e))&&isFinite(e),n=(e,t=2)=>{if(!i(e))return"";e=+e;const{length:s}=`${e}`;return s>=8?`${(e/1e6).toFixed(Math.max(t-1,0))}M`:s>=7?`${(e/1e6).toFixed(t)}M`:s>=5?`${(e/1e3).toFixed(Math.max(t-1,0))}K`:s>=4?`${(e/1e3).toFixed(1)}K`:e},o=e=>{if(!i(e))return"";const t=undefined;return`$${e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}`},d=e=>{if(!i(e))return"";const t=undefined;return`${e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}`}},53189:function(e,t,s){"use strict";s.d(t,{default:function(){return Ca}});var a={};s.r(a),s.d(a,{addAnswer:function(){return ss},addCropRect:function(){return Ye},addGif:function(){return Kt},addOverlayRect:function(){return dt},addQuestion:function(){return es},addSticker:function(){return Rt},addText:function(){return At},calcTextAreaParams:function(){return pt},changeScreen:function(){return He},changeTextColor:function(){return wt},createFileType:function(){return Gt},createShadowRects:function(){return Yt},doCrop:function(){return Qe},doOverlay:function(){return mt},doText:function(){return Ft},done:function(){return et},getMaxImageScale:function(){return Ge},getOverlayGradientCoordinates:function(){return nt},imageFromGroup:function(){return Ht},normalizeStageFile:function(){return Ue},proceedFile:function(){return We},proceedHistory:function(){return is},removeTextArea:function(){return Dt},resetCrop:function(){return st},resetOverlay:function(){return St},setOverlayColors:function(){return lt},setUpCrop:function(){return Ne},textAlignSwitch:function(){return It},textBackgroundSwitch:function(){return yt},textBoldSwitch:function(){return Ct},transparentOverlayColor:function(){return rt}});var r=s(501286),i=s(227361),n=s.n(i),o=s(21703),d=s(333948),c=s(838862),l=s(720144),u=s(966337),m=s(173764),h=s(199887),f=function(){var e=this,t=e.$createElement,s;return(e._self._c||t)("router-view",{key:e.$i18n.locale})},p=[],g,y={name:"AppMain"},v=s(801001),S,P=(0,v.Z)(y,f,p,!1,null,null,null).exports,w=s(997046),b=s(550615),I=s(264487),k=s(840519),C=s(427816),T=s(654025),L=s(34469),M=s(619011),$=s(869730),A=s(495659),_=s(49680),F=s(12954),E=s(834253),D=s.n(E),U=s(82154),R=s.n(U),O=s(317152),x=s(674347),B=s(466990),j=s(72433),W=s(467356),Z=s(368793),q=s(174103),N=s(743650),V=s(88824);const H="imageEditor",z="#000000",G="#2fb2ff",X=20,Y=Math.PI/180,K={regular:400,strong:700,light:300};var Q=s(558985);function J(e={}){return new Q.Group({draggable:!0,dragBoundFunc:()=>this.group.absolutePosition(),...e})}var ee=s(244415);function te(e){return new ee.Layer({id:`base_layer_${e}`,fill:z})}var se=s(671298);function ae(e){const t=new se.Image({x:e.width/2,y:e.height/2,id:"editable_image",image:e,draggable:!1,width:e.width,height:e.height,offset:{x:e.width/2,y:e.height/2},scale:{x:1,y:1},rotation:0,stroke:G,strokeWidth:2,strokeEnabled:!1,skewEnable:!1,blurEnable:!1,dragBoundFunc:e=>e});return t.historySource=e.src,t}function re(e,t){const s=new se.Image({x:0,y:0,name:"sticker",image:e,width:e.width,height:e.height,scale:{x:t,y:t},rotation:0,skewEnable:!1,blurEnable:!1,historySource:e.src});return s.historySource=e.src,s}var ie=s(275244);function ne(e){return new ie.Rect({fill:"black",opacity:.5,globalCompositeOperation:"xor",...e})}var oe=s(439575),de=s(829135),ce=s(348675),le=s(103462),ue=s(33824),me=s(682472);function he(){var e,t,s,a,r,i,n,o,d,c,l,u,m,h,f,p,g,y,v,S,P,w,b,I,k,C,T,L,M,$,A;const _=new Uint32Array([1,2,4,8,16,32,64,128,256,512,1024,2048,4096]),F=[0,4,2,1],E=[8,8,4,2],D=[],U=[],R=[];b=void 0,I=null,w=1,P=S=v=y=0,m=u=l=c=!1;const O={GCExt:249,COMMENT:254,APPExt:255,UNKNOWN:1,IMAGE:44,EOF:59,EXT:33};function x(e){var t=this.pos=0;const s=this.data=new Uint8Array(e),a=this.data.length;this.getString=function(e){var a="";for(t=this.pos;e--;)a+=String.fromCharCode(s[t++]);return this.pos=t,a},this.readSubBlocks=function(){var e,r,i="";for(t=this.pos;0!==e&&t<a;)for(r=e=s[t++];r--;)i+=String.fromCharCode(s[t++]);return this.pos=t,i},this.readSubBlocksB=function(){var e,r,i=[],n=0;for(t=this.pos;0!==e&&t<a;)for(r=e=s[t++];r--;)i[n++]=s[t++];return this.pos=t,i}}function B(e,t){var s,r,i,n,o,d,c,l,u,m,h;const f=_,p=[];for(i=r=0,o=(n=f[e])+1,d=e+1,c=!0,s=0;s<n;s++)p[s]=[s];for(h=o+1;;){for(u=l,l=0,s=0;s<d;s++)t[i>>3]&f[7&i]&&(l|=f[s]),i++;if(l===n){for(d=e+1,h=o+1,s=0;s<o;s++)p[s]=[s];p[o]=[0],p[n]=[0]}else{if(l===o)break;for(l>=h?p[h++]=[...p[u],p[u][0]]:u!==n&&(p[h++]=[...p[u],p[l][0]]),m=p[l].length,s=0;s<m;s++)a[r++]=p[l][s];d<12&&h===f[d]&&(d+=1)}}}function j(e){var t=0;e<<=2;const s=new Uint8Array(e);for(;t<e;)s[t++]=r.data[r.pos++],s[t++]=r.data[r.pos++],s[t++]=r.data[r.pos++],s[t++]=255;return new Uint32Array(s.buffer)}function W(){r.pos+=6,y=r.data[r.pos++]+(r.data[r.pos++]<<8),v=r.data[r.pos++]+(r.data[r.pos++]<<8),a=new Uint8Array(y*v);const e=r.data[r.pos++];if(fe.colorRes=(112&e)>>4,M=1<<1+(7&e),$=r.data[r.pos++],r.pos++,128&e){const e=(A=j(M))[$];C=void 0!==e?`rgb(${255&e},${e>>8&255},${e>>16&255})`:"black"}ue("decodestart",{width:y,height:v},!0),setTimeout(Y,0)}function Z(){r.pos+=1,"NETSCAPE"===r.getString(8)?r.pos+=8:(r.pos+=3,r.readSubBlocks())}function q(){r.pos++;const e=r.data[r.pos++];h=(28&e)>>2,f=!!(1&e),p=r.data[r.pos++]+(r.data[r.pos++]<<8),g=r.data[r.pos++],r.pos++}function N(){function i(r){var i,n,o;const d=s/r;for(i=0,e!==s&&(t=new Uint8Array(s),e=s),n=0;n<4;n++)for(o=F[n];o<d;o+=E[n])t.set(a.subarray(i,i+r),o*r),i+=r}const n={};D.push(n),n.disposalMethod=h,n.time=S,n.delay=10*p,S+=n.delay,n.leftPos=r.data[r.pos++]+(r.data[r.pos++]<<8),n.topPos=r.data[r.pos++]+(r.data[r.pos++]<<8),n.width=r.data[r.pos++]+(r.data[r.pos++]<<8),n.height=r.data[r.pos++]+(r.data[r.pos++]<<8);const o=r.data[r.pos++];n.localColourTableFlag=!!(128&o),n.localColourTableFlag&&(n.localColourTable=j(1<<1+(7&o))),s!==n.width*n.height&&(s=n.width*n.height),n.transparencyIndex=f?g:void 0,B(r.data[r.pos++],r.readSubBlocksB()),64&o?(n.interlaced=!0,i(n.width)):n.interlaced=!1,V(n)}function V(e){var r,i,n,o;e.image=document.createElement("canvas"),e.image.width=y,e.image.height=v,e.image.ctx=e.image.getContext("2d");const d=e.localColourTableFlag?e.localColourTable:A;(r=2===(k=k||e).disposalMethod||3===k.disposalMethod)||e.image.ctx.drawImage(k.image,0,0,y,v);const l=e.image.ctx.getImageData(e.leftPos,e.topPos,e.width,e.height),u=e.transparencyIndex,m=new Uint32Array(l.data.buffer);for(o=e.interlaced?t:a,i=0;i<s;i++)u!==(n=o[i])?m[i]=d[n]:r&&(m[i]=0);e.image.ctx.putImageData(l,e.leftPos,e.topPos),c||(fe.image=e.image),k=e}function H(){k=null,r=void 0,h=void 0,f=void 0,p=void 0,g=void 0,a=void 0,t=void 0,s=void 0,t=void 0,u=!0}function z(){l=!1,c||(d=o=0,D.length>0&&(fe.image=D[0].image)),J(),H()}function G(){z()}function X(){const e=r.data[r.pos++];e===O.GCExt?q():e===O.COMMENT?U.push(r.readSubBlocks()):e===O.APPExt?Z():(e===O.UNKNOWN&&(r.pos+=13),r.readSubBlocks())}function Y(){if(!0===m)return G();const e=r.data[r.pos++];if(e===O.IMAGE){if(N(),ue("progress",{progress:(r.pos/r.data.length*1e3|0)/10,frameCount:D.length}),fe.firstFrameOnly)return z()}else{if(e===O.EOF)return z();X()}setTimeout(Y,0)}function K(){return!u&&(m=!0)}function Q(e){ue("error",{message:e},!1),l=!1}function J(){d=o=0,ue("load",{frameCount:D.length},!0),fe.playOnLoad&&fe.play()}function ee(e){i=new Uint8Array(e),r=new x(e),W()}function te(e){var t=new XMLHttpRequest;T=e,l=!0,t.responseType="arraybuffer",t.onload=function(e){404===e.target.status?(T=void 0,Q("File not found")):e.target.status>=200&&e.target.status<300?ee(t.response):(T=void 0,Q("Loading error : "+e.target.status))},t.onerror=function(e){T=void 0,Q("File error "+e.message)},t.open("GET",e,!0),t.send()}function se(e){if(void 0===T)T=e,setTimeout((()=>te(T)),0);else{const e="GIF is limited to a single load. Create a new GIF object to load another gif.";Q(e),console.warn(e)}}function ae(e){w=(100*e|0)/100,b=void 0,0===Math.abs(w)&&(w=0,c&&ie())}function re(){c||(0===w&&(w=1),L=!1,c=!0,le())}function ie(){L=!0,c=!1,clearTimeout(n),b=void 0}function ne(){L||!c?fe.play():fe.pause()}function oe(e){clearTimeout(n),b=void 0,I=null,o=(e%D.length+D.length)%D.length,c?le():(fe.image=D[o].image,d=D[o].time)}function de(e){e<0&&(e=0),e%=S;for(var t=0;t<D.length&&e>D[t].time+D[t].delay;)t+=1;return t}function ce(e){clearTimeout(n),b=void 0,I=null,o=de(1e3*e),c?le():(d=D[o].time,fe.image=D[o].image)}function le(){var e,t,s=!1,a=0;if(0!==w){if(void 0!==b&&null===I){const e=b-performance.now();e<-P/2?(s=!0,o=de(b=(b+e/w)%S+S),t=w<0?0===o?D.length-1:o-1:o):e<0&&(a=e)}s||(w<0?t=0===(o=null!==I?I:0===o?D.length-1:o-1)?D.length-1:o-1:(null!==I&&(o=I),t=o=(o+1)%D.length)),e=Math.abs(D[t].delay/w)+a,P=Math.abs(D[t].delay/w),b=performance.now()+e,fe.image=D[o].image,d=D[o].time,n=setTimeout(le,e),I=null}else fe.pause()}function ue(e,t,s=!1){R["on"+e]&&setTimeout((()=>{t.type=e,t.gif=fe,t.buffer=i,R["on"+e](t),s&&he(e)}),0)}function me(e,t){"function"==typeof t&&("progress"!==e&&(t=t.bind(fe)),R["on"+e]=t)}function he(e){void 0!==R["on"+e]&&(R["on"+e]=void 0)}const fe={image:null,comments:U,get paused(){return L},get playing(){return c},get loading(){return l},get complete(){return u},set src(e){se(e)},cancel:K,get backgroundColor(){return C},get src(){return T},get width(){return y},get height(){return v},get naturalWidth(){return y},get naturalHeight(){return v},get allFrames(){return D.map((e=>e.image))},get duration(){return S},get currentFrame(){return o},get currentTime(){return d},get frameCount(){return D.length},get playSpeed(){return w},getFrame:e=>D[e<0?0:e>=D.length?D.length-1:e].image,set currentFrame(e){oe(e)},set currentTime(e){ce(e)},set playSpeed(e){ae(e)},playOnLoad:!0,firstFrameOnly:!1,set onload(e){me("load",e)},set onerror(e){me("error",e)},set onprogress(e){me("progress",e)},set ondecodestart(e){me("decodestart",e)},play:re,pause:ie,seek:ce,seekFrame:oe,togglePlay:ne};return fe}async function fe(e,t){const s=document.createElement("canvas"),a=undefined;return new Promise((a=>{const r=he();function i(e){const{gif:r}=e;s.width=r.width,s.height=r.height;const i=s.getContext("2d");function n(){i.clearRect(0,0,s.width,s.height),i.drawImage(r.image,0,0),t.batchDraw(),requestAnimationFrame(n)}requestAnimationFrame(n),t.batchDraw(),a({buffer:e.buffer,canvas:s})}r.src=e,r.onload=i}))}async function pe(e){let t={};await fe(e,this.layer).then((e=>t=e));const s=new se.Image({name:"gif",image:t.canvas}),a=.3*this.group.height()/s.height(),r=.3*this.group.width()/s.width(),i=a<r?a:r;return s.scaleX(i),s.scaleY(i),s.x(this.group.width()/2-s.width()/2*i),s.y(this.group.height()/2-s.height()/2*i),s.imgOrigWidth=s.width(),s.imgOrigHeight=s.height(),s.perfectDrawEnabled(!1),s.fixed_ratio=!0,s.historySource=e,{gif:s,buffer:t.buffer}}function ge(e){const t=e.position();t.w=e.width()*e.scaleX(),t.h=e.height()*e.scaleX(),t.r=e.rotation();const s=t.w*Math.cos(t.r*Y),a=t.w*Math.sin(t.r*Y),r={x:t.x+s,y:t.y+a},i=t.h*Math.cos((t.r+90)*Y),n=t.h*Math.sin((t.r+90)*Y),o={x:r.x+i,y:r.y+n},d=t.h*Math.cos((t.r+90)*Y),c=t.h*Math.sin((t.r+90)*Y),l={x:t.x+d,y:t.y+c},u={x:(t.x+o.x)/2,y:(t.y+o.y)/2},m=(t.x+l.x)/2,h=(t.y+l.y)/2,f=(r.x+o.x)/2,p=(r.y+o.y)/2,g=(t.x+r.x)/2,y=(t.y+r.y)/2,v=(l.x+o.x)/2,S=(l.y+o.y)/2,P=undefined,w=undefined;return{topRight:r,bottomRight:o,bottomLeft:l,center:u,equation_v:{A:y-S,B:v-g,C:g*S-v*y},equation_h:{A:h-p,B:f-m,C:m*p-f*h}}}var ye=ge;function ve(e,t,s,a){const r=s.position();r.w=s.width()*s.scaleX(),r.h=s.height()*s.scaleX(),r.r=s.rotation();const i=Math.abs((e.equation_v.A*t.x+e.equation_v.B*t.y+e.equation_v.C)/Math.sqrt(Math.pow(e.equation_v.A,2)+Math.pow(e.equation_v.B,2))),n=Math.abs((e.equation_h.A*t.x+e.equation_h.B*t.y+e.equation_h.C)/Math.sqrt(Math.pow(e.equation_h.A,2)+Math.pow(e.equation_h.B,2)));if(i>r.w/2+touchCenterRadius)return!1;if(n>r.h/2+touchCenterRadius)return!1;if(i<=r.w/2)return!0;if(n<=r.h/2)return!0;const o=i-r.w/2,d=n-r.h/2;return Math.pow(o,2)+Math.pow(d,2)<=Math.pow(touchCenterRadius/a,2)}var Se=null;function Pe({x:e,y:t},s){const a=Math.cos(s*Y),r=Math.sin(s*Y);return{x:e*a-t*r,y:t*a+e*r}}var we=Pe,be=s(893577);function Ie(){return[...this.layer.find(".sticker"),...this.layer.find(".gif"),...this.layer.find(".label"),...this.layer.find("::edit"),...this.layer.find(".MergedGroup")]}var ke=Ie;function Ce(){return{height:window.innerHeight-document.getElementById("imageEditorHeader").clientHeight-document.getElementById("imageEditorFooter").clientHeight,width:document.getElementById("imageEditorStage").offsetWidth}}var Te=s(907643);function Le(e,t="pointer"){e.on("mouseenter",(()=>{this.stage.container().style.cursor=t})),e.on("mouseleave",(()=>{this.stage.container().style.cursor="default"}))}function Me(e,t){let s,a,r,i;(0,be.Z)(e),e.on("rotatestart",(a=>{this.viewState.isRotatingMoveable=!0,r=a.evt.gesture.rotation,a.evt.gesture.pointers.length<2||(this.userActions.isShapeRotating=!0,e.draggable(!1),t.from=this.history.normalizeMoveableObject(t),s=ye(t),i=t.scaleX(),t.draggable(!1))})),e.on("rotate",(e=>{const n=r-e.evt.gesture.rotation;if(!(n<30&&n>-30&&i&&2===e.evt.gesture.pointers.length&&this.userActions.isShapeRotating))return;const o=i*e.evt.gesture.scale,d=t.rotation()-n,c={x:-t.width()*o/2,y:-t.height()*o/2},l=we(c,t.rotation()),u=we(c,d),m=u.x-l.x,h=u.y-l.y;t.rotation(d),t.x(t.x()+m),t.y(t.y()+h),s=ye(t),a={x:(t.x()-s.center.x)/t.scaleX(),y:(t.y()-s.center.y)/t.scaleX()};const f={x:a.x*o+s.center.x,y:a.y*o+s.center.y};t.position(f),t.scale({x:o,y:o}),r=e.evt.gesture.rotation,this.layer.batchDraw()})),e.on("rotateend rotatecancel",(()=>{this.viewState.isRotatingMoveable=!1,this.history.push("moveableObject","modifyRotation",e.historyId,this.history.normalizeMoveableObject(t)),this.userActions.isShapeRotating=!1,e.moveToTop(),e.draggable(!0),this.imageConf.shadows.moveToTop(),this.layer.batchDraw()}))}function $e(e){const t=undefined;if(!document.querySelector(e))return null;const s=this.stage.getPointerPosition(),a=document.querySelector(e).getBoundingClientRect(),r=a.x+a.width/2-document.querySelector(".image_editor > .image_editor_holder ").offsetLeft,i=a.y+a.height/2-60,n=undefined;return Math.abs(Math.sqrt(Math.pow(s.x-r,2)+Math.pow(s.y-i,2)))<=30}var Ae=$e;function _e(e,t){let s=!1,a={};e.on("dragstart",(t=>{const r=this.stage.getPointerPosition(),i=undefined,n=this.stage.getAllIntersections(r).find((e=>/::edit/.test(e.name())));if(n)return;s=!0,e.from=this.history.normalizeMoveableObject(e),this.userActions.shapeIsDraging=!0,this.api.events.$emit("shapeDragging",!0),e.moveToTop(),this.imageConf.shadows.moveToTop();const o="mousemove"===t.evt.type?t.evt.x:t.evt.touches[0].clientX,d="mousemove"===t.evt.type?t.evt.y:t.evt.touches[0].clientY,c=e.x(),l=e.y();a={x:o/this.imageConf.ratio-c,y:d/this.imageConf.ratio-l}})),e.on("dragmove",(t=>{if(a&&!this.userActions.shapeIsRotating&&s){const s=document.querySelector(".text_delete svg.g-icon");s&&"default"===this.viewState.screen&&(s.style.fontSize=Ae.call(this,".text_delete")?"40px":"30px"),"mousemove"===t.evt.type&&(e.position({x:t.evt.x/this.imageConf.ratio-a.x,y:t.evt.y/this.imageConf.ratio-a.y}),this.layer.batchDraw()),"touchmove"===t.evt.type&&1===t.evt.touches.length&&(e.position({x:t.evt.touches[0].clientX/this.imageConf.ratio-a.x,y:t.evt.touches[0].clientY/this.imageConf.ratio-a.y}),this.layer.batchDraw())}})),e.on("dragend",(()=>{if(s){if(s=!1,!this.userActions.shapeIsRotating)if(e.moveToTop(),this.imageConf.shadows.moveToTop(),Ae.call(this,".text_delete")){"gif"===t.name()&&(this.gifs.storage=[],this.api.events.$emit("saveAsCopyPermToggle",this.settingsPassed.saveAsCopy)),"QuestionBlock"===t.name()&&setTimeout((()=>{this.api.events.$emit("imageEditor::question::remove")})),"AnswerBlock"===t.name()&&setTimeout((()=>{this.api.events.$emit("imageEditor::answer::remove")}));const s=this.history.normalizeMoveableObject(t);s.x=e.from.x,s.y=e.from.y,s.childX=t.x(),s.childY=t.y(),this.history.push("moveableObject","delete",e.historyId,s),e.destroy(),this.layer.batchDraw()}else setTimeout((()=>{this.history.push("moveableObject","modifyPosition",e.historyId,this.history.normalizeMoveableObject(e))}));this.userActions.shapeIsDraging=!1,this.api.events.$emit("shapeDragging",!1),a=null}}))}function Fe(e,t=!1){let s,a,r,i;const n=J.call(this,{name:"MergedGroup"});if("label"!==e.name()){n.historyId=e.historyId;const t=this.history.installMoveableObject(n,e);n.historyId=t.id,e.historyId=t.id}const o=new Te.Circle({x:e.x()+e.width()*e.scaleX(),y:e.y(),name:"dimensionCircle::edit",radius:4/this.imageConf.ratio,fill:"#5dc6ef",stroke:"#01afef",strokeWidth:1,draggable:!0});return t||(Le.call(this,o,"crosshair"),o.on("dragstart",(t=>{"mousemove"===t.evt.type&&(e.from=this.history.normalizeMoveableObject(e),r=e.scaleX(),i=e.rotation(),a=ye(e),s={x:t.evt.x/this.imageConf.ratio-o.x(),y:t.evt.y/this.imageConf.ratio-o.y()})})),o.on("dragmove",(t=>{const n=e.width()*e.scaleX()/this.imageConf.ratio,o=e.height()*e.scaleY()/this.imageConf.ratio,d=()=>{const e=t.evt.x/this.imageConf.ratio-s.x-a.center.x,r=t.evt.y/this.imageConf.ratio-s.y-a.center.y;return 180*Math.atan2(r,e)/Math.PI};if("mousemove"===t.evt.type){const c=Math.pow(n,2),l=Math.pow(o,2),u=Math.sqrt(l+c)/2,m=d(),h=Math.pow(e.width()/this.imageConf.ratio,2),f=Math.pow(e.height()/this.imageConf.ratio,2),p=Math.sqrt(h+f)/2,g=t.evt.x/this.imageConf.ratio-s.x,y=t.evt.y/this.imageConf.ratio-s.y+12,v=Math.pow(g-a.center.x,2),S=Math.pow(y-a.center.y,2),P=Math.sqrt(v+S)/this.imageConf.ratio,w=i-m-45,b=undefined,I=undefined,k=r+(1/u*P-1)*(1/p*u);r=k;const C=e.rotation()-w,T={x:-e.width()*k/2,y:-e.height()*k/2},L=we(T,e.rotation()),M=we(T,C),$=M.x-L.x,A=M.y-L.y;e.rotation(C),e.x(e.x()+$),e.y(e.y()+A);const _=ye(e),F={x:(e.x()-_.center.x)/e.scaleX(),y:(e.y()-_.center.y)/e.scaleX()},E={x:F.x*k+_.center.x,y:F.y*k+_.center.y};e.position(E),e.scale({x:k,y:k}),i=e.rotation()}this.layer.batchDraw()})),o.on("dragend",(()=>{this.history.push("moveableObject","modifyRotation",n.historyId,this.history.normalizeMoveableObject(e))})),o.hide(),n.add(o)),n.add(e),Le.call(this,e),n.on("click dragstart",(t=>{"mouseup"===t.evt.type&&(e.strokeEnabled&&e.strokeEnabled()?(o.hide(),e.strokeEnabled(!1)):(e.strokeEnabled&&(e.strokeEnabled(!0),e.stroke("rgba(255,255,255,0.5)"),e.strokeWidth(1/this.imageConf.ratio)),o.show(),o.moveToTop()),this.layer.batchDraw())})),n.on("dragend",(()=>{o.hide(),e.strokeEnabled&&e.strokeEnabled(!1),this.layer.batchDraw()})),n.initialImageScale=this.imageConf.ratio,this.group.add(n),this.layer.batchDraw(),this.methods.normalizeStageFile(),this.api.events.$on("preSave",(()=>{o.hide(),e.strokeEnabled&&e.strokeEnabled(!1)})),n.draggable(!0),_e.call(this,n,e),t||Me.call(this,n,e),{group:n,konvaNode:e,circle:o}}function Ee(){this.imageConf.shadows&&this.imageConf.shadows.destroy();const e=ne({x:0,y:0-this.group.y(),height:this.group.y(),width:this.image.width()/this.imageConf.ratio}),t=ne({x:e.x(),y:e.y()+e.height()+this.image.height(),height:e.height(),width:e.width()}),s=ne({x:e.x()-this.group.x(),y:e.y(),height:e.height()+this.image.height()+t.height(),width:this.group.x()}),a=ne({x:s.x()+this.image.width()+s.width(),y:s.y(),height:s.height(),width:s.width()});return this.imageConf.shadows=new Q.Group,this.imageConf.shadows.add(e),this.imageConf.shadows.add(t),this.imageConf.shadows.add(s),this.imageConf.shadows.add(a),"default"!==this.viewState.screen&&this.imageConf.shadows.hide(),this.group.add(this.imageConf.shadows),!0}function De(){if(!this.image)return;const e=this.imageConf.ratio;this.config=Ce(),this.stage.height(this.config.height),this.stage.width(this.config.width);const t=this.stage.width()/this.image.width(),s=this.stage.height()/this.image.height(),a=t<s?t:s;this.imageConf.ratio=a<1?a:1,this.group.height(this.image.height()),this.group.width(this.image.width()),this.stage.scale({x:this.imageConf.ratio,y:this.imageConf.ratio});let r=(this.stage.width()-this.image.width()*this.imageConf.ratio)/2,i=(this.stage.height()-this.image.height()*this.imageConf.ratio)/2;return r=r<0?0:r/this.imageConf.ratio,i=i<0?0:i/this.imageConf.ratio,this.group.position({x:r,y:i}),this.image.position({x:this.image.width()/2,y:this.image.height()/2}),this.cropState.cropRect&&this.methods.setUpCrop(),Ee.call(this),e!==this.imageConf.ratio&&ke.call(this).forEach((t=>{const{parent:s}=t;if("MergedGroup"!==s.name())return;const a=100/s.initialImageScale*this.imageConf.ratio/100,r=100/e*this.imageConf.ratio/100;s.scale({x:1/a,y:1/a}),s.position({x:s.x()/r,y:s.y()/r})})),this.layer.batchDraw(),!0}var Ue=De,Re=s(782801),Oe=s(560285),xe=s(241637);function Be(e){if(/^blob/.test(e))return e;const t=atob(e.split(",")[1]),s=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),r=new Uint8Array(a);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);const i=new Blob([a],{type:s});return window.URL.createObjectURL(i)}async function je(e,t=0,s,a){e=Be(e);const r=async a=>{const r=new Image;r.onload=()=>{setTimeout((()=>{const t=ae(r);t.cropReset=!0,t.overlayReset=!0,t.imgSrc=e,t.imgOrigWidth=r.width,t.imgOrigHeight=r.height,t.perfectDrawEnabled(!1),t.fixed_ratio=!0,s?"object"==typeof s&&(this.history.initialImageUrl=e):this.history.push("image","modify",null,{from:this.history.currentImageUrl,to:e}),this.history.currentImageUrl=e,this.historyBlobs[e]=!0,this.imageConf.html=r,a(t)}),t)},r.src=e},i=await new Promise(r);return this.group.add(i),this.image=this.group.findOne("#editable_image"),this.methods.normalizeStageFile(a),this.stage.batchDraw(),i}var We=je,Ze=s(16745);function qe(e,t){var s,a,r,i,n,o,d,c;let l=void 0!==e?e:this.cropState.cropXSide,u=void 0!==t?t:this.cropState.cropYSide;this.cropState.cropXSide=l,this.cropState.cropYSide=u,"portrait"!==this.cropState.cropOrientation&&(l=this.cropState.cropYSide,u=this.cropState.cropXSide),this.cropState.cropRelationActive=l*u;let m=0,h=0,f=100;this.image.cropReset=!1;const p=(e,t)=>{const s=this.stage.height()/(e*this.imageConf.ratio)*100,a=this.stage.width()/(t*this.imageConf.ratio)*100;f=s<=a?s:a,m=t*(f/100),h=e*(f/100)};if(l===u&&0===l)m=this.image.width(),h=this.image.height(),f=100,this.image.cropReset=!0;else if("portrait"===this.cropState.cropOrientation){const e=this.image.height()/u*l,t=this.image.height();e>this.image.width()?(f=e/this.image.width()*100,m=e,h=t):p(t,e)}else{const e=this.image.width(),t=this.image.width()/l*u;if(t>this.image.height()){f=t/this.image.height()*100,m=e,h=t;const s=document.getElementsByClassName("konvajs-content"),a=s[0].clientWidth,r=s[0].clientHeight,i=+(m/h).toFixed(1),n=+(a/r).toFixed(1);n>=1.1&&n>i&&(f/=n/i,m/=n/i,h/=n/i)}else p(t,e)}m*=.9,h*=.9,f-=10;const g=(this.image.width()-m)/2+this.group.x(),y=(this.image.height()-h)/2+this.group.y(),v=360;let S=0;const P=120,w=(null===(s=this.cropState)||void 0===s||null===(a=s.cropRect)||void 0===a?void 0:a.width())||0,b=m-w,I=(null===(r=this.cropState)||void 0===r||null===(i=r.cropRect)||void 0===i?void 0:i.height())||0,k=h-I,C=(null===(n=this.cropState)||void 0===n||null===(o=n.cropRect)||void 0===o?void 0:o.x())||0,T=g-C,L=(null===(d=this.cropState)||void 0===d||null===(c=d.cropRect)||void 0===c?void 0:c.y())||0,M=y-L,$=this.cropState.imageSizeComp,A=f-$,_=new Ze.Animation((e=>{if(S+=e.timeDiff*v/1e3,0!==b){const e=b/P*S+w;var t,s,a,r;if(b>0&&e>m||b<0&&e<m)null===(t=this.cropState)||void 0===t||null===(s=t.cropRect)||void 0===s||s.width(m);else null===(a=this.cropState)||void 0===a||null===(r=a.cropRect)||void 0===r||r.width(e)}if(0!==k){const e=k/P*S+I;var i,n,o,d;if(k>0&&e>h||k<0&&e<h)null===(i=this.cropState)||void 0===i||null===(n=i.cropRect)||void 0===n||n.height(h);else null===(o=this.cropState)||void 0===o||null===(d=o.cropRect)||void 0===d||d.height(e)}if(0!==A){const e=A/P*S+$;this.cropState.imageSizeComp=A>0&&e>f||A<0&&e<f?f:e}if(0!==T){const e=T/P*S+C;var c,l,u,p;if(T>0&&e>g||T<0&&e<g)null===(c=this.cropState)||void 0===c||null===(l=c.cropRect)||void 0===l||l.x(g);else null===(u=this.cropState)||void 0===u||null===(p=u.cropRect)||void 0===p||p.x(e)}if(0!==M){const e=M/P*S+L;var F,E,D,U;if(M>0&&e>y||M<0&&e<y)null===(F=this.cropState)||void 0===F||null===(E=F.cropRect)||void 0===E||E.y(y);else null===(D=this.cropState)||void 0===D||null===(U=D.cropRect)||void 0===U||U.y(e)}(b>0&&this.cropState.cropRect.width()>=m||b<0&&this.cropState.cropRect.width()<=m&&T>0&&this.cropState.cropRect.x()>=g||T<0&&this.cropState.cropRect.x()<=g&&M>0&&this.cropState.cropRect.y()>=y||T<0&&this.cropState.cropRect.y()<=y&&k>0&&this.cropState.cropRect.height()>=h||k<0&&this.cropState.cropRect.height()<=h&&A>0&&this.cropState.imageSizeComp>=f||A<0&&this.cropState.imageSizeComp<=f)&&(this.cropState.cropRect.width(m),this.cropState.cropRect.height(h),this.cropState.cropRect.x(g),this.cropState.cropRect.y(y),this.cropState.imageSizeComp=f,_.stop()),this.methods.createShadowRects(this.cropState.cropRect,this.cropState,this.group)}),this.layer);_.start(),setTimeout((()=>{_.stop()}),1e3),this.stage.batchDraw()}var Ne=qe;function Ve(e){return this.viewState.screen=e,"default"===e?(this.image.draggable(!1),this.layer.batchDraw()):"crop"===e?(this.group.draggable(!1),setTimeout((()=>{this.methods.normalizeStageFile(),this.methods.addCropRect()}),100),this.image.draggable(!0)):"overlay"===e?(this.group.draggable(!1),this.methods.addOverlayRect()):"text"===e&&(this.group.draggable(!1),this.methods.addText()),!0}var He=Ve;function ze(){let e=this.cropState.maxImageScale,t,s,a,r,i,n;const o=()=>{t=this.stage.height()/(r*this.imageConf.ratio)*100,s=this.stage.width()/(r*this.imageConf.ratio)*100,a=t<=s?t:s,e=e<a?a:e};return this.cropState.cropRelations.forEach((t=>{t[0]===t[1]?(r=this.image.width()>=this.image.height()?this.image.height():this.image.width(),o()):(i=this.image.height()/t[1]*t[0],n=this.image.height(),i>this.image.width()?(a=i/this.image.width()*100,e=e<a?a:e):o(),i=this.image.width(),n=this.image.width()/t[1]*t[0],n>this.image.height()?(a=n/this.image.height()*100,e=e<a?a:e):o())})),e}var Ge=ze;function Xe(){this.cropState.cropOrientation=this.image.width()>this.image.height()?"landscape":"portrait",this.maxImageScale=this.methods.getMaxImageScale(),this.stage.findOne("#cropRectLayer")&&this.stage.findOne("#cropRectLayer").destroy(),this.cropState.cropRelationActive=0,this.cropState.cropRect=new ie.Rect({x:this.group.x(),y:this.group.y(),id:"cropRectNode",width:this.image.width(),height:this.image.height(),draggable:!1,fill:"transparent",stroke:"rgba(255,255,255,0.85)",strokeWidth:3/this.imageConf.ratio,scale:this.group.scale(),strokeEnabled:!0});const e=new ie.Rect({id:"multitouchCropRect",x:this.group.x(),y:this.group.y(),width:this.group.width(),height:this.group.height(),draggable:!0,dragBoundFunc:t=>(this.image.position({x:this.currentImagePos.x+(t.x-e.absolutePosition().x)/this.imageConf.ratio,y:this.currentImagePos.y+(t.y-e.absolutePosition().y)/this.imageConf.ratio}),this.layer.batchDraw(),this.group.absolutePosition())});e.on("dragstart",(()=>{this.currentImagePos=this.image.position()})),e.on("dragend",(()=>{this.currentImagePos=this.image.position(),this.image.cropReset=!1})),(0,be.Z)(e),e.on("rotatestart",(e=>{this.startScale=this.cropState.imageSizeComp/100,this.userActions.oldRotation=e.evt.gesture.rotation,this.image.stopDrag(),this.image.draggable(!1)})),e.on("rotate",(e=>{const t=this.userActions.oldRotation-e.evt.gesture.rotation;t<30&&t>-30&&(this.image.rotate(-t),this.userActions.oldRotation=e.evt.gesture.rotation);const s=this.startScale*e.evt.gesture.scale*100;s<=this.cropState.minImageScale?this.cropState.imageSizeComp=this.cropState.minImageScale:s>=this.cropState.maxImageScale?this.cropState.imageSizeComp=this.cropState.maxImageScale:this.cropState.imageSizeComp=s,this.layer.batchDraw(),this.cropState.imageRotateComp=this.image.rotation()})),e.on("rotateend rotatecancel",(()=>{this.image.draggable(!0),this.image.cropReset=!1,this.layer.batchDraw()})),this.layer.add(this.cropState.cropRect),this.layer.add(e),this.overlayState.overlayRect&&this.overlayState.overlayRect.hide(),ke.call(this).forEach((e=>{e.hide()})),this.layer.batchDraw(),this.methods.setUpCrop(0,0)}var Ye=Xe;async function Ke(){if(this.image.cropReset)this.layer.findOne("#multitouchCropRect").destroy(),this.cropState.cropRect.destroy(),this.cropState.cropRect=null,this.methods.changeScreen("default"),this.methods.normalizeStageFile(),this.overlayState.overlayRect&&(this.overlayState.overlayRect.show(),this.overlayState.overlayRect.moveToTop());else{var e,t,s,a,r,i,n,o,d,c,l,u,m,h,f,p,g;"function"==typeof(null===(e=this.cropState.cropRect)||void 0===e?void 0:e.strokeEnabled)&&this.cropState.cropRect.strokeEnabled(!1),this.group.clip({x:((null===(t=this.cropState)||void 0===t||null===(s=t.cropRect)||void 0===s?void 0:s.x())||0)-this.group.x(),y:((null===(a=this.cropState)||void 0===a||null===(r=a.cropRect)||void 0===r?void 0:r.y())||0)-this.group.y(),width:(null===(i=this.cropState)||void 0===i||null===(n=i.cropRect)||void 0===n?void 0:n.width())||0,height:(null===(o=this.cropState)||void 0===o||null===(d=o.cropRect)||void 0===d?void 0:d.height())||0}),this.stage.scale({x:1,y:1}),this.stage.size({width:this.stage.width(),height:this.stage.height()});const y=this.stage.toDataURL({x:(null===(c=this.cropState)||void 0===c||null===(l=c.cropRect)||void 0===l?void 0:l.x())||0,y:(null===(u=this.cropState)||void 0===u||null===(m=u.cropRect)||void 0===m?void 0:m.y())||0,width:(null===(h=this.cropState)||void 0===h||null===(f=h.cropRect)||void 0===f?void 0:f.width())||0,height:(null===(p=this.cropState)||void 0===p||null===(g=p.cropRect)||void 0===g?void 0:g.height())||0,pixelRatio:1,mimeType:"image/jpeg"});this.image.destroy(),this.group.clip({x:void 0,y:void 0,width:void 0,height:void 0}),this.layer.findOne("#multitouchCropRect").destroy(),this.cropState.cropRect.destroy(),this.cropState.cropRect=null,await this.methods.proceedFile(y,500).then((()=>{this.overlayState.overlayRect&&(this.methods.addOverlayRect(),this.methods.doOverlay())}))}ke.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))}var Qe=Ke;function Je(){window.showPreloader(),setTimeout((async()=>{if(this.logAction(`${this.viewState.screen} done`),"crop"===this.viewState.screen){await this.methods.doCrop();const e=this.api.currentFileStage.layer.findOne(".QuestionBlock");if(e){const{text:t,historyId:s}=e;e.destroy(),setTimeout((()=>{this.methods.addQuestion(void 0,{id:s,disableClickHandler:!0},t)}),1e3)}}else"overlay"===this.viewState.screen?await this.methods.doOverlay():"text"===this.viewState.screen&&this.methods.doText();this.methods.changeScreen("default"),window.hidePreloader()}))}var et=Je;function tt(){this.image.width(this.image.imgOrigWidth),this.image.height(this.image.imgOrigHeight),this.image.offsetX(this.image.imgOrigWidth/2),this.image.offsetY(this.image.imgOrigHeight/2),this.image.x(this.image.imgOrigWidth/2),this.image.y(this.image.imgOrigHeight/2),this.image.crop({x:0,y:0,width:this.image.imgOrigWidth,height:this.image.imgOrigHeight}),this.image.rotation(0),this.image.scale({x:1,y:1}),this.cropState.cropOrientation=this.image.width()>this.image.height()?"landscape":"portrait",this.methods.setUpCrop(0,0),this.image.cropReset=!0,this.stage.batchDraw()}var st=tt;function at(e){if("left"===e){const e=0;this.overlayState.leftColor="transparent",this.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},${e})`,1,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},0)`]),this.layer.batchDraw()}else{const e=0;this.overlayState.rightColor="transparent",this.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},0)`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},${e})`]),this.layer.batchDraw()}}var rt=at;function it(){let e=this.image.width()/2,t=this.image.width()/2,s=0,a=this.image.height(),r=0,i=0,n=0;if(180===Math.abs(this.overlayState.overlayRotation)||0===this.overlayState.overlayRotation)return{startPoint:{x:this.image.width()/2,y:0===this.overlayState.overlayRotation?0:this.image.height()},endPoint:{x:this.image.width()/2,y:0===this.overlayState.overlayRotation?this.image.height():0}};if(90===Math.abs(this.overlayState.overlayRotation))return{startPoint:{x:this.overlayState.overlayRotation<0?0:this.image.width(),y:this.image.height()/2},endPoint:{x:this.overlayState.overlayRotation<0?this.image.width():0,y:this.image.height()/2}};Math.abs(this.overlayState.overlayRotation)<90&&(n=this.overlayState.overlayRotation),Math.abs(this.overlayState.overlayRotation)>90&&Math.abs(this.overlayState.overlayRotation)<180&&(n=this.overlayState.overlayRotation<0?180+this.overlayState.overlayRotation:this.overlayState.overlayRotation-180),r=this.image.height()/2*Math.sin(n*(Math.PI/180));const o=Math.sqrt(Math.pow(this.image.width(),2)+Math.pow(this.image.height(),2)),d=180*Math.asin(Math.sin(this.image.height()/o))/Math.PI;return Math.abs(n)>90-d?(n<0?(e=0,t=this.image.width()):(e=this.image.width(),t=0),i=this.image.height()/2-this.image.width()/2*Math.tan(Math.PI*(90-Math.abs(n))/180),s=i,a=this.image.height()-i):(e=this.image.width()/2+r,t=this.image.width()/2-r,s=0,a=this.image.height()),Math.abs(this.overlayState.overlayRotation)>90&&Math.abs(this.overlayState.overlayRotation)<180&&(s=a+s,a=s-a,s-=a,e=t+e,t=e-t,e-=t),{startPoint:{x:e,y:s},endPoint:{x:t,y:a}}}var nt=it;function ot(){const e=this.methods.getOverlayGradientCoordinates();this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy();const t=new ie.Rect({id:"overlayRect",x:this.image.x(),y:this.image.y(),width:this.image.width(),height:this.image.height(),offsetX:this.image.offsetX(),offsetY:this.image.offsetY(),fillLinearGradientStartPoint:e.startPoint,fillLinearGradientEndPoint:e.endPoint,fillLinearGradientColorStops:[0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},1)`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},1)`],draggable:!1,opacity:this.overlayState.overlayOpacity});this.overlayState.overlayRect=t;const s=new ie.Rect({id:"multitouchRectOverlay",width:this.stage.width()/this.imageConf.ratio,height:this.stage.height()/this.imageConf.ratio,draggable:!1});let a;(0,be.Z)(s),s.on("rotatestart",(e=>{a=this.overlayState.overlayOpacityComputed/100,a=0===a?.01:a,this.userActions.oldRotation=e.evt.gesture.rotation})),s.on("rotate",(e=>{const t=this.userActions.oldRotation-e.evt.gesture.rotation;if(t<30&&t>-30){let s=this.overlayState.overlayRotationComputed-t;s=s>180?s-360:s<-180?s+360:s,this.overlayState.overlayRotationComputed=s,this.userActions.oldRotation=e.evt.gesture.rotation}const s=a*e.evt.gesture.scale*100;this.overlayState.overlayOpacityComputed=s<=0?0:s>=100?100:s,this.layer.batchDraw()})),s.on("rotateend rotatecancel",(()=>{this.layer.batchDraw()})),this.group.add(t),this.layer.add(s),ke.call(this).forEach((e=>{e.hide()})),this.layer.batchDraw()}var dt=ot;function ct(){const e="transparent"===this.overlayState.leftColor?"0":"1",t="transparent"===this.overlayState.rightColor?"0":"1";this.overlayState.overlayRect&&this.overlayState.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},${e})`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},${t})`]),this.overlayState.overlayReset=!1,this.layer.batchDraw()}var lt=ct;async function ut(){this.overlayState.overlayReset?(this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy(),this.layer.findOne("#multitouchRectOverlay").destroy()):this.layer.findOne("#multitouchRectOverlay").destroy();const e=await this.methods.imageFromGroup(!1,{onlyPicture:!0});this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy(),this.image.destroy(),await this.methods.proceedFile(e.dataURL,0).then((()=>{this.overlayState.overlayRect=null})),ke.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))}var mt=ut,ht=s(115306);function ft(e){const t=document.createElement("span");document.querySelector(".image_editor > .image_editor_holder").appendChild(t),t.id="span_check_textareasize",t.style.lineHeight=e.style.lineHeight,t.style.fontFamily=e.style.fontFamily,t.style.fontWeight=e.style.fontWeight,t.style.display="inline-block",t.style.color=e.style.color,t.style.fontSize=e.style.fontSize,t.style.position="absolute",t.style.width="auto",t.style.maxWidth=e.style.maxWidth,t.style.wordWrap="break-word",t.innerText="A";const s=t.offsetHeight,a=e.value.split("\n").length;t.style.padding=e.style.padding,t.innerHTML=e.value.replace(/\n\r?/g,"<br />");const r=t.offsetWidth+8,i=(t.offsetHeight-2*parseInt(e.style.padding,10))/s,n=document.querySelector(".image_editor").offsetWidth/2-t.offsetWidth/2,o=document.querySelector(".image_editor").offsetHeight/2-t.offsetHeight/2,d=undefined,c={width:r+10,height:s*(i>=a?i:a)+2*parseInt(e.style.padding,10),x:n,y:o};return t.remove(),c}var pt=ft;function gt(){const e=this.textState.currentText.getParent().findOne(".tag");this.textState.textBackground?(this.textState.textBackground=!1,e.fill(null),this.methods.changeTextColor("black"===this.textState.textBackgroundColor?"white":this.textState.textBackgroundColor)):(this.textState.textBackground=!0,e.fill(`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`),this.methods.changeTextColor("white"===this.textState.rightTextColor?"black":this.textState.rightTextColor))}var yt=gt;function vt(){if(!this.overlayState.overlayRect)return;this.api.events.$emit("overlayComputedsChange",{rotation:0,opacity:30}),this.overlayState.leftColor="transparent",this.overlayState.rightColor="transparent";const e="transparent"===this.overlayState.leftColor?"0":"1";this.overlayState.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},${e})`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},${e})`]),this.overlayState.overlayReset=!0,this.layer.batchDraw()}var St=vt;function Pt(e){const t=this.textState.currentText.getParent().findOne(".tag");t.fill()?(this.textState.textBackgroundColor=e,this.textState.currentText.textBackgroundColor=this.textState.textBackgroundColor,t.fill(`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`),"white"!==e?(this.textState.rightTextColor="white",this.textState.currentText.fill(`rgb(${this.overlayState.colors[this.textState.rightTextColor]})`)):(this.textState.rightTextColor="black",this.textState.currentText.fill(`rgb(${this.overlayState.colors[this.textState.rightTextColor]})`))):(this.textState.rightTextColor=e,this.textState.currentText.fill(`rgb(${this.overlayState.colors[this.textState.rightTextColor]})`));const s=document.getElementById("textEditArea");void 0!==s&&(s.style.background=t.fill()?`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`:"none",s.style.color=this.textState.currentText.fill()),this.layer.batchDraw()}var wt=Pt;function bt(){"center"===this.textState.textAlign?(this.textState.textAlign="left",this.textState.currentLabel.x(30/this.imageConf.ratio)):"left"===this.textState.textAlign?this.textState.textAlign="right":"right"===this.textState.textAlign&&(this.textState.textAlign="center"),this.textState.currentText.align(this.textState.textAlign);const e=document.getElementById("textEditArea");if(this.textState.currentLabel.moved=!1,void 0!==e){e.style.textAlign=this.textState.currentText.align();const t=this.methods.calcTextAreaParams(e);e.style.left=`${t.x}px`,e.style.top=`${t.y}px`}this.stage.batchDraw()}var It=bt;function kt(){const e=Object.keys(K);this.textState.textBold=e[(e.indexOf(this.textState.textBold)+1)%e.length];const t=document.getElementById("textEditArea");if(void 0!==t){t.style.fontWeight=`${K[this.textState.textBold]}`,this.textState.currentText.fontStyle(`${K[this.textState.textBold]}`);const e=this.methods.calcTextAreaParams(t);t.style.left=`${e.x}px`,t.style.top=`${e.y}px`,t.style.width=`${e.width}px`,t.style.height=`${e.height}px`}this.stage.batchDraw()}var Ct=kt,Tt=s(573210),Lt=s(956067),Mt=s(723787);function $t(e={},t={}){this.textState.rightTextColor="white",this.textState.textBackgroundColor="black",this.textState.textBackground=!1,this.textState.textAlign="center";const s=new Mt.Text({x:e.Text?e.Text.x:this.group.width()/2,y:e.Text?e.Text.y:this.image.y(),text:e.Text?e.Text.text:"",fontSize:e.Text?e.Text.fontSize:this.textState.defaultTextFontSize/this.imageConf.ratio,fontFamily:"Open Sans",padding:12/this.imageConf.ratio,align:this.textState.textAlign,fill:"rgb(255,255,255)",fontStyle:"regular"===this.textState.textStyle?"normal":this.textState.textStyle});e.Text||(s.x(s.x()-s.width()/2),s.textBackgroundColor=null);const a=new Lt.Label({x:t.childX||this.group.width()/2-s.width()/2,y:t.childY||this.image.y(),draggable:!1,scale:{x:t.scaleX||1,y:t.scaleY||1},name:"label"});a.moved=!1,a.add(new Lt.Tag({cornerRadius:5/this.imageConf.ratio,name:"tag"})),a.add(s),t.rotation&&a.rotation(t.rotation);const{group:r,circle:i}=Fe.call(this,a);if(t.id){a.historyId=t.id,r.historyId=a.historyId;const e=this.history.installMoveableObject(r,a);r.historyId=e.id}if(e.Text&&(t.childX||(a.x(e.x),a.y(e.y)),a.children.each((t=>{const s=e[t.className];s&&Object.keys(s).forEach((e=>{t[e](s[e])}))})),a.historySource=e),t.x&&r.x(t.x),t.y&&r.y(t.y),r.draggable(!0),!e.Text){const e=new ie.Rect({x:0,y:0,width:this.image.width(),height:this.image.height(),fill:"rgba(0,0,0,0.4)",id:"shadowRect"});this.group.add(e)}this.textState.currentText=s,this.textState.currentLabel=a;let n=0;s.addEventListener("tap",(()=>{n||setTimeout((()=>{n=0}),300),n+=1,2===n&&s.fire("dblclick")})),s.addEventListener("dblclick",(()=>{if(i.hide(),this.textState.afterTextRotate)return this.textState.afterTextRotate=!1,!1;a.hide();const e=document.createElement("textarea");if(e.onblur=()=>{e.focus()},document.querySelector(".image_editor > .image_editor_holder").appendChild(e),this.textState.currentText=s,this.textState.currentLabel=a,"text"!==this.viewState.screen){this.viewState.screen="text";const e=this.textState.currentText.getParent().findOne(".tag");this.textState.textBackground=!!e.fill();const t=new ie.Rect({x:0,y:0,width:this.image.width(),height:this.image.height(),fill:"rgba(0,0,0,0.4)",id:"shadowRect"});this.group.add(t),a.moveUp()}this.layer.batchDraw(),this.textState.textBackgroundColor=this.textState.currentText.textBackgroundColor,this.textState.textAlign=this.textState.currentText.align(),e.value=s.text(),e.style.position="absolute",e.style.fontSize=s.fontSize()*this.imageConf.ratio+"px",e.style.fontStyle="normal",e.style.fontWeight=this.textState.currentText.fontStyle(),e.style.border="none",e.style.wordWrap="break-word",e.style.borderRadius="5px",e.style.padding=s.padding()*this.imageConf.ratio+"px",e.style.margin="0px",e.style.overflow="hidden",e.style.background="none",e.style.background=a.findOne(".tag").fill()?`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`:"none",e.style.outline="none",e.style.resize="none",e.style.lineHeight=s.lineHeight(),e.style.fontFamily=s.fontFamily(),e.style.transformOrigin="left top",e.style.textAlign=s.align(),e.style.color=s.fill(),e.style.zIndex=10,e.style.maxWidth=this.config.width-120+"px",e.id="textEditArea",e.focus(),+this.textState.currentText.fontStyle()?this.textState.textBold=Object.keys(K).find((e=>`${K[e]}`===this.textState.currentText.fontStyle())):this.textState.textBold="regular";const t=this.methods.calcTextAreaParams(e);e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.x}px`,e.style.top=`${t.y}px`,e.addEventListener("focusout",(()=>{})),"input propertychange".split(" ").forEach((t=>{e.addEventListener(t,(()=>{const t=this.methods.calcTextAreaParams(e),s=this.textState.currentText.getParent().findOne(".tag");e.style.background=s.fill()&&e.value.replace(/[\r\n]+/gm,"").trim().length?`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`:"none",e.style.left=`${t.x}px`,e.style.top=`${t.y}px`,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`}))})),setTimeout((()=>{}))})),e.Text||s.fire("dblclick")}var At=$t;function _t(){let e=document.getElementById("textEditArea");void 0!==e&&this.methods.removeTextArea(e,this.textState.currentText,this.textState.currentLabel,null),this.currentText=null,this.currentLabel=null}var Ft=_t;function Et(e,t,s,a){if(!e)return!1;if(e.value.length>0){if(void 0!==s&&void 0!==s.getText()){t.width(parseInt(e.style.width)/this.imageConf.ratio),t.text(e.value);const a=s.parent;if(s.historySource&&(s.from=JSON.parse(JSON.stringify({...s.historySource,x:s.x(),y:s.y()}))),s.moved){const e=s.position().x+s.width()/2;s.x(e-s.width()/2)}else s.x(this.group.width()/2-t.width()/2);s.show(),s.moveUp(),s.historySource={x:s.x(),y:s.y(),...s.children.reduce(((e,t)=>(e[t.className]=t.attrs,e)),{})},s.historySource=JSON.parse(JSON.stringify(s.historySource)),a.historyId=s.historyId;const r=this.history.installMoveableObject(a,s);a.historyId=r.id,r.id===s.historyId&&this.history.push("moveableObject","modifyAttrs",r.id,this.history.normalizeMoveableObject(s)),s.historyId=a.historyId}}else t.destroy(),s.destroy(),this.textState.currentText=null,this.textState.currentLabel=null,this.layer.batchDraw();const r=this.group.findOne("#shadowRect");void 0!==r&&r.destroy(),this.layer.batchDraw(),e.remove(),window.removeEventListener("click",a),window.removeEventListener("touchstart",a),this.textState.currentText=null,this.textState.currentLabel=null,this.methods.changeScreen("default")}var Dt=Et;async function Ut(e,t={}){window.showPreloader();const s=s=>{const a=new Image;a.onload=()=>{const r=t.scaleX||.25*this.group.height()/a.height,i=t.scaleY||.25*this.group.width()/a.width,n=r<i?r:i,o=re(a,n);o.x(t.childX||this.group.width()/2-o.width()/2*n),o.y(t.childY||this.group.height()/2-o.height()/2*n),o.imgSrc=e,o.imgOrigWidth=a.width,o.imgOrigHeight=a.height,o.perfectDrawEnabled(!1),o.fixed_ratio=!0,t.rotation&&o.rotation(t.rotation),t.id&&(o.historyId=t.id),s(o)},a.src=e},a=await new Promise(s),{group:r}=Fe.call(this,a);return t.x&&r.x(t.x),t.y&&r.y(t.y),this.api.events.$emit("stickerAdded",r),this.logAction("sticker add"),this.methods.normalizeStageFile(),window.hidePreloader(),r}var Rt=Ut,Ot=s(963729),xt=s(550196);const Bt="streamfans.js?rev=202310251539-21edf1068d";class jt{constructor(e){this.worker=e,this.callStack={},this.worker.onmessage=e=>{const t=e.data;this.callStack[t.id]&&(t.error?this.callStack[t.id].reject(t.result):this.callStack[t.id].resolve(t.result))}}async post(e,t){const s=Math.random().toString(36).substr(2,9);return this.callStack[s]=(0,Ot.P)(),this.worker.postMessage({fn:e,args:t,id:s}),this.callStack[s].promise.then((e=>(t=[],e)))}}const Wt=function(){function e(e,t){try{return e()}catch(s){throw console.error(s),Sentry.withScope((e=>{e.setTag("ImageEditor",!0),e.setExtra("error",s),Sentry.captureException(new Error("Image editor worker error"))})),new Error(t)}}function t(e){const{width:t,height:s}=e,a=Module.pxImageData.createObject(t,s,4),r=a.data(),i=e.data;return Module.HEAPU8.set(i,r),a}function s(e){const t=e.length,s=Module.pxEncodedData.createObject();s.create(t);const a=s.data(),r=e;return Module.HEAPU8.set(r,a),s}function a(e){const t=e.size(),s=e.data();return new Uint8Array(Module.HEAPU8.buffer,s,t)}Module.perform=function(r,i,n){let o=null;const d=e((()=>t(r)),"Background convert errored");if(i){const t=e((()=>s(i.gifBuffer)),"Gif convert errored");o=a(e((()=>Module.make_stick_mp4(d,t,i.x,i.y,i.rotation,i.width,i.height)),"New gif is not done")),t.delete()}else console.log(r,i,n),console.log(d),console.log(n),o=a(e((()=>Module.make_img2mp4_ext(d,n,6e7)),"New video is not created to js Buffer"));return d.delete(),new Blob([o],{type:"video/mp4"})}};async function Zt(){const e=(0,Ot.P)();if(window.WASMMP4Worker)e.resolve(window.WASMMP4Worker);else{const t=window.location.origin,s="/theme/onlyfans/spa/",a=await xt.default.get(`${s}${Bt}`,{responseType:"arraybuffer"}),r=new Blob([a.data],{type:"text/plain"}),i=await new Promise((e=>{const t=new FileReader;t.onload=t=>{e(t.target.result)},t.readAsText(r)})),n=`\n  Module = {};\n  Module.locateFile = function () { return '${t}${s}streamfans.wasm?rev=202310251539-21edf1068d' };\n  Module.onRuntimeInitialized = function () { console.log('WASM ready'); postMessage({ ready: true }) };\n  (${Wt})()\n  onmessage = function (e) {\n    var id = e.data.id;\n    var fn = e.data.fn;\n    var args = e.data.args;\n    var result = null;\n    var error = false;\n    try {\n      result = Module[fn].apply(null, args);\n    } catch (e) {\n      error = true;\n      result = e;\n    }\n    var argsToSend = { result: result, fn: fn, id: id, error: error };\n    postMessage({ result: result, fn: fn, id: id, error: error });\n\n    for (var key in args) {\n      delete args[key];\n    }\n  }\n  ${i}\n  `,o=URL.createObjectURL(new Blob([n],{type:"application/javascript"})),d=new Worker(o);d.onmessage=t=>{try{t.data.ready&&(window.WASMMP4Worker=new jt(d),e.resolve(window.WASMMP4Worker))}catch(t){e.reject(t)}}}return e.promise}class qt{constructor({backgroundImageData:e,gifs:t=[],time:s=1e3,context:a}={}){this.time=s,this.Module=null,this.background=e,this.context=a,this.gif=t[0],this.result=null}static createWorker(e){const t=e;t.workerLoaded||t.worker||(t.worker=Zt(),console.log("WASM start loading"),t.worker.then((e=>{t.workerLoaded=!0,t.worker=e})).catch((e=>{Sentry.withScope((t=>{t.setTag("ImageEditor",!0),Sentry.captureException(e)}))})))}async perform(){qt.createWorker(this.context);const e=undefined;return await this.post("perform",[this.background,this.gif,this.time])}async post(e,t=[]){return this.context.workerLoaded||await this.context.worker,this.context.worker.post(e,t)}}var Nt=qt;async function Vt(e,{toCanvas:t=!1,toVideo:s=!1,onlyPicture:a=!1}={}){this.api.events.$emit("preSave");const r=this.group.findOne(".QuestionBlock");r&&!a&&r.destroy();const i=s?2e3:1200,n=this.gifs.storage.length,o=(n||s)&&!a&&this.image.width()>i?100/this.image.width()*i/100:1;if(this.stage.scale({x:o,y:o}),this.deepArSettings.ratio=o,this.stage.size({width:this.stage.width(),height:this.stage.height()}),(n||s)&&!a){const e=this.gifs.storage[0],t=this.group.toCanvas({x:this.image.x()*o-this.image.width()*o/2+this.group.x()*o,y:this.image.y()*o-this.image.height()*o/2+this.group.y()*o,width:this.image.width()*o,height:this.image.height()*o,pixelRatio:1});this.api.events.$emit("showGifs");const a=undefined,r=t.getContext("2d").getImageData(0,0,t.width,t.height),i=[];if(e&&!s){const t=e.buffer,s=this.image.getClientRect(),a=e.konva.getClientRect(),r=a.x-s.x,n=a.y-s.y,d=e.konva.width()*e.konva.scaleX()*o,c=e.konva.height()*e.konva.scaleX()*o,l=-1*e.konva.rotation();i.push({gifBuffer:t,x:r,y:n,width:d,height:c,rotation:l})}this.methods.normalizeStageFile();const n=new Nt({backgroundImageData:r,gifs:i,context:this.gifs}),d=undefined;return{mime:"video/mp4",blob:await new Promise((e=>{const t=setTimeout((()=>{this.logError(new Error("Too long init video")),alert("Media is too large."),window.hidePreloader(),e(!1)}),2e4);n.perform().then((s=>{clearTimeout(t),e(s)})).catch((e=>(clearTimeout(t),Sentry.withScope((t=>{t.setTag("ImageEditor",!0),t.setExtra("error",e),Sentry.captureException(new Error("Failed to process story"))})),alert("Something went wrong. Please try again"),window.hidePreloader(),!1)))}))}}const d=this.group[t?"toCanvas":"toDataURL"]({x:this.image.x()-this.image.width()/2+this.group.x(),y:this.image.y()-this.image.height()/2+this.group.y(),width:this.image.width(),height:this.image.height(),pixelRatio:1,mimeType:"image/jpeg"});if(this.methods.normalizeStageFile(),!t){const e=d.split(","),t=((e[0]||"").match(/:(.*?);/)||[])[1],s=atob(e[1]);let a=s.length;const r=new Uint8Array(a);for(;a--;)r[a]=s.charCodeAt(a);return{mime:t,buffer:r,dataURL:d}}return{canvas:d}}var Ht=Vt;async function zt(){var e;const t="new_file",s=await this.methods.imageFromGroup(!0);let a=null==s||null===(e=s.mime)||void 0===e?void 0:e.split("/")[1];if(!a)return!1;if("mp4"===a&&(a="gif"),s.buffer)return new File([s.buffer],`${t}.${a}`,{type:s.mime});if(s.blob){const e=await new Promise((e=>{const t=new FileReader;t.onload=t=>{e(t.target.result)},t.readAsArrayBuffer(s.blob)}));return new File([e],`${t}.${a}`,{type:s.mime})}return!1}var Gt=zt;function Xt(e,t,s){t.shadows&&t.shadows.destroy();let a=s.getClientRect();a={x:a.x,y:a.y,height:a.height/this.imageConf.ratio,width:a.width/this.imageConf.ratio};let r=e.getClientRect();r={x:r.x,y:r.y,height:r.height/this.imageConf.ratio,width:r.width/this.imageConf.ratio};const i=2*a.width+r.width,n=r.height,o=i,d=n,c=a.width,l=r.height,u=c,m=l,h=r.x+(e.x()-(r.x+s.x()))-c,f=r.y+(e.y()-(r.y+s.y()))-n,p=h,g=r.y+(e.y()-(r.y+s.y()))+d,y=r.x?r.x+(e.x()-(r.x+s.x()))-c:0-c,v=r.y+(e.y()-(r.y+s.y())),S=r.x?r.x+(e.x()-(r.x+s.x()))+r.width:r.width,P=r.y+(e.y()-(r.y+s.y())),w=ne({x:h,y:f,height:n,width:i}),b=ne({x:p,y:g,height:d,width:o}),I=ne({x:y,y:v,height:l,width:c}),k=ne({x:S,y:P,height:m,width:u});return t.shadows=new Q.Group,t.shadows.add(w),t.shadows.add(b),t.shadows.add(I),t.shadows.add(k),this.group.add(t.shadows),!0}var Yt=Xt;async function Kt(e,t={}){Object.keys(this.gifs.storage).length&&(this.gifs.storage[0].konva.destroy(),this.gifs.storage=[]),window.showPreloader(),Nt.createWorker(this.gifs);const s=await pe.call(this,e,this.layer);t.childX&&s.gif.x(t.childX),t.childY&&s.gif.y(t.childY),t.id&&(s.gif.historyId=t.id),t.rotation&&s.gif.rotation(t.rotation);const{group:a}=Fe.call(this,s.gif);this.api.events.$on("preSave",(()=>{a.hide()})),this.gifs.storage.push({konva:s.gif,buffer:s.buffer}),t.x&&a.x(t.x),t.y&&a.y(t.y),this.api.events.$on("showGifs",(()=>{a.show()})),this.api.events.$emit("gifAdded",this.gifs.storage.gif),!0===this.settings.saveAsCopy&&this.api.events.$emit("saveAsCopyPermToggle",!1),this.logAction("gif add"),window.hidePreloader()}const Qt=e=>{const t=2,s=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/;let a=(e.displayName||e.name).trim();const r=[];if(a){const e=a.split(/\s+/);if(!(e.length>1))return a=a.replace(s,""),a.substr(0,Math.min(a.length,2)).split("").map(((e,t)=>t?e:e.toUpperCase())).join("");for(let t=0;t<Math.min(e.length,2);t+=1){const a=[...e[t].toString().trim()][0];(r.length<1||!s.exec(r[0])&&!s.exec(a))&&r.push(a)}}return r.join("").toUpperCase()};function Jt(e,t,s){this.questionOnBlurHandler&&this.api.events.$root.$off("imageEditor::question::blur",this.questionOnBlurHandler),this.hide&&this.api.events.$root.$off("imageEditor::question::focus",this.hide);const a=this.api.$store.getters["auth/authUser"],{avatarThumbs:r}=a,i=this.image.width(),n=this.image.height(),o=undefined,d=(i/n<=1?.5*i:.25*i)/.9,c=undefined,l=undefined,u=undefined,m=.08*d,h=m+d/100,f=16*d/332,p=24*f/16,g=20*f/16,y=d/10-f,v=.42*p-f,S=i/2-d/2,P=n/2,w=e=>{const r=new Lt.Label({x:S,y:P,width:d}),o=new Lt.Label({x:(d-m)/2,width:d});o.add(new Te.Circle({radius:h,fill:"white",stroke:"#8a96a340",strokeWidth:1})),e?o.add(new Te.Circle({radius:m,fillPatternImage:e,fillPatternRepeat:"no-repeat",fillPatternScaleX:2*m/e.width,fillPatternScaleY:2*m/e.width,fillPatternOffsetX:e.width/2,fillPatternOffsetY:e.width/2})):(o.add(new Te.Circle({radius:m,fill:"#8a96a31f"})),o.add(new Mt.Text({fill:"#00aff0",fontStyle:"bold",padding:-g/2,verticalAlign:"middle",text:Qt(a),fontSize:g,width:.9*d})));const c=new Lt.Label({y:y}),l=new Mt.Text({fill:"#00aff0",fontStyle:"normal",text:"Ask me a question",align:"center",verticalAlign:"middle",fontSize:p,width:d-2*f,padding:f,lineHeight:1.25});c.add(l);const u=new Lt.Label({x:.05*d}),w=new Lt.Tag({fill:"#8a96a340",cornerRadius:d/50});u.add(w),u.add(new Mt.Text({fill:"#8a96a3",text:"write something...",align:"center",width:.9*d-2*f,padding:f,fontSize:f}));const b=new Lt.Tag({fill:"rgba(255,255,255,1)",cornerRadius:d/50,width:d,stroke:"#8a96a340",strokeWidth:1}),I=new Lt.Label({name:"QuestionBlock"});r.add(b),r.add(o),r.add(c),r.add(u),I.add(r),null!=t&&t.id&&(I.historyId=t.id);const{group:k}=Fe.call(this,I,!0),C=(e,t)=>{const s=e/this.image.width(),a=t/this.image.height();this.api.events.$root.$emit("imageEditor::question::updateCoords",{x:s,y:a,width:d})},T=()=>{const{x:e,y:t}=k.position(),s=e-d/2+this.image.width()/2,a=t+this.image.height()/2,r=b.getHeight();let o,c;s<0&&(o=0),s>i-.9*d&&(o=i-.9*d),a<h&&(c=h),a>n-r&&(c=n-r);const l=void 0!==o?o:s,u=void 0!==c?c:a;if(void 0!==o||void 0!==c){const e=l+d/2-this.image.width()/2,t=u-this.image.height()/2;k.position({x:e,y:t})}C(l,u)};function L(){k.show(),k.parent.parent.draw()}this.hide=()=>{k.hide(),k.parent.parent.draw()},this.questionOnBlurHandler=e=>{I.text=e||"Ask me a question",l.setAttr("text",I.text);const t=l.getHeight(),s=u.getHeight();u.setY(t+y+v),w.setHeight(s);const a=t+s+y+v+.05*d;b.setHeight(a),L()};const M=()=>{this.api.events.$root.$emit("imageEditor::question::focus")};return this.api.events.$root.$on("imageEditor::question::focus",this.hide),this.api.events.$root.$on("imageEditor::question::blur",this.questionOnBlurHandler),k.on("dragend",T),k.on("click",M),k.on("tap",M),T(),this.hide(),t&&!t.disableClickHandler&&M(),s&&this.questionOnBlurHandler(s),this.logAction("question add"),this.methods.normalizeStageFile(),k};if(r){const e=new Image;e.src=r.c192||r.c144,e.onload=()=>{w(e)}}else w()}var es=Jt;function ts(){const{answer:e}=this.settings;if(!e)return;const t=this.image.width(),s=this.image.height(),a=undefined,r=undefined,i=t/s<=1?.5*t:.25*t,n=undefined,o=undefined,d=16*i/332,c=24*d/16,l=t/2-i/2,u=s/2,m=new Lt.Label({x:l,y:u,width:i}),h=new Lt.Label({width:i}),f=new Lt.Tag({fill:"#262626",width:i,cornerRadius:i/50}),p=new Lt.Tag({fill:"#262626",width:i,height:i/25}),g=new Mt.Text({fill:"white",text:e.question,align:"center",width:i,padding:d,fontSize:d});h.add(f),h.add(p),h.add(g);const y=new Lt.Label({width:i}),v=new Lt.Tag({fill:"white",width:i,cornerRadius:i/50,stroke:"#8a96a340",strokeWidth:1}),S=new Lt.Tag({fill:"white",width:i,height:i/25}),P=new Mt.Text({fill:"#262626",text:e.text,align:"center",width:i,padding:c,fontSize:c});y.add(v),y.add(S),y.add(P);const w=new Lt.Label({name:"AnswerBlock"});m.add(h),m.add(y),w.add(m);const{group:b}=Fe.call(this,w,!0);b.draggable(!0),b.parent.parent.draw();const I=g.getHeight();f.setHeight(I),p.setY(I-i/25);const k=P.getHeight();y.setY(I),v.setHeight(k),b.on("dragend",(()=>{const{x:e,y:a}=b.position(),r=e-i/2+this.image.width()/2,n=a+this.image.height()/2,o=I+k;let d,c;r<0&&(d=0),r>t-i&&(d=t-i),n<0&&(c=0),n>s-o&&(c=s-o);const l=undefined,u=void 0!==c?c:n;if(void 0!==d||void 0!==c){const e=(void 0!==d?d:r)+i/2-this.image.width()/2,t=u-this.image.height()/2;b.position({x:e,y:t})}})),b.parent.parent.draw(),this.logAction("answer add")}var ss=ts;const as={moveableObject:{create:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];t.destroy(),"gif"===e.name&&(this.gifs.storage=[])},redo({options:e}){if("sticker"===e.name)this.methods.addSticker(e.source,{id:e.id});else if("gif"===e.name)this.methods.addGif(e.source,{id:e.id});else if("label"===e.name)this.methods.addText(e.source,{id:e.id});else if("QuestionBlock"===e.name){const t=undefined,s=Object.entries(this.history.moveableObjects).map((e=>e[1])).find((e=>{var t;return"QuestionBlock"===(null===(t=e.konva.children[0])||void 0===t?void 0:t.attrs.name)}));s&&s.konva.destroy(),this.methods.addQuestion(e.source,e)}else"AnswerBlock"===e.name&&this.methods.addAnswer()}},modifyPosition:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];Object.keys(e.from).forEach((s=>{"function"==typeof t[s]&&t[s](e.from[s])}))},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];Object.keys(e).forEach((s=>{"function"==typeof t[s]&&t[s](e[s])}))}},modifyRotation:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];let s;t.children.each((e=>{"Circle"!==e.className&&(s=e)})),Object.keys(e.from).forEach((t=>{"function"==typeof s[t]&&s[t](e.from[t])}))},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];let s;t.children.each((e=>{"Circle"!==e.className&&(s=e)})),Object.keys(e).forEach((t=>{"function"==typeof s[t]&&s[t](e[t])}))}},delete:{undo({options:e}){"sticker"===e.name?this.methods.addSticker(e.source,e):"gif"===e.name?this.methods.addGif(e.source,e):"label"===e.name?this.methods.addText(e.source,e):"QuestionBlock"===e.name?this.methods.addQuestion(e.source,e):"AnswerBlock"===e.name&&this.methods.addAnswer()},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];t.destroy(),"gif"===e.name&&(this.gifs.storage=[])}},modifyAttrs:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];if("label"===e.name){let s=null;t.children.each((e=>{"Label"===e.className&&(s=e)})),s&&(s.x(e.from.x),s.y(e.from.y),s.children.each((t=>{const s=e.from[t.className];s&&Object.keys(s).forEach((e=>{t[e](s[e])}))})))}},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];if("label"===e.name){let s=null;t.children.each((e=>{"Label"===e.className&&(s=e)})),s&&(s.x(e.source.x),s.y(e.source.y),s.children.each((t=>{const s=e.source[t.className];s&&Object.keys(s).forEach((e=>{t[e](s[e])}))})))}}}},image:{modify:{async undo({options:e}){this.image.destroy(),await this.methods.proceedFile(e.from,100,!0),ke.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))},async redo({options:e}){this.image.destroy(),await this.methods.proceedFile(e.to,100,!0),ke.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))}}},deepAr:{vector:{async undo({options:e}){this.deepAr.changeParameterVector.apply(null,e.to),this.deepArSettings.category=e.fromState.category,this.deepArSettings.foundation=e.fromState.foundation,this.deepArSettings[`${e.fromState.category}sub`]=e.fromState.subcategory,this.deepAr.changeParameterFloat("face_makeup","MeshRenderer","foundationLumaClamp",e.oldLumaValue),e.oldLumaValue?this.deepArSettings.foundationIndex=e.fromState.index:this.deepArSettings.foundationIndex=e.fromState.shouldSaveIndex?e.fromState.index:-1,this.deepArSettings.foundationColorsMapStates[`${e.fromState.foundation}${this.deepArSettings.foundationColorsMap[e.fromState.foundation][e.fromState.index].join(",")}`]=e.oldLumaValue,this.deepArSettings.foundation=e.fromState.foundation,this.api.events.$emit("deepArRerender")},async redo({options:e}){this.deepAr.changeParameterVector.apply(null,e.to),this.deepArSettings.category=e.toState.category,this.deepArSettings.foundation=e.toState.foundation,e.lumaValue?this.deepArSettings.foundationIndex=e.toState.index:this.deepArSettings.foundationIndex=e.toState.shouldSaveIndex?e.toState.index:-1,this.deepArSettings[`${e.toState.category}sub`]=e.toState.subcategory,this.deepAr.changeParameterFloat("face_makeup","MeshRenderer","foundationLumaClamp",e.lumaValue),this.deepArSettings.foundationColorsMapStates[`${e.toState.foundation}${this.deepArSettings.foundationColorsMap[e.toState.foundation][e.toState.index].join(",")}`]=e.lumaValue,this.api.events.$emit("deepArRerender")}},parameter:{async undo({options:e}){this.deepArSettings[e.from[0]][e.from[2].replace("blendShape1.","")]=e.shouldReverse?-1*e.from[3]:e.from[3],this.deepArSettings.category=e.category,this.deepArSettings[`${e.category}sub`]=e.subcategory,e.subsubcategory?this.deepArSettings[`${e.category}subsub`]=e.subsubcategory:this.deepArSettings[`${e.category}subsub`]=!1,this.deepAr.changeParameterFloat.apply(null,e.from),this.api.events.$emit("deepArRerender")},async redo({options:e}){this.deepArSettings[e.to[0]][e.to[2].replace("blendShape1.","")]=e.shouldReverse?-1*e.to[3]:e.to[3],this.deepArSettings.category=e.category,this.deepArSettings[`${e.category}sub`]=e.subcategory,e.subsubcategory?this.deepArSettings[`${e.category}subsub`]=e.subsubcategory:this.deepArSettings[`${e.category}subsub`]=!1,this.deepAr.changeParameterFloat.apply(null,e.to),this.api.events.$emit("deepArRerender")}}}};async function rs(e,t){const s=t?this[`history${t}`]:this.history;await new Promise((async a=>{const r=s[e][s[e].length-1];await as[r.type][r.stateType][e].call(this,r,t),this.layer.batchDraw(),s.pop(e);const i=s.undo.length;s.undo=s.undo.slice(-15),s.redo=s.redo.slice(-15),t||i===s.undo.length||(s.didClear=!0),setTimeout((()=>{a()}),100)}))}var is=rs;function ns(){const e=Object.assign({},a),t=this;for(const s in e)e[s]=function(...e){try{const r=a[s].apply(t,e);return r&&r.catch&&r.catch((e=>{t.logError(e,!0)})),r}catch(r){t.logError(r)}};return e}var os=s(888638);const ds=function(){return!(0===this.history.undo.length&&!this.history.didClear)};function cs(e){const t=()=>{Object.keys(this.historyBlobs).forEach((e=>{window.URL.revokeObjectURL(e)}))};this.sendFile=async(s,a)=>{this.api.isStory||window.showPreloader();const r=a?e:await this.methods.createFileType(`${e.name}_edited`);r&&(this.resolve({didModify:ds.call(this),asCopy:s,file:r}),this.logAction("file resolved",{asCopy:s}),t()),window.hidePreloader()},this.rejectFile=(s={})=>{this.reject({didModify:!1,asCopy:!1,retake:!1,...s,file:e}),this.logAction("file rejected"),t()},this.logAction=e=>{try{(0,os.Ck)({page:`ImageEditor_${e.replace(" ","-")}`,eventTime:(new Date).toISOString()})}catch(t){console.error(t)}},this.logError=(e,t)=>{Sentry.withScope((t=>{t.setTag("ImageEditor",!0),Sentry.captureException(e)})),t||console.error(e)}}function ls(e){const t=this;this.viewState={screen:"default",longTap:!1,isRotatingMoveable:!1},this.imageConf={ratio:1,shadows:null,html:null},this.userActions={shapeIsDraging:null,shapeIsRotating:null,selectedShape:null,oldRotation:0},this.gifs={storage:[],workerLoaded:!1,worker:null};const s={width:0,height:0,ratio:1,category:"makeup",makeupsub:"smooth",facesub:!1,facesubsub:!1,foundationColorsMapStates:{},face_makeup:{smoothingAmount:.3},beauty_shapes:{eyebrows_thickness:0,upper_position_alt:0,eyebrows_position:0,mouth_horizontal:0,jawline:0,mouth_vertical:0,thin:0,nose:0,mouth:0,eyes:0,chin:0},foundation:"light",foundationColorsMap:{light:[[255,250,231,1],[247,221,195,1],[230,184,172,1],[243,205,165,1],[244,205,162,1],[246,212,158,1],[215,189,137,1]],medium:[[220,182,148,1],[182,137,104,1],[233,154,99,1],[200,130,88,1],[217,150,104,1],[156,120,75,1]],dark:[[163,117,93,1],[137,110,83,1],[101,68,38,1],[85,63,39,1],[96,55,40,1]]},foundationIndex:-1};this.deepAr=null,this.deepArSettings=JSON.parse(JSON.stringify(s)),this.resetDeepArSettings=()=>{this.deepArSettings=JSON.parse(JSON.stringify(s))},this.cropState={cropOrientation:"portrait",cropRelationActive:1,cropRelations:[[9,16],[2,3],[3,4],[1,1]],cropXSide:1,cropYSide:1,cropRect:null,shadows:null,maxImageScale:200,minImageScale:50},Object.defineProperty(this.cropState,"imageSizeComp",{get:()=>100*+t.image.scaleX(),set(s){t.image.cropReset=!1,t.image.scale({x:+s/100,y:+s/100}),t.layer.batchDraw(),e.events.$emit("imageSizeViewChange",s)}}),e.events.$on("imageSizeStateChange",(e=>{this.cropState.imageSizeComp=e})),Object.defineProperty(this.cropState,"imageRotateComp",{get:()=>+t.image.rotation(),set(s){t.image.rotation(+s),t.layer.batchDraw(),e.events.$emit("imageRotateViewChange",s)}}),e.events.$on("imageRotateStateChange",(e=>{this.cropState.imageRotateComp=e})),this.overlayState={leftColor:"blue",rightColor:"pink",colors:{white:"255,255,255",black:"0,0,0",blue:"56,151,241",green:"112,192,79",yellow:"253,203,92",orange:"252,141,51",pink:"209,7,106",purple:"162,7,186",transparent:"0,0,0"},overlayRect:null,overlayOpacity:.3,overlayRotation:0,overlayReset:!1},Object.defineProperty(this.overlayState,"overlayOpacityComputed",{get:()=>100*t.overlayState.overlayOpacity,set(e){t.overlayState.overlayReset=0===e,t.overlayState.overlayOpacity=e/100,t.overlayState.overlayRect.opacity(t.overlayState.overlayOpacity),t.layer.batchDraw()}}),Object.defineProperty(this.overlayState,"overlayRotationComputed",{get:()=>+t.overlayState.overlayRotation,set(e){t.overlayState.overlayRotation=+e;const s=t.methods.getOverlayGradientCoordinates();t.overlayState.overlayRect.fillLinearGradientStartPoint(s.startPoint),t.overlayState.overlayRect.fillLinearGradientEndPoint(s.endPoint),t.layer.batchDraw()}}),this.textState={currentText:"",defaultTextFontSize:18,currentLabel:null,textAlign:"left",textBold:"regular",rightTextColor:"white",textBackgroundColor:"black",textBackground:!1,afterTextRotate:!1},Object.defineProperty(this.textState,"size",{get:()=>t.textState.currentText?t.textState.currentText.fontSize()*t.imageConf.ratio:t.textState.defaultTextFontSize,set(e){const s=document.getElementById("textEditArea");if(s){s.style.fontSize=`${e}px`;const a=t.methods.calcTextAreaParams(s);s.style.width=`${a.width}px`,s.style.height=`${a.height}px`,s.style.left=`${a.x}px`,s.style.top=`${a.y}px`}const a=t.textState.currentLabel.position().x+t.textState.currentLabel.width()/2,r=t.textState.currentLabel.position().y+t.textState.currentLabel.height()/2;t.textState.currentText.fontSize(e/t.imageConf.ratio),t.textState.currentLabel.x(a-t.textState.currentLabel.width()/2),t.textState.currentLabel.y(r-t.textState.currentLabel.height()/2),t.layer.batchDraw()}})}var us=s(502568);function ms(){const e={[this.history.initialImageUrl]:!0},t=this.history.undo.filter(((e={})=>"image"===e.type&&"modify"===e.stateType)),s=this.history.redo.filter(((e={})=>"image"===e.type&&"modify"===e.stateType));t.concat(s).forEach((t=>{e[t.options.from]=!0,e[t.options.to]=!0})),Object.keys(this.historyBlobs).forEach((t=>{e[t]||(window.URL.revokeObjectURL(t),delete this.historyBlobs[t])}))}function hs(e){return{x:e.x(),y:e.y(),rotation:e.rotation(),scaleX:e.scaleX(),scaleY:e.scaleY(),name:e.name(),source:e.historySource,from:e.from}}function fs(e,t){const s=!e.historyId,a=e.historyId||(0,us.Z)(),r={id:a,konva:e};return this.history.moveableObjects[a]=r,s?(this.history.push("moveableObject","create",a,this.history.normalizeMoveableObject(t)),r):r}function ps(e,t,s,a){this.history.undo.length||(this.history.redo=[]),this.history.undo.push({type:e,stateType:t,options:{...a,id:s}}),ms.call(this)}function gs(e){const t="undo"===e?"redo":"undo",s=this.history[e].pop();s&&this.history[t].push(s)}function ys(){this.history={moveableObjects:{},normalizeMoveableObject:hs,installMoveableObject:fs.bind(this),undo:[],redo:[],push:ps.bind(this),pop:gs.bind(this),initialImageUrl:"",currentImageUrl:"",didClear:!1},this.historyBlobs={}}function vs(e,t){let s;const a=this,r=()=>{!0!==this.viewState.isDraggingMoveable&&(clearTimeout(s),s=null,this.viewState.longTap=!1,document.removeEventListener("mouseup",r),document.removeEventListener("touchend",r))},i=e=>{(t||"editable_image"===e.target.attrs.id)&&(e.evt&&e.evt.touches&&e.evt.touches.length>1||(s=setTimeout((()=>{!0!==a.viewState.isRotatingMoveable&&(document.addEventListener("mouseup",r),document.addEventListener("touchend",r),this.viewState.longTap=!0)}),600)))};let n=t?"addEventListener":"on";e[n]("mousedown",i),e[n]("touchstart",i),e[n]("mouseup",r),e[n]("touchend",r)}var Ss=vs;function Ps({$el:e,file:t,api:s,config:a,resolve:r,reject:i,settings:n}){window.Konva.hitOnDragEnabled=!0,window.Konva.captureTouchEventsEnabled=!0;const o=te(t.name),d=J.call(this),c=e.getStage();o.lock=!1,o.add(d),c.add(o),cs.call(this,t),this.methods=ns.call(this),this.api=s,this.config=a,this.settings={saveAsCopy:!0,disableGifs:!1,...n},this.settingsPassed={saveAsCopy:!0,disableGifs:!1,takePhoto:!1,...n},this.image=null,this.group=d,this.layer=o,this.stage=c,this.resolve=r,this.reject=i,ys.call(this),this.methods.proceedFile(t.url,100,t).then((()=>{s.events.$emit("mounted"),s.$commit("setIsMounted",!0),Ss.call(this,this.stage)})),ls.call(this,s)}var ws=Ps;function bs(e,t,s,a,r,i){return{namespaced:!0,state:{file:e},actions:{setUpStage(n,{$el:o,config:d}){t[e.name]=new ws({$el:o,file:e,api:s,config:d,resolve:a,reject:r,settings:i})}}}}function Is(e){const t={},s={namespaced:!0,state:{isOpen:!1,currentFilePath:null,currentFileName:null,isMounted:!1},getters:{isOpen:e=>e.isOpen,currentFile:e=>e.currentFilePath,currentFileName:e=>e.currentFileName},mutations:{open(e,{fileName:t}){e.isOpen=!0,e.currentFilePath=`${H}/${t}`,e.currentFileName=t},close(e){e.isOpen=!1,e.currentFilePath="",e.currentFileName="",e.isMounted=!1},logout(){},setIsMounted(e,t){e.isMounted=t}},actions:{installFile({commit:s},{file:a,api:r,resolve:i,reject:n,settings:o}){e.registerModule([H,a.name],bs(a,t,r,i,n,o)),s("open",{fileName:a.name})},uninstallFile({commit:s},{fileName:a,send:r}){r&&t[a].sendFile(!1,!0),e.unregisterModule([H,a]),s("close"),delete t[a]}}};return e.registerModule(H,s),t}class ks{constructor(e,t){this.$store=e,this.events=null,Object.defineProperty(this,"currentFile",{get:()=>e.getters[`${H}/currentFile`]}),Object.defineProperty(this,"currentFileStage",{get(){return t[this.currentFileName]||{}}}),Object.defineProperty(this,"currentFileName",{get:()=>e.getters[`${H}/currentFileName`]}),Object.defineProperty(this,"isOpen",{get:()=>e.getters[`${H}/isOpen`]}),Object.defineProperty(this,"isMounted",{get:()=>e.state[H].isMounted})}$dispatch(e,t){return this.$store.dispatch(`${H}/${e}`,t)}$commit(e,t){return this.$store.commit(`${H}/${e}`,t)}$fileDispatch(e,t){return this.$store.dispatch(`${this.currentFile}/${e}`,t)}$fileCommit(e,t){return this.$store.commit(`${this.currentFile}/${e}`,t)}$installFile(e,t){const s=Object.assign({},e);this.events=new l.default;const a=(0,Ot.P)();return this.isStory=t.isStory,this.$dispatch("installFile",{file:s,api:this,resolve:a.resolve,reject:a.reject,settings:t}),document.body.classList.add("image-editor"),a.promise.finally((()=>{this.$uninstallFile(!1,!1)}))}$uninstallFile(e,t){return document.body.classList.remove("image-editor"),this.events.$destroy(),this.events=null,this.$dispatch("uninstallFile",{fileName:e?e.name:this.currentFileName,send:t})}}var Cs=ks,Ts=s(470039),Ls={install(e,{store:t}){const s=Is(t);e.prototype.$imageEditor=new Cs(t,s)}},Ms={install(e,{store:t,i18n:s}){e.prototype.$tVat=(e,a={})=>{const r=t.getters["auth/authUser"].vatNumberName||"VAT";return s.t(e,{...a,VAT_NAME:r})}}},$s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:e.id,size:"sm","hide-header-close":"","hide-header":!e.title,lazy:"",centered:"","body-class":e.bodyClass},on:{hidden:function(t){return e.$emit("closed")}},scopedSlots:e._u([{key:"modal-header",fn:function(){return[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.title)+" ")])]},proxy:!0},{key:"modal-footer",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button"},on:{click:function(t){return e.$emit("deny")}}},[e._v(" "+e._s(e.denyText)+" ")]),s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",on:{click:function(t){return e.$emit("confirm")}}},[e._v(" "+e._s(e.confirmText)+" ")])]},proxy:!0}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("div",{staticClass:"dialog_message",domProps:{innerHTML:e._s(e.questionText)}})])},As=[],_s,Fs={name:"ModalInteract",props:{modalShow:{type:Boolean,required:!0},questionText:{type:String,default:""},confirmText:{type:String,default:""},denyText:{type:String,default:""},id:{type:String,default:""},title:{type:String,default:""}},computed:{show:{get(){return this.modalShow},set(e){this.$emit("update:modalShow",e)}},bodyClass(){return this.title?"m-reset-body-padding-top":""}},mounted(){this.$root.$emit("interact::show::modal")},beforeDestroy(){this.$root.$emit("interact::hide::modal")}},Es,Ds=(0,v.Z)(Fs,$s,As,!1,null,null,null).exports;function Us(e,t={}){const s=Math.random().toString(36).substr(2,9),a=(0,Ot.P)();return this.interactTasks.push({questionText:e,id:s,resolve:a.resolve,reject:a.reject,modalShow:!0,modalResult:!1,...t}),a.promise}var Rs={install(e){const t={interactTasks:[]};e.component("InteractModal",{data:()=>t,render(e){const t=this;return e("div",this.interactTasks.map((s=>e(Ds,{props:{confirmText:s.confirmText||t.$t("message.confirm_button"),denyText:s.denyText||t.$t("message.cancel_button"),...s},on:{deny(){s.modalResult=!1,s.modalShow=!1},confirm(){s.modalResult=!0,s.modalShow=!1},closed(){t.interactTasks=t.interactTasks.filter((e=>e.id!==s.id)),window.enableBodyScroll();try{s.resolve(s.modalResult)}catch(e){}}}}))))}}),window.interact=Us.bind(t)}},Os=s(831147),xs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{attrs:{to:e.to,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var a,r=t.href,i=t.isActive,n=t.isExactActive;return[s("a",e._b({class:(a={},a[e.$attrs["active-class"]]=e.$attrs["active-class"]&&i,a[e.$attrs["exact-active-class"]]=e.$attrs["exact-active-class"]&&n,a),attrs:{href:r},on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},"a",e.$attrs,!1),[e._t("default")],2)]}}],null,!0)})},Bs=[],js,Ws={name:"BaseLink",props:{to:{type:Object,required:!0},savePrevQuery:{type:Boolean,default:!1}},methods:{clickHandler(){if(this.$route.name===this.to.name){const e={...this.to.query},t={...this.to,query:{_:(new Date).getTime().toString()}};void 0!==this.$attrs.replace?this.$router.replace(t):this.$router.push(t);const s=this.savePrevQuery?e:{};this.$router.replace({...this.to,query:{...s}})}else void 0!==this.$attrs.replace?this.$router.replace({...this.to}):this.$router.push({...this.to})}}},Zs,qs=(0,v.Z)(Ws,xs,Bs,!1,null,null,null).exports,Ns=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{attrs:{to:e.to,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.href;return[s("a",{class:{"m-no-pointer":e.disabled},attrs:{href:a},on:{click:function(t){return t.preventDefault(),e.$emit("click")}}},[e._t("default")],2)]}}],null,!0)})},Vs=[],Hs,zs={name:"CustomLink",props:{to:{type:Object,required:!0},disabled:{type:Boolean,default:!1}}},Gs,Xs=(0,v.Z)(zs,Ns,Vs,!1,null,null,null).exports,Ys=s(403650);const Ks=(e,t)=>{var s,a;const r=(null==t?void 0:t.arg)||(null==t||null===(s=t.value)||void 0===s?void 0:s.icon),i=Boolean(r);if(!i&&e.classList.contains("g-icon"))return;const n=r||e.getAttribute("class");if(n||e.classList.add("g-icon"),!n||e.dataset.iconName===n)return;e.innerHTML="",e.dataset.iconName=n;const o=e.getAttribute("height")||"",d=e.getAttribute("width")||"";let c="";if(o&&(c+=`height: ${o}px;`),d&&(c+=`width:${d}px; flex: 0 0 ${d}px;`),c&&e.setAttribute("style",c),e.setAttribute("aria-hidden",!0),e.classList.add("g-icon"),!i){var l;e.classList.remove(n);const t=undefined,s=((null===(l=e.getAttribute("extra-class"))||void 0===l?void 0:l.split(" "))||[]).filter(Boolean);s.length&&e.classList.add(...s)}const u=`${Ys.OT}${n}`,m=(null==t||null===(a=t.value)||void 0===a?void 0:a.color)||e.getAttribute("fill"),h=document.createElementNS("http://www.w3.org/2000/svg","use");u&&(h.setAttribute("href",u),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u)),m&&h.setAttribute("fill",m),e.appendChild(h)};var Qs={install(e){const t={bind(e,t){Ks(e,t)},componentUpdated(e,t){Ks(e,t)}};e.directive("svg-sprite",t)}},Js=s(181528),ea=s(593081),ta=s.n(ea),sa=s(885659),aa=s.n(sa),ra=s(434573),ia=s(423593),na=s(285088);const oa={async uploaderInit(){const{default:e}=await s.e(11671).then(s.bind(s,647102));return e.install(l.default,{store:b.default,i18n:ia.ag})},async perform(e){!na.isIOS&&!na.isSafari||document.querySelector("#file_upload_input")||b.default.state.init.uploaderInit||setTimeout((()=>{var e;null===(e=document.querySelector("#file_upload_input"))||void 0===e||e.click(),b.default.commit("init/setUploaderInit",!0,{root:!0})}),500);const t=await this.uploaderInit();return await t.perform(e)},async uploadToS3Async(e){const t=await this.uploaderInit();return await t.uploadToS3Async(e)}};var da=s(793634),ca={unbind(e,t){t.value&&(0,da.C)(e)}},la={inserted(e,t,s){if(!window.ResizeObserver)return;const a=n()(s,"componentInstance.swiperInstance",null);if(a){const t=a.el.querySelector(".swiper-wrapper");t&&(e.resizeObserver=new ResizeObserver((e=>{e.forEach((e=>{const{clientWidth:t,scrollWidth:s}=e.target;t<s?a.mousewheel.enable():a.mousewheel.disable()}))})),e.resizeObserver.observe(t))}},unbind(e){e.resizeObserver&&e.resizeObserver.disconnect()},update(e,t,s){const a=n()(s,"componentInstance.swiperInstance",null);if(a){const e=a.el.querySelector(".swiper-wrapper");e&&s.context&&s.context.$nextTick((()=>{const{clientWidth:t,scrollWidth:s}=e;t<s?a.mousewheel.enable():a.mousewheel.disable()}))}}},ua=s(398340),ma=s(914786);const ha=undefined;"true"===(D().get("cookiesAccepted",{domain:".onlyfans.com"})||ma.Z.getItem("cookiesAccepted"))&&(b.default.commit("init/acceptCookies",!ma.Z.getItem("nonEssential")),localStorage.removeItem("nonEssential"));var fa=s(574279);const pa="SOCKET_ONMESSAGE",ga={ONLINE:"online",ALTERNATIVE:{PAID:"alternativePaid"}},ya=new fa.TinyEmitter;function va(){const e=(e,t)=>{ya.on(e,t),(0,l.onBeforeUnmount)((()=>{ya.off(e,t)}))};return{SOCKET_EVENTS:ga,wsEventEmitter:ya,setSocketListener:e}}var Sa=va,Pa=s(870008),wa;{const e=(0,s(990733).K$)();D().set("fp",e,{domain:".onlyfans.com",expires:"1Y"}),b.default.commit("auth/setVisitorId",e)}l.default.use(aa()),l.default.use(j.ZP),l.default.use(Os.ZP,{autoHide:!0,disposeTimeout:100}),Os.ZP.enabled=!h.b,l.default.config.productionTip=!1,l.default.use(Qs),l.default.use(D()),l.default.use(x.ZP);const{wsEventEmitter:ba}=Sa();l.default.use(R(),"wss://ws2.onlyfans.com/ws2/",{connectManually:!0,store:b.default,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:5e3,format:"json",passToStoreHandler(e,t){if(!e.startsWith("SOCKET_"))return;const s=e.toUpperCase();if(s===pa){const{data:e}=t||{};try{const t=JSON.parse(e||"{}"),s=Object.keys(t);s.length&&s.forEach((e=>ba.emit(e,t[e])))}catch(r){throw I.Tb(r),new Error("WS incorrect format data")}}const a=s===pa?"dispatch":"commit";this.store[a](`socket/${s}`,t)}}),l.default.use(O.Z),l.default.use(B.Z,{breakpoints:{sms:500,sm:768,md:1004,lg:1/0}}),l.default.use(W.Z),l.default.use(ra.ZP,{prefetch:!1}),l.default.use(F.ZP),Object.keys(Pa.h).forEach((e=>{F.ZP.Validator.extend(e,Pa.h[e])}));const Ia=(0,ia.p0)();Ia.postTranslation=(e,t)=>{var s,a;const r=null===w.Z||void 0===w.Z||null===(s=w.Z.history)||void 0===s||null===(a=s.current)||void 0===a?void 0:a.name,{canTranslate:i}=b.default.getters["init/getInit"]||{};return i&&setTimeout((()=>{b.default.dispatch("translations/set",{routeName:r,code:t,value:e},{root:!0})})),e},l.default.component("BaseLink",qs),l.default.component("CustomLink",Xs),l.default.use(ta(),{container:"body",duration:300,easing:"ease",offset:-100,force:!0,cancelable:!0,x:!1,y:!0}),l.default.directive("dropdownAutohide",ca),l.default.directive("swiperMousewheel",la),l.default.use(Z.m$),l.default.use(q.k),l.default.use(N.k,{BModal:{returnFocus:{}}}),l.default.use(V.kH),l.default.use(Ls,{store:b.default}),l.default.use(Ms,{store:b.default,i18n:Ia}),l.default.filter("encodeHtml",Js.HZ),l.default.filter("removeTags",Js.av),l.default.filter("toLocalString",Js.UH),l.default.use(Rs),l.default.prototype.$env={NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws2.onlyfans.com",VUE_APP_STATIC:"https://static.onlyfans.com",VUE_APP_STATIC_DOMAINS:"https://static.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_SENTRY_AUTH_TOKEN:"271585a30c90479cacf48d7a97cd91cd4f6eb1430a3a4477bb79d7d29f0bdce1",VUE_APP_SENTRY_URL:"https://bug2.onlyfans.com/",VUE_APP_REVISION:"202310251539-21edf1068d",BASE_URL:"https://static.onlyfans.com/theme/onlyfans/spa/"},l.default.prototype.$window=window,l.default.prototype.$uploader=oa,window.Sentry=k;const ka="202310251539-21edf1068d";C.S({Vue:l.default,environment:"live",dsn:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",ignoreErrors:[/Function\.seal/,/Object\.seal/,"ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications",/instantSearchSDKJSBridgeClearHighlight/,/DolphinBrowserFillData/,/setIOSParameters/,/_AutofillCallbackHandler/,/play\(\)/,"cannot find the <li> container for the click",/PaymentAutofillConfig/,/Network Error/,/Request aborted/,/^chmln is not defined$/,/^linxImpulseInitialized is not defined$/,/^canceled$/,/srcElement\.tagName\.toUpperCase/,/addEmojiButtons/,/addChip/],denyUrls:[/extensions\//i,/^chrome:\/\//i,/^chrome-extension:\/\//i],normalizeDepth:5,release:ka,autoSessionTracking:!1,attachProps:!0,transport:T.f,stackParser:L.Dt,integrations:[...M.SS,new $.I],tracesSampleRate:1,beforeSend(e,t){const s=t.originalException||t.syntheticException,a=JSON.stringify(t);return"silent"===(null==s?void 0:s.message)||/loading(?: css)* chunk .* failed./i.test(null==s?void 0:s.message)||"Timeout"===s||a.indexOf("Object.seal")>-1||document.documentMode||a.indexOf("null is not an object (evaluating 'e.scrollTop')")>-1||"Non-Error exception captured with keys: config, data, headers, request, status"===n()(e,"exception.values[0].value")?null:"true"==={NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws2.onlyfans.com",VUE_APP_STATIC:"https://static.onlyfans.com",VUE_APP_STATIC_DOMAINS:"https://static.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_SENTRY_AUTH_TOKEN:"271585a30c90479cacf48d7a97cd91cd4f6eb1430a3a4477bb79d7d29f0bdce1",VUE_APP_SENTRY_URL:"https://bug2.onlyfans.com/",VUE_APP_REVISION:"202310251539-21edf1068d",BASE_URL:"https://static.onlyfans.com/theme/onlyfans/spa/"}.VUE_APP_DEBUG?(console.error(s),null):e}}),I.e((e=>{e.setTag("domain","onlyfans.com")})),window.SentryStreams=new A.Xb(new _.R({Vue:l.default,environment:"live",dsn:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",ignoreErrors:[/Function.seal/,/Object.seal/,"ResizeObserver loop limit exceeded"],normalizeDepth:5,release:ka,transport:T.f,stackParser:L.Dt,attachProps:!0,integrations:[...M.SS,new $.I],beforeSend:(e,t)=>"true"==={NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws2.onlyfans.com",VUE_APP_STATIC:"https://static.onlyfans.com",VUE_APP_STATIC_DOMAINS:"https://static.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_SENTRY_AUTH_TOKEN:"271585a30c90479cacf48d7a97cd91cd4f6eb1430a3a4477bb79d7d29f0bdce1",VUE_APP_SENTRY_URL:"https://bug2.onlyfans.com/",VUE_APP_REVISION:"202310251539-21edf1068d",BASE_URL:"https://static.onlyfans.com/theme/onlyfans/spa/"}.VUE_APP_DEBUG?(console.error(t.originalException||t.syntheticException),null):e})),SentryStreams.configureScope((e=>{e.setTag("domain","onlyfans.com")})),Date.prototype.toISOString||function(){function e(e){return e<10?`0${e}`:e}Date.prototype.toISOString=()=>`${this.getUTCFullYear()}-${e(this.getUTCMonth()+1)}-${e(this.getUTCDate())}T${e(this.getUTCHours())}:${e(this.getUTCMinutes())}:${e(this.getUTCSeconds())}.${(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)}Z`}(),window.publicPath="/theme/onlyfans/spa/";var Ca=new l.default({router:w.Z,store:b.default,i18n:Ia,vuetify:ua.Z,render:e=>e(P)}).$mount("#app")},893577:function(e,t){"use strict";function s(e){const t=new window.Hammer(e,{domEvents:!0});return t.get("rotate").set({enable:!0}),t}t.Z=s},398340:function(e,t,s){"use strict";var a=s(720144),r=s(503757),i=s(963664);a.default.use(r.Z),a.default.directive("click-outside",i.L);const n={theme:{disable:!0}};t.Z=new r.Z(n)},997046:function(e,t,s){"use strict";s.d(t,{Z:function(){return ma}});var a=s(227361),r=s.n(a),i=s(333948),n=s(720144),o=s(578345),d=s(834253),c=s.n(d),l=s(53189),u=s(550615),m=s(999023),h=s(161065),f=s(365069);const p=undefined;var g=e=>{const t=e.matched.slice().reverse().find((e=>e.meta&&e.meta.metaTags));Array.from(document.querySelectorAll("[data-page-meta]")).map((e=>e.parentNode.removeChild(e))),t&&t.meta.metaTags.map((e=>{const t=document.createElement("meta");return Object.keys(e).forEach((s=>{t.setAttribute(s,e[s])})),t.setAttribute("data-page-meta",""),t})).forEach((e=>document.head.appendChild(e)))},y=s(437035);const v=undefined,S=undefined;var P=[{path:":id(\\d+|archived|private_archived)/:postType(photos|videos|audios)?",name:"PostLabel",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,473989)),meta:{requiresPerformer:!0}}];const w=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(24646),s.e(44599),s.e(51474),s.e(9980),s.e(50268),s.e(45119),s.e(64380),s.e(58702),s.e(71252),s.e(8620)]).then(s.bind(s,508307)),b=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,46341)),I=undefined;var k=[{path:"/my/collections",name:"Collections",redirect:{name:"CollectionUserLists"}},{path:"/my/collections/user-lists",name:"CollectionUserLists",component:w,meta:{requiresAuth:!0},children:[...y.Hh,...y.H,...y.Ii]},{path:"/my/collections/bookmarks",name:"CollectionBookmarks",component:w,meta:{requiresAuth:!0},children:[{path:":id/:postType?",name:"BookmarkPosts",component:b}]},{path:"/my/collections/post-labels",name:"CollectionPostLabels",component:w,meta:{requiresAuth:!0,requiresPerformer:!0},children:[...P]}];const C=undefined,T=undefined;var L=[{path:"/my/referrals",name:"Referrals",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(44599),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(96114),s.e(45119),s.e(56816),s.e(50816),s.e(16545),s.e(65629),s.e(11453),s.e(70210),s.e(20644),s.e(29860),s.e(56676)]).then(s.bind(s,99825)),meta:{requiresReferrerAllowed:!0}},{path:"/my/referrals/return_from_referral",name:"ReturnFromReferral",beforeEnter:async(e,t,s)=>{await u.default.dispatch("auth/logoutFromReferral"),"Referrals"===t.name?window.location.href="/my/referrals":(u.default.commit("init/setNeededReload",!0),s({name:"Referrals"}))}}];const M=undefined,$=undefined,A=undefined,_=undefined;var F=[{path:"/my/vault",name:"MediaVault",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(59468),s.e(24646),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(44599),s.e(51474),s.e(9980),s.e(45350),s.e(32250),s.e(45119),s.e(61512),s.e(64380),s.e(2952),s.e(58702),s.e(65626),s.e(89601),s.e(2889)]).then(s.bind(s,589601)),meta:{requiresPerformer:!0},children:[{path:"list/:list(\\d+|all)",name:"VaultLists",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(59468),s.e(24646),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(44599),s.e(51474),s.e(9980),s.e(45350),s.e(32250),s.e(45119),s.e(61512),s.e(64380),s.e(2952),s.e(58702),s.e(65626),s.e(89601),s.e(2889)]).then(s.bind(s,278597))}]},{path:"/my/vault/media/:mediaId(\\d+)",name:"VaultMedia",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,369587))}];const E=undefined,D=undefined,U=undefined,R=undefined;var O=[{path:"/action/restore_access_confirm",name:"RestoreAccess",component:()=>Promise.all([s.e(19849),s.e(92776)]).then(s.bind(s,304777))},{path:"/action/email/:emailType/:emailCode",name:"ConfirmEmail",component:()=>Promise.all([s.e(19849),s.e(92776)]).then(s.bind(s,787887))},{path:"/action/:trialType(trial|subscribe)/:code",name:"Trial",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,101517))}];const x=undefined,B=undefined,j=undefined;var W=[{path:"/queue",redirect:"/my/queue"},{path:"/my/schedule_message",redirect:"/my/queue"},{path:"/my/queue/:date?",name:"MyQueue",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,774293)),meta:{requiresPerformer:!0}},{path:"/saved-for-later",name:"SavedForLater",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,293873)),meta:{requiresPerformer:!0}}];const Z=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,101517)),q=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,343857)),N=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(55757)]).then(s.bind(s,373079)),V=undefined,H=()=>s.e(20041).then(s.bind(s,637822)),z=undefined,G=undefined,X=undefined,Y=undefined,K=undefined,Q=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(2681)]).then(s.bind(s,197660)),J=undefined,ee=undefined,te=undefined;var se=[{path:"/support",redirect:"/help"},{path:"/faq/:chapter?/:section?/:subsection?",redirect:"/help/:chapter?/:section?/:subsection?"},{path:"/rileyreid",redirect:"/rileyreidx3"},{path:"/partners",redirect:"/help/3/22/90"},{path:"/referrals",redirect:"/help/3/22/90"},{path:"/my/notifications/interactions",redirect:"/my/notifications/commented"},{path:"/oauth/authenticate",name:"OAuthAuthenticate",component:()=>Promise.all([s.e(19849),s.e(70809)]).then(s.bind(s,106529))},{path:"/report_abuse/:type(post|user|story|message|stream)/:id(\\d+)",name:"ReportAbuse",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,610085)),meta:{requiresAuth:!0}},{path:"/report_dmca/:type(post|user|story|message|stream)/:id(\\d+)",name:"ReportDmca",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,49540)),meta:{requiresAuth:!0}},{path:"/appeal",name:"Appeal",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,480751)),meta:{}},{path:"/my/notifications",name:"Notifications",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,756753)),meta:{requiresAuth:!0},children:[{path:":type",name:"NotificationsByType"}]},{path:"/",name:"Feed",component:N},{path:"/purchased",name:"Purchased",component:N,meta:{requiresPurchased:!0}},{path:"/tags-required",name:"TagsRequired",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,750602))},{path:"/blurred",name:"Blurred",component:N,meta:{requiresPaidFeed:!0}},{path:"/closefriends",redirect:"/"},{path:"/posts/create",name:"PostsCreate",component:N,meta:{requiresAuth:!0}},{path:"/posts/edit/:postId(\\d+)",name:"PostsEdit",component:N,meta:{requiresAuth:!0}},{path:"/search/users/:q?",redirect:e=>({path:"/search",query:{type:"users",q:e.params.q}})},{path:"/search",name:"Search",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,808101))},{path:"/my/profile",name:"ProfileAlias",component:Z,meta:{title:"profilePageTitle",requiresAuth:!0}},{path:"/my/*",name:"MyError",component:H},{path:"/message/:postId(\\d+)/:userId([a-z][a-z0-9\\._\\-]+)",name:"MessagePage",component:q},{path:"/:userId([a-z][a-z0-9\\._\\-]+)/friends",redirect:e=>`/${e.params.userId}`},{path:"/:userId([a-z][a-z0-9\\._\\-]+)/c:campaignCode(\\d+)",name:"ProfileCampaign",component:Z,meta:{title:"profilePageTitle",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/:userId([a-z][a-z0-9\\._\\-]+)/nft",name:"NftGallery",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(5898),s.e(65725)]).then(s.bind(s,161788)),meta:{requiresAuth:!0}},{path:"/:userId([a-z][a-z0-9\\._\\-]+)/nfts",redirect:e=>`/${e.params.userId}/nft`,meta:{requiresAuth:!0}},{path:"/:userId([a-z][a-z0-9\\._\\-]+)",name:"Profile",component:Z,children:[{path:":postType(media|photos|videos|audios|likes|streams|upcoming-streams)",name:"ProfileInner",meta:{title:"profilePageTitle"}},{path:":labelId(\\d+|archived|private_archived)",name:"ProfileLabel"},{path:"medias",redirect:"media"},{path:"qr",name:"ProfileQR"}],meta:{title:"profilePageTitle",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/:postId(\\d+)/:userId/likes",name:"PostLikes",component:Q,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId/tips",name:"PostTips",component:Q,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId(\\D.+)/buyers",name:"PostBuyers",component:Q,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId([a-z][a-z0-9\\._\\-]+)/vote/:optionId?",name:"PostVoters",component:Q,meta:{requiresPerformer:!0}},{path:"/:queueId(\\d+)/buyers",name:"QueueBuyers",component:Q,meta:{requiresPerformer:!0}},{path:"/:campaignId(\\d+)/claimers",name:"CampaignClaimers",component:Q,meta:{requiresPerformer:!0}},{path:"/:streamId(\\d+)/stream/viewers",name:"StreamViewers",component:Q,meta:{requiresPerformer:!0}},{path:"/:streamId(\\d+)/stream/donators",name:"StreamDonators",component:Q,meta:{requiresPerformer:!0}},{path:"/:storyId(\\d+)/story/viewers",name:"StoryViewers",component:Q,meta:{requiresPerformer:!0}},{path:"/:storyId(\\d+)/story/donators",name:"StoryTips",component:Q,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId([a-z][a-z0-9\\._\\-]+)",name:"Post",component:q},{path:"*",name:"Error",component:H}];const ae=undefined,re=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(24646),s.e(79853),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(50268),s.e(96114),s.e(46661),s.e(46776),s.e(39328),s.e(60593),s.e(47208)]).then(s.bind(s,350199)),ie=undefined,ne=undefined,oe=undefined,de=undefined,ce=undefined,le=undefined;var ue=[{path:"/my/chats",component:()=>Promise.all([s.e(19849),s.e(64963)]).then(s.bind(s,210944)),meta:{requiresAuth:!0,prefetch:!0},children:[{path:"",name:"Chats",component:re},{path:"chat/:chatId",component:re,children:[{path:"",name:"Chat",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,287157))},{path:"gallery",name:"Gallery",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(44599),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(96114),s.e(45119),s.e(56816),s.e(50816),s.e(16545),s.e(65629),s.e(11453),s.e(70210),s.e(20644),s.e(29860),s.e(56676)]).then(s.bind(s,42555))},{path:"pinned",name:"PinnedMessages",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,146612))}]},{path:"send",name:"ChatsSend",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,534677)),meta:{requiresCanChat:!0}}]},{path:"/my/mass_chats",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(20478),s.e(5898),s.e(44599),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(46661),s.e(48532)]).then(s.bind(s,644930)),name:"MassMessagesStats",meta:{requiresPerformer:!0}}];const me=undefined,he=undefined,fe=undefined,pe=undefined,ge=undefined,ye=undefined,ve=undefined,Se=undefined,Pe=undefined,we=undefined,be=undefined,Ie=undefined,ke=undefined,Ce=undefined,Te=undefined,Le=undefined,Me=undefined,$e=undefined,Ae=undefined,_e=undefined,Fe=undefined,Ee=undefined,De=undefined,Ue=undefined,Re=undefined,Oe=undefined,xe=undefined,Be=undefined,je=undefined,We=undefined,Ze=undefined,qe=undefined,Ne=undefined,Ve=undefined,He=undefined,ze=undefined,Ge=undefined,Xe=undefined,Ye=undefined,Ke=undefined,Qe=undefined,Je=undefined,et=undefined,tt=undefined,st=undefined,at=undefined,rt=undefined,it=undefined;var nt=[{path:"/my/settings",name:"Settings",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(42152),s.e(86652)]).then(s.bind(s,554895)),meta:{requiresAuth:!0},children:[{path:"profile",name:"SettingsProfile",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(51201),s.e(10367),s.e(18167),s.e(57871),s.e(46726),s.e(84866),s.e(21473)]).then(s.bind(s,463301))},{path:"account",name:"SettingsAdvanced",component:()=>Promise.all([s.e(19849),s.e(92776)]).then(s.bind(s,228805))},{path:"advanced",redirect:{name:"SettingsAdvanced"}},{path:"account/username",name:"SettingsUsername",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(95197),s.e(58593),s.e(39895),s.e(81700),s.e(37176),s.e(41526)]).then(s.bind(s,795037))},{path:"account/email",name:"SettingsEmail",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(59468),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(45953),s.e(44086),s.e(60916),s.e(47073),s.e(79810),s.e(96699)]).then(s.bind(s,747073)),meta:{isPage:!0}},{path:"account/phone",name:"SettingsPhone",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(44086),s.e(85013),s.e(79810),s.e(18167),s.e(30231),s.e(16938),s.e(89964),s.e(89720),s.e(34586),s.e(84935)]).then(s.bind(s,372515))},{path:"account/twitter",name:"SettingsTwitter",component:()=>Promise.all([s.e(19849),s.e(92776)]).then(s.bind(s,921804))},{path:"account/google",name:"SettingsGoogle",component:()=>Promise.all([s.e(19849),s.e(70809)]).then(s.bind(s,799525))},{path:"account/connected",name:"SettingsConnected",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,107205)),meta:{requiresConnectedAccount:!0}},{path:"account/password",name:"SettingsPassword",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(95197),s.e(58593),s.e(39895),s.e(44086),s.e(42152),s.e(23108),s.e(45350),s.e(47073),s.e(91442),s.e(60877)]).then(s.bind(s,902535))},{path:"account/sessions",name:"SettingsSessions",component:()=>s.e(49408).then(s.bind(s,542324))},{path:"account/2fa",name:"Settings2fa",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(44086),s.e(85013),s.e(79810),s.e(18167),s.e(30231),s.e(16938),s.e(89964),s.e(89720),s.e(34586),s.e(84935)]).then(s.bind(s,74567))},{path:"account/passwordless-sign-in",name:"PasswordLessSignIn",component:()=>Promise.all([s.e(19849),s.e(92053)]).then(s.bind(s,580167))},{path:"account/delete",name:"SettingsDelete",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(95197),s.e(58593),s.e(39895),s.e(81700),s.e(37176),s.e(41526)]).then(s.bind(s,882872))},{path:"messaging",name:"SettingsMessaging",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,15782)),meta:{requiresPerformer:!0}},{path:"notifications",name:"SettingsNotifications",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(95197),s.e(58593),s.e(39895),s.e(44086),s.e(42152),s.e(23108),s.e(45350),s.e(47073),s.e(91442),s.e(60877)]).then(s.bind(s,201843))},{path:"notifications/webpush",name:"SettingsNotificationsWebPush",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,718822))},{path:"notifications/email",name:"SettingsNotificationsEmail",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(59468),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(45953),s.e(44086),s.e(60916),s.e(47073),s.e(79810),s.e(96699)]).then(s.bind(s,632922))},{path:"notifications/site",name:"SettingsNotificationsSite",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,276969))},{path:"notifications/toast",name:"SettingsNotificationsToast",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,505544))},{path:"notifications/sms",name:"SettingsNotificationsSms",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,867449))},{path:"notifications/telegram",name:"SettingsNotificationsTelegram",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,464424))},{path:"notifications/telegram/link",name:"SettingsTelegramLink",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(95197),s.e(58593),s.e(39895),s.e(44086),s.e(42152),s.e(23108),s.e(45350),s.e(47073),s.e(91442),s.e(60877)]).then(s.bind(s,813909))},{path:"notifications/mentions",name:"SettingsNotificationsMentions",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,78435)),meta:{requiresPerformer:!0}},{path:"security",name:"SettingsSecurity",component:()=>Promise.all([s.e(19849),s.e(59468),s.e(96216)]).then(s.bind(s,909770))},{path:"security/block_by_country",name:"SettingsBlockByCountry",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(45953),s.e(44086),s.e(42152),s.e(12506),s.e(42194),s.e(55946),s.e(44829),s.e(97901),s.e(89846)]).then(s.bind(s,185117)),meta:{requiresPerformer:!0}},{path:"security/block_by_ip",name:"SettingsBlockByIP",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(95197),s.e(58593),s.e(39895),s.e(81700),s.e(37176),s.e(41526)]).then(s.bind(s,415613)),meta:{requiresPerformer:!0}},{path:"security/watermarks",name:"SettingsWatermarks",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,207907)),meta:{requiresPerformer:!0}},{path:"subscription",name:"SettingsSubscription",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(45953),s.e(56222),s.e(38492),s.e(70281),s.e(88564),s.e(50816),s.e(51201),s.e(79559),s.e(86118),s.e(75609),s.e(2236)]).then(s.bind(s,933897))},{path:"fans",name:"SettingsFans",component:()=>Promise.all([s.e(19849),s.e(59468),s.e(96216)]).then(s.bind(s,313127)),meta:{requiresPerformer:!0}},{path:"spotify",name:"SettingsSpotify",component:()=>Promise.all([s.e(19849),s.e(31786)]).then(s.bind(s,564817)),meta:{isPage:!0}},{path:"spring-store",name:"SettingsSpringStore",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(95197),s.e(58593),s.e(39895),s.e(81700),s.e(37176),s.e(41526)]).then(s.bind(s,542015)),meta:{isPage:!0}},{path:"social-media",name:"SettingsSocialMedia",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(83268),s.e(59468),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(51474),s.e(9980),s.e(60916),s.e(86287),s.e(85839),s.e(21595),s.e(87983)]).then(s.bind(s,646935))},{path:"ethwallet",name:"SettingsEthWallet",component:()=>Promise.all([s.e(19849),s.e(45577),s.e(20478),s.e(73922)]).then(s.bind(s,364654)),meta:{isPage:!0}},{path:"nft",name:"SettingsNftAssets",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(59468),s.e(89944)]).then(s.bind(s,335958)),meta:{isPage:!0}},{path:"links",name:"SettingsThingsILike",component:()=>Promise.all([s.e(19849),s.e(95197),s.e(58593),s.e(51474),s.e(9980),s.e(38154)]).then(s.bind(s,954178)),meta:{requiresUser:!0,requiresCanMakeProfileLinks:!0}},{path:"campaign-links",redirect:{name:"SettingsTrackingLinks"}},{path:"tracking-links",name:"SettingsTrackingLinks",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(95197),s.e(58593),s.e(39895),s.e(81700),s.e(37176),s.e(41526)]).then(s.bind(s,851443)),meta:{isPage:!0,requiresUser:!0}},{path:"shopify-settings",name:"SettingsShopify",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(95197),s.e(58593),s.e(39895),s.e(81700),s.e(37176),s.e(41526)]).then(s.bind(s,114460)),meta:{isPage:!0,requiresUser:!0,requiresCanShopify:!0}},{path:"shopify-products",name:"SettingsShopifyProducts",component:()=>Promise.all([s.e(19849),s.e(79853),s.e(52793)]).then(s.bind(s,685921)),meta:{isPage:!0,requiresUser:!0,requiresCanShopify:!0}},{path:"other",name:"SettingsOther",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(95197),s.e(58593),s.e(39895),s.e(81700),s.e(37176),s.e(41526)]).then(s.bind(s,72118))},{path:"story",name:"SettingsStory",component:()=>Promise.all([s.e(19849),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(73782)]).then(s.bind(s,93059)),meta:{requiresCanAddStory:!0}},{path:"email",redirect:{name:"SettingsEmail"}},{path:"change-email",redirect:{name:"SettingsEmail"}},{path:"helpers",name:"PerformerHelpers",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(44599),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(96114),s.e(45119),s.e(56816),s.e(50816),s.e(16545),s.e(65629),s.e(11453),s.e(70210),s.e(20644),s.e(29860),s.e(56676)]).then(s.bind(s,271314)),meta:{requiresCanAddHelper:!0}},{path:"spotify/artists",name:"SpotifyArtists",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(59468),s.e(89944)]).then(s.bind(s,418081))},{path:"spotify/anthem",name:"SpotifyAnthem",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(59468),s.e(89944)]).then(s.bind(s,782453))},{path:"display",name:"SettingsDisplay",component:()=>Promise.all([s.e(19849),s.e(59468),s.e(96216)]).then(s.bind(s,754641))},{path:"display/language",name:"SettingsLanguage",component:()=>Promise.all([s.e(19849),s.e(45577),s.e(60249)]).then(s.bind(s,449220))},{path:"qrcode",name:"SettingsQRCode",component:()=>Promise.all([s.e(19849),s.e(59468),s.e(42152),s.e(26436),s.e(25500),s.e(10653)]).then(s.bind(s,761416)),meta:{requiresPerformer:!0}}]}];const ot=undefined,dt=undefined,ct=undefined,lt=undefined,ut=undefined,mt=undefined,ht=undefined;var ft=[{path:"/my/payments",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(83268),s.e(59468),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(51474),s.e(9980),s.e(60916),s.e(86287),s.e(85839),s.e(21595),s.e(87983)]).then(s.bind(s,968907)),meta:{requiresAuth:!0},children:[{path:"",name:"Payments",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(59468),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(45953),s.e(44086),s.e(60916),s.e(47073),s.e(79810),s.e(96699)]).then(s.bind(s,160230))},{path:"list",name:"PaymentsCreditsTransactions",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(83268),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(47855),s.e(12506),s.e(86287),s.e(64982)]).then(s.bind(s,501659))},{path:"add_card",name:"PaymentsAddCard",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(95197),s.e(58593),s.e(39895),s.e(44086),s.e(42152),s.e(23108),s.e(45350),s.e(47073),s.e(91442),s.e(60877)]).then(s.bind(s,936527)),meta:{requiresAuth:!0,requiresCanAddCard:!0,allowFraudRepayment:!0,ageVerificationRequired:!0}},{path:"alternative",name:"PaymentsAlternative",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(95197),s.e(58593),s.e(39895),s.e(81700),s.e(37176),s.e(41526)]).then(s.bind(s,393858))},{path:"alternative/add",name:"PaymentsAlternativeAdd",component:()=>Promise.all([s.e(19849),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(45953),s.e(26082),s.e(62201),s.e(61512),s.e(32372),s.e(97248),s.e(21774)]).then(s.bind(s,535610))}]}];const pt=undefined,gt=()=>Promise.all([s.e(19849),s.e(95623),s.e(59468),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(44086),s.e(26082),s.e(60916),s.e(62201),s.e(61512),s.e(32372),s.e(12506),s.e(97248),s.e(42194),s.e(77615),s.e(62296),s.e(60610),s.e(88784)]).then(s.bind(s,694515)),yt=undefined,vt=undefined,St=undefined,Pt=undefined,wt=undefined,bt=undefined,It=undefined,kt=undefined,Ct=undefined,Tt=undefined,Lt=undefined,Mt=undefined;var $t=[{path:"/my/banking",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(51201),s.e(10367),s.e(18167),s.e(57871),s.e(46726),s.e(84866),s.e(21473)]).then(s.bind(s,113350)),meta:{requiresAuth:!0},children:[{path:"",name:"Banking",component:gt},{path:"edit",name:"BankingEdit",component:gt},{path:"primary",name:"BankingPrimary",component:gt,meta:{requiresHasStripe:!0}},{path:"payout_types",name:"BankingPayoutTypes",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(65226)]).then(s.bind(s,82773))},{path:"support",name:"BankingSupport",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(45953),s.e(44086),s.e(42152),s.e(12506),s.e(42194),s.e(55946),s.e(44829),s.e(97901),s.e(89846)]).then(s.bind(s,286588))},{path:"w9",name:"W9",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(59468),s.e(95197),s.e(74381),s.e(24293),s.e(45953),s.e(74530),s.e(37810)]).then(s.bind(s,34503))},{path:"w9_form_address_check",name:"w9_form_address_check",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,363760)),meta:{requiresPerformer:!0}},{path:"vat",name:"BankingVat",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(42152),s.e(7844),s.e(58475)]).then(s.bind(s,720571)),meta:{isCountryVatNumberCollect:!0,isVatRequired:!0}},{path:"vat/change",name:"BankingVatChange",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(47073),s.e(36599),s.e(42117),s.e(90594),s.e(25019)]).then(s.bind(s,528780)),meta:{isCountryVatNumberCollect:!0}},{path:"vat/add-documents",name:"BankingVatAddDocuments",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(45953),s.e(44086),s.e(42152),s.e(12506),s.e(42194),s.e(55946),s.e(44829),s.e(97901),s.e(89846)]).then(s.bind(s,730018)),meta:{isCountryVatNumberCollect:!0,isVatRequired:!0}},{path:"vat/create-document",name:"BankingVatCreateDocument",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(45953),s.e(44086),s.e(42152),s.e(12506),s.e(42194),s.e(55946),s.e(44829),s.e(97901),s.e(89846)]).then(s.bind(s,343816)),meta:{isCountryVatNumberCollect:!0,isVatRequired:!0}},{path:":section",name:"BankingSection",redirect:{name:"BankingPrimary"}}]},{path:"/my/verify",name:"VerifyPage",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(79559),s.e(83863)]).then(s.bind(s,863283)),meta:{requiresAuth:!0}},{path:"/my/verification",name:"VerificationPage",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(79559),s.e(83863)]).then(s.bind(s,489110)),meta:{requiresAuth:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/my/yoti/verification/:verificationId",name:"YotiConsentPage",component:()=>Promise.all([s.e(19849),s.e(26668)]).then(s.bind(s,750786)),meta:{hideHeader:!0,hideHelperBtn:!0,staticContainer:!0,type:"page",requiresAuth:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0}}],At=s(115306);const _t=()=>Promise.all([s.e(19849),s.e(95623),s.e(85013),s.e(85430)]).then(s.bind(s,298640)),Ft=undefined,Et=undefined,Dt=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(44086),s.e(42152),s.e(51201),s.e(10367),s.e(18167),s.e(57871),s.e(46726),s.e(84866),s.e(21473)]).then(s.bind(s,717944)),Ut=undefined,Rt=undefined,Ot=undefined,xt=undefined,Bt=undefined,jt=undefined,Wt=undefined,Zt=undefined,qt=undefined,Nt=undefined,Vt=undefined,Ht=undefined,zt=undefined,Gt=undefined,Xt=undefined,Yt=undefined,Kt=undefined,Qt=undefined,Jt=undefined,es=undefined,ts=undefined,ss=undefined,as=undefined,rs=undefined,is=undefined,ns=undefined,os=undefined;var ds=[{path:"/help/:chapter?/:section?/:subsection?",component:Dt,title:"FAQs",name:"faq",meta:{hasStaticFooter:!0,staticContainer:!0,type:"faq",allowFraudRepayment:!0,allowNeedLoginIV:!0,hideHelperBtn:!0}},{path:"/termsnov21/:section?",beforeEnter(){window.location.href=`${window.location.origin}/termsnov21.html${window.location.hash}`}},{path:"/contract",beforeEnter(){window.location.href=`${window.location.origin}/contract.html${window.location.hash}`}},{path:"/contractnov21",beforeEnter(){window.location.href=`${window.location.origin}/contractnov21.html${window.location.hash}`}},{path:"/dmca",component:_t,title:"Dmca",name:"dmca",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,type:"dmca",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/store",beforeEnter(){window.location.replace("https://store.onlyfans.com")}},{path:"/antitraffickingstatement",component:()=>Promise.all([s.e(95623),s.e(85013),s.e(25191)]).then(s.bind(s,222128)),title:"Anti-Slavery and Anti-Trafficking Statement",name:"statement",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/transparency",component:()=>s.e(75044).then(s.bind(s,839448)),meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0},children:[{path:"",component:()=>Promise.all([s.e(85013),s.e(89869)]).then(s.bind(s,63942)),title:"OnlyFans Transparency Reports",name:"transparencyReportList"},{path:":year/:month",component:()=>Promise.all([s.e(59468),s.e(85013),s.e(50023),s.e(41208),s.e(81743),s.e(995),s.e(81403),s.e(61760),s.e(57335),s.e(30808)]).then(s.bind(s,29542)),title:"OnlyFans Transparency Report",name:"transparencyReportPage"},{path:":month",redirect:e=>{try{const{month:t}=e.params,s=+t.replace(/\D+/g,""),a=undefined;return{name:"transparencyReportPage",params:{year:s,month:new Date(`${s}/${t.replace(/\d+/g,"")}`).getMonth()+1}}}catch(t){return{name:"transparencyReportList"}}}}]},{path:"/transparency-center",component:()=>Promise.all([s.e(85013),s.e(89869)]).then(s.bind(s,564802)),meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0},children:[{path:"",name:"transparencyReportCenter",component:()=>s.e(23598).then(s.bind(s,818197)),meta:{title:"OnlyFans Safety & Transparency Center"}},{path:"verification",component:()=>s.e(5276).then(s.bind(s,262312)),name:"transparencyReportVerification",meta:{title:"Age & Identity Verification"}},{path:"assisting",component:()=>s.e(31127).then(s.bind(s,847138)),name:"transparencyReportAssisting",meta:{title:"Assisting Law Enforcement"}},{path:"helping",component:()=>s.e(86463).then(s.bind(s,692522)),name:"transparencyReportHelping",meta:{title:"Helping Creators Protect their Copyright"}},{path:"privacy",component:()=>s.e(4305).then(s.bind(s,345571)),name:"transparencyReportPrivacy",meta:{title:"Respecting Your Privacy"}},{path:"preventing",component:()=>s.e(33220).then(s.bind(s,249133)),name:"transparencyReportPreventing",meta:{title:"Preventing Modern Slavery & Human Trafficking "}},{path:"commitment",component:()=>s.e(22125).then(s.bind(s,520223)),name:"transparencyReportCommitment",meta:{title:"Our Commitment to Safety & Transparency"}},{path:"safeguarding",component:()=>s.e(85669).then(s.bind(s,456194)),name:"transparencyReportSafeguarding",meta:{title:"Safeguarding Against Money Laundering & Fraud"}},{path:"tackling",component:()=>s.e(81302).then(s.bind(s,749166)),name:"transparencyReportTackling",meta:{title:"Tackling Hate Speech"}}]},{path:"/fightcsam",component:()=>Promise.all([s.e(85013),s.e(89869)]).then(s.bind(s,903949)),title:"OnlyFans fights to combat the creation and distribution of child sexual abuse materials (CSAM)",name:"fightcsam",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0}},{path:"/license_form",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(85013),s.e(85430)]).then(s.bind(s,699025)),title:"OnlyFans trademark license for creator domain name",name:"license",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowNeedLoginIV:!0}},{path:"/values",component:()=>Promise.all([s.e(85013),s.e(89869)]).then(s.bind(s,498010)),title:"Our Mission, Vision and Values",name:"values",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowNeedLoginIV:!0}},{path:"/compliance",component:()=>Promise.all([s.e(95623),s.e(85013),s.e(81040)]).then(s.bind(s,353953)),title:"Compliance",name:"compliance",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/compliance2",component:()=>Promise.all([s.e(95623),s.e(85013),s.e(81040)]).then(s.bind(s,244306)),title:"Compliance2",name:"compliance2",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/contact",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(45953),s.e(44086),s.e(42152),s.e(12506),s.e(42194),s.e(55946),s.e(44829),s.e(97901),s.e(89846)]).then(s.bind(s,255698)),title:"Contact",name:"contacts",meta:{hasStaticFooter:!0,type:"contacts",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/contacts",redirect:"/contact"},{path:"/legalinquiry",title:"Law Enforcement",name:"legalinquiry",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(44086),s.e(85013),s.e(79810),s.e(18167),s.e(30231),s.e(16938),s.e(89964),s.e(89720),s.e(34586),s.e(84935)]).then(s.bind(s,494537))},{path:"/legalguide",title:"Law Enforcement Guide",name:"legalguide",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(59468),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(44086),s.e(85013),s.e(79810),s.e(18167),s.e(30231),s.e(16938),s.e(89964),s.e(89720),s.e(34586),s.e(84935)]).then(s.bind(s,652069)),meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/usc2257",beforeEnter(){window.location.href=`${window.location.origin}/usc2257.html${window.location.hash}`}},{path:"/banking-help",component:_t,title:"Adding a Bank Account",name:"banking-help",meta:{hasStaticFooter:!0,staticContainer:!0,type:"page",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/terms-of-service",redirect:"/terms"},{path:"/tos",redirect:"/terms"},{path:"/tosd",redirect:"/terms"},{path:"/my/tickets/:type?",component:Dt,name:"TicketsPage",meta:{hasStaticFooter:!0,requiresAuth:!0,staticContainer:!0,hideHelperBtn:!0}},{path:"/brand",component:()=>s.e(88683).then(s.bind(s,231063)),name:"Brand",title:"Brand Resources",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/gdpr/:id",component:()=>Promise.all([s.e(19849),s.e(26668)]).then(s.bind(s,198648)),name:"DownloadReport",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0}},{path:"/privacy",name:"PrivacyPage",component:()=>Promise.all([s.e(95623),s.e(85013),s.e(43010),s.e(51266)]).then(s.bind(s,14612)),meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0}},{path:"/cookies",name:"CookiesPage",component:()=>Promise.all([s.e(95623),s.e(85013),s.e(81040)]).then(s.bind(s,635531)),meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0}},{path:"/terms",name:"TermsPage",component:()=>Promise.all([s.e(95623),s.e(85013),s.e(43010),s.e(57921),s.e(5295)]).then(s.bind(s,31763)),meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0}},{path:"/about",name:"AboutPage",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(15412),s.e(11362)]).then(s.bind(s,590721)),meta:{staticContainer:!0,hasStaticFooter:!0}}];const cs=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(45953),s.e(44086),s.e(42152),s.e(12506),s.e(42194),s.e(55946),s.e(44829),s.e(97901),s.e(89846)]).then(s.bind(s,112607)),ls=undefined,us=()=>Promise.all([s.e(19849),s.e(20478),s.e(54602)]).then(s.bind(s,61814)),ms=undefined,hs=undefined,fs=undefined,ps=undefined,gs=undefined;var ys=[{path:"/my/statements",component:cs,meta:{requiresPerformer:!0},children:[{path:"",name:"Statements",redirect:{name:"StatementsEarnings"}},{path:"earnings",name:"StatementsEarnings",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(54602)]).then(s.bind(s,294851))},{path:"payouts",name:"StatementsPayoutRequests",component:us,children:[{path:"stripe",name:"StatementsPayoutRequestsStripe",component:us}]},{path:"vat",name:"StatementsVat",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(10367),s.e(335)]).then(s.bind(s,976867)),meta:{requiresCountryVatRefundable:!0}},{path:"referrals",name:"StatementsReferrals",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(10367),s.e(335)]).then(s.bind(s,528189))}]},{path:"/my/statements/support",name:"StatementsSupport",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(45953),s.e(44086),s.e(42152),s.e(12506),s.e(42194),s.e(55946),s.e(44829),s.e(97901),s.e(89846)]).then(s.bind(s,486724)),meta:{requiresPerformer:!0}},{path:"/my/stats",component:cs,meta:{requiresPerformer:!0},children:[{path:"earnings",name:"StatsEarnings",component:()=>Promise.all([s.e(84953),s.e(50947),s.e(19849),s.e(23108),s.e(47855),s.e(69002)]).then(s.bind(s,604941))},{path:"disputes",name:"StatsDisputes",redirect:{name:"StatisticsStatementsDisputes"}}]}];const vs=undefined,Ss=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,456101)),Ps=undefined,ws=()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(42152),s.e(23108),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(96114),s.e(66015),s.e(47855),s.e(50816),s.e(16545),s.e(65629),s.e(27777),s.e(50359),s.e(81545),s.e(68779),s.e(80246),s.e(42143),s.e(16808)]).then(s.bind(s,16439)),bs=()=>Promise.all([s.e(19849),s.e(20478),s.e(92594)]).then(s.bind(s,896011)),Is=undefined,ks=undefined,Cs=undefined,Ts=undefined,Ls=undefined,Ms=undefined,$s=undefined,As=undefined,_s=undefined,Fs=undefined,Es=undefined,Ds=undefined,Us=()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(42152),s.e(23108),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(96114),s.e(66015),s.e(47855),s.e(50816),s.e(16545),s.e(65629),s.e(27777),s.e(50359),s.e(81545),s.e(68779),s.e(80246),s.e(42143),s.e(16808)]).then(s.bind(s,364632)),Rs=undefined,Os=undefined,xs=undefined,Bs=undefined,js=undefined,Ws=undefined,Zs=undefined;var qs=[{path:"/my/statistics",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(83268),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(47855),s.e(12506),s.e(86287),s.e(64982)]).then(s.bind(s,477446)),name:"Statistics",redirect:{name:"StatisticsStatements"},meta:{requiresPerformer:!0},children:[{path:"overview",name:"StatisticsOverview",component:Ss,redirect:{name:"StatisticsOverviewEarnings"},children:[{path:"earnings",name:"StatisticsOverviewEarnings",component:Ss},{path:"summary",name:"StatisticsOverviewSummary",component:Ss},{path:"top-highlights",name:"StatisticsOverviewTopHighlight",component:Ss}]},{path:"statements",name:"StatisticsStatements",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(42152),s.e(23108),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(96114),s.e(66015),s.e(47855),s.e(50816),s.e(16545),s.e(65629),s.e(27777),s.e(50359),s.e(81545),s.e(68779),s.e(80246),s.e(42143),s.e(16808)]).then(s.bind(s,409406)),redirect:{name:"StatisticsStatementsEarnings"},children:[{path:"earnings",name:"StatisticsStatementsEarnings",component:ws,children:[{path:"tips/:type(all|profile|post|chat|stream|story)",name:"StatisticsStatementsEarningsTips",component:ws,meta:{parentTag:"earnings_tips"}}]},{path:"payout-request",name:"StatisticsStatementsPayoutRequests",component:bs},{path:"payout-request/stripe",name:"StatisticsStatementsPayoutRequestsStripe",component:bs},{path:"disputes",name:"StatisticsStatementsDisputes",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(92594)]).then(s.bind(s,202442))},{path:"referrals",name:"StatisticsStatementsReferrals",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(83268),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(47855),s.e(12506),s.e(86287),s.e(64982)]).then(s.bind(s,304878)),redirect:{name:"StatisticsStatementsReferralEarnings"},children:[{path:"earnings",name:"StatisticsStatementsReferralEarnings",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(92594)]).then(s.bind(s,582324)),meta:{parentTag:"referrals"}},{path:"creators",name:"StatisticsStatementsReferralCreators",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(2681)]).then(s.bind(s,264245)),meta:{parentTag:"referrals"}},{path:"users",name:"StatisticsStatementsReferralUsers",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(2681)]).then(s.bind(s,962496)),meta:{parentTag:"referrals"}}]},{path:"vat-documents",name:"StatisticsStatementsVatDocuments",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(10367),s.e(335)]).then(s.bind(s,252463))}]},{path:"engagement",name:"StatisticsEngagement",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(83268),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(47855),s.e(12506),s.e(86287),s.e(64982)]).then(s.bind(s,354267)),redirect:{name:"StatisticsEngagementPosts"},children:[{path:"posts",name:"StatisticsEngagementPosts",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,318560))},{path:"mass-messages",name:"StatisticsEngagementMassMessages",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,936998))},{path:"streaming",name:"StatisticsEngagementStreaming",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(42152),s.e(23108),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(96114),s.e(66015),s.e(47855),s.e(50816),s.e(16545),s.e(65629),s.e(27777),s.e(50359),s.e(81545),s.e(68779),s.e(80246),s.e(42143),s.e(16808)]).then(s.bind(s,122960))},{path:"stories",name:"StatisticsEngagementStories",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(42152),s.e(23108),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(96114),s.e(66015),s.e(47855),s.e(50816),s.e(16545),s.e(65629),s.e(27777),s.e(50359),s.e(81545),s.e(68779),s.e(80246),s.e(42143),s.e(16808)]).then(s.bind(s,848914))}]},{path:"reach",name:"StatisticsReach",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(83268),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(47855),s.e(12506),s.e(86287),s.e(64982)]).then(s.bind(s,884307)),redirect:{name:"StatisticsReachProfileVisitors"},children:[{path:"profile-visitors/",name:"StatisticsReachProfileVisitors",component:Us},{path:"profile-visitors/:type(users|guests|subscribers)",name:"StatisticsReachProfileVisitorsByType",meta:{parentTag:"profile_visitors"},component:Us},{path:"promotions",name:"StatisticsReachPromotions",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(95197),s.e(58593),s.e(50023),s.e(41208),s.e(81743),s.e(81700),s.e(64957)]).then(s.bind(s,301325))},{path:"trial-links",name:"StatisticsReachTrialLinks",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(95197),s.e(58593),s.e(50023),s.e(41208),s.e(81743),s.e(81700),s.e(64957)]).then(s.bind(s,39280))},{path:"campaigns",redirect:{name:"StatisticsReachTrackingLinks"}},{path:"tracking-links",name:"StatisticsReachTrackingLinks",component:()=>Promise.all([s.e(19849),s.e(20478),s.e(95197),s.e(58593),s.e(50023),s.e(41208),s.e(81743),s.e(81700),s.e(64957)]).then(s.bind(s,386469))}]},{path:"fans",name:"StatisticsFans",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(42152),s.e(23108),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(96114),s.e(66015),s.e(47855),s.e(50816),s.e(16545),s.e(65629),s.e(27777),s.e(50359),s.e(81545),s.e(68779),s.e(80246),s.e(42143),s.e(16808)]).then(s.bind(s,691509)),redirect:{name:"StatisticsFansSubscriptions"},children:[{path:"subscriptions",name:"StatisticsFansSubscriptions",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(44599),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(96114),s.e(45119),s.e(56816),s.e(50816),s.e(16545),s.e(65629),s.e(11453),s.e(70210),s.e(20644),s.e(29860),s.e(56676)]).then(s.bind(s,708970))},{path:"top-fans",name:"StatisticsFansTop",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(44599),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(96114),s.e(45119),s.e(56816),s.e(50816),s.e(16545),s.e(65629),s.e(11453),s.e(70210),s.e(20644),s.e(29860),s.e(56676)]).then(s.bind(s,546775))}]}]}];const Ns=undefined,Vs=undefined,Hs=undefined,zs=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,504918)),Gs=undefined,Xs=undefined;var Ys=[{path:"/my/streaming",name:"Streaming",component:()=>Promise.all([s.e(13983),s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(39895),s.e(23108),s.e(44599),s.e(56222),s.e(51474),s.e(9980),s.e(45350),s.e(70281),s.e(50268),s.e(79235),s.e(87714),s.e(22169),s.e(71436),s.e(9634),s.e(52514),s.e(61778),s.e(30572),s.e(606),s.e(97443),s.e(52586),s.e(31658),s.e(21621),s.e(54321),s.e(25709),s.e(23299)]).then(s.bind(s,934762)),meta:{requiresCanStreaming:!0}},{path:"/:user/live",name:"Live",component:()=>Promise.all([s.e(13983),s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(39895),s.e(23108),s.e(44599),s.e(56222),s.e(51474),s.e(9980),s.e(45350),s.e(70281),s.e(50268),s.e(79235),s.e(87714),s.e(22169),s.e(71436),s.e(9634),s.e(52514),s.e(61778),s.e(30572),s.e(606),s.e(97443),s.e(52586),s.e(31658),s.e(21621),s.e(54321),s.e(25709),s.e(23299)]).then(s.bind(s,929123)),meta:{requiresAuth:!0}},{path:"/my/live/view/:user",redirect:{name:"Live"}},{path:"my/streaming/chat",name:"StreamingChat",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(39895),s.e(44599),s.e(79235),s.e(87714),s.e(22169),s.e(71436),s.e(9634),s.e(52514),s.e(96487)]).then(s.bind(s,926702)),meta:{requiresPerformer:!0}},{path:"my/streaming/dashboard",name:"StreamingDashboard",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(39895),s.e(56222),s.e(38492),s.e(70281),s.e(50023),s.e(41208),s.e(81743),s.e(66015),s.e(79559),s.e(58687)]).then(s.bind(s,58650)),meta:{requiresAuth:!0,requiresPerformer:!0}},{path:"my/streaming/dashboard/create",name:"StreamingCreateEditSchedule",component:zs,meta:{requiresAuth:!0,requiresPerformer:!0}},{path:"my/streaming/dashboard/:id",name:"StreamingEditSchedule",component:zs,meta:{requiresAuth:!0,requiresPerformer:!0}}];const Ks=undefined,Qs=undefined,Js=undefined;var ea=[{path:"/my/release-forms/search",name:"ReleaseFormsSearch",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,907417)),meta:{requiresPerformer:!0}},{path:"/my/release-forms/:id",name:"ReleaseFormPage",component:()=>Promise.all([s.e(19849),s.e(45223),s.e(45577),s.e(5898),s.e(83268),s.e(11094),s.e(95197),s.e(58593),s.e(74381),s.e(24293),s.e(39895),s.e(45953),s.e(56222),s.e(38492),s.e(70281),s.e(88564),s.e(50816),s.e(51201),s.e(79559),s.e(86118),s.e(75609),s.e(2236)]).then(s.bind(s,14032)),meta:{noRedirectOnLogOut:!0}},{path:"/my/release-forms",name:"ReleaseFormsStorage",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,599671))}],ta=s(738129),sa=s(423593),aa=s(285088);const ra=()=>s.e(58359).then(s.t.bind(s,572007,23)),ia=()=>{aa.isMobile&&ra().then((e=>{window.eruda=e.default,window.eruda.init()}))},na=()=>Promise.all([s.e(19849),s.e(59468),s.e(95197),s.e(58593),s.e(24646),s.e(44599),s.e(26082),s.e(70281),s.e(50268),s.e(39285),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(79810),s.e(56816),s.e(51201),s.e(76033),s.e(87714),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(71267),s.e(7544)]).then(s.bind(s,135077)),oa=undefined;const da=o.ZP.prototype.push,ca=o.ZP.prototype.replace;o.ZP.prototype.push=function e(t,s,a){if(s||a)return da.call(this,t,s,a);try{return da.call(this,t).catch((e=>e))}catch(r){console.log(r)}},o.ZP.prototype.replace=function e(t,s,a){if(s||a)return ca.call(this,t,s,a);try{return ca.call(this,t).catch((e=>e))}catch(r){console.log(r)}},n.default.use(o.ZP);const la=[...ue,...ds,...nt,...L,...k,...ft,...ys,...qs,...$t,...Ys,...F,...O,...W,...ea,...se],ua=new o.ZP({mode:"history",base:"/",scrollBehavior:(e,t,s)=>e.hash?{selector:e.hash,behavior:"smooth"}:[/^Profile/,/^faq$/,/^MyQueue$/,/^StatisticsStatementsEarnings/].some((s=>[e,t].every((({name:e})=>s.test(e)))))?s:{x:0,y:0},routes:[{path:"/",component:na,children:la}]});ua.beforeEach((async(e,t,s)=>{var a;if(null!==(a=window.__PRERENDER_INJECTED)&&void 0!==a&&a.prerender)return void s();if(document.documentMode)return void s();if(u.default.state.init.neededReload&&e.fullPath&&e.query&&!e.query._&&(!e.params||!e.params.isLogout&&!e.params.noReload))return void(window.location.href=e.fullPath);null===u.default.getters["init/getInit"].isAuth&&await u.default.dispatch("init/fetchInit");let i=u.default.getters["init/getInit"];if(!window.TEXTS){const e=Object.keys(i.languages||{});if(e.length){const t=c().get("lang");if(t&&!e.includes(t)&&(c().delete("lang",{domain:".onlyfans.com"}),sa.ag.locale="en"),!c().get("lang")){const t=window.navigator.languages||[window.navigator.language||window.navigator.browserLanguage];if(Array.isArray(t)&&t.length){const s=t.filter((e=>e)).map((e=>e.slice(0,2))).find((t=>e.find((e=>t===e))));s&&"en"!==s&&(sa.ag.locale=s)}}}await(0,sa.y_)(sa.ag.locale)}if(!window.TEXTS)return void s();if("Error"===e.name)return void s();g(e);let n=null;const o=e.matched.some((e=>e.meta.requiresGuest)),d=e.matched.some((e=>e.meta.requiresCanCreatePromotion)),f=e.matched.some((e=>e.meta.requiresConnectedAccount)),p=e.matched.some((e=>e.meta.requiresCanAddHelper)),y=e.matched.some((e=>e.meta.requiresCanAddStory)),v=e.matched.some((e=>e.meta.requiresCanAddCard)),S=e.matched.some((e=>e.meta.requiresCanMakeProfileLinks)),P=e.matched.some((e=>e.meta.requiresCanShopify)),w=e.matched.some((e=>e.meta.requiresPaidFeed)),b=e.matched.some((e=>e.meta.requiresPurchased)),I=e.matched.some((e=>e.meta.requiresCanStreaming)),k=d||e.matched.some((e=>e.meta.requiresPerformer)),C=e.matched.some((e=>e.meta.requiresCustomer)),T=e.matched.some((e=>e.meta.requiresCanSearchUsers)),L=e.matched.some((e=>e.meta.requiresReferrerAllowed)),M=e.matched.some((e=>e.meta.requiresEmailNotChecked)),$=e.matched.some((e=>e.meta.requiresHasStripe)),A=e.matched.some((e=>e.meta.requiresCountryVatRefundable)),_=e.matched.some((e=>e.meta.isCountryVatNumberCollect)),F=e.matched.some((e=>e.meta.isVatRequired)),E=undefined,D=I||y||f||M||p||T||C||L||w||b||k||e.matched.some((e=>e.meta.requiresUser))||e.matched.some((e=>e.meta.requiresAuth)),U=e.matched.some((e=>e.meta.allowFraudRepayment)),R=e.matched.some((e=>e.meta.allowNeedLoginIV)),O=e.matched.some((e=>e.meta.ageVerificationRequired)),x=e.matched.some((e=>e.meta.requiresCanChat));if(o&&i.isAuth)return void s("/");if(D&&(e.meta.requiresAuth=!0,!i.isAuth&&!u.default.state.init.apiError))return e&&e.fullPath?void s(`/?return_to=${window.encodeURIComponent(e.fullPath)}`):void s("/");if((D||i.isAuth)&&(u.default.getters["auth/isAuth"]||await u.default.dispatch("auth/fetchUserMe",{root:!0}),!u.default.getters["auth/isAuth"]))return void s();const B=u.default.getters["auth/authUser"];i=u.default.getters["init/getInit"];const j=(0,h.O)();if(j.length&&j.every((t=>e.fullPath.indexOf(t)<0)))return document.querySelectorAll(`a[href="${e.fullPath}"]`).forEach((e=>{e.classList.add("m-forbidden")})),void s(j[0]);if(U||!i.isFraudRepayment||"Profile"===t.name)if(R||!i.isNeedIV||"Profile"===t.name&&"YotiConsentPage"===t.name){if(p){if(!B.id)return void s("/my/chats");B.canAddHelper||B.helperAccess&&B.helperAccess.length||(n={name:"Error"})}if(y&&!B.canAddStory&&(n={name:"Error"}),v&&!B.canAddCard&&(n={name:"Error"}),I&&!B.canStreaming&&(n={name:"Error"}),S&&!B.canMakeProfileLinks&&(n={name:"Error"}),P&&!B.canShopify&&(n={name:"Error"}),f&&!(B.canConnectOfAccount||B.connectedOfAccounts&&B.connectedOfAccounts.length)&&(n={name:"Error"}),C&&B.isPerformer&&(n={name:"Error"}),x&&!B.canChat&&(n={name:"Error"}),(T&&!B.isMakePayment&&!B.isPerformer||L&&!B.isReferrerAllowed||k&&!B.isPerformer||d&&!B.canCreatePromotion)&&(n={name:"Error"}),(w&&!B.paidFeed||b&&!B.hasPurchasedPosts)&&(n={name:"Feed"}),!M||B.email&&!B.isEmailChecked||(n={name:"SettingsAdvanced"}),$&&!B.hasStripe&&(n={name:"Banking"}),_&&!B.isCountryVatNumberCollect&&(n={name:"Banking"}),A&&!B.isCountryVatRefundable&&(n={name:"Statements"}),F&&B.isVatRequired&&(n={name:"BankingVatChange"}),O)if(B.ageVerificationRequired&&!B.isAgeVerified){l.default.$root.$emit("ageVerificationRequired");try{(0,m.Jz)(B.id,{type:"add_card",source:"banking",isAllowed:!1})}catch(W){}if(null!==t.name)return;n={name:"Payments"}}else"failed"===r()(B,"ageVerificationSession.status")&&"approved"!==B.ivStatus&&B.needIVApprove&&(n={name:"VerifyPage"});(0,ta.vq)(e),(0,ta.yK)(e)&&(n=(0,ta.OW)(e)),n?s(n):(u.default.commit("init/setGoBackRouteFrom",t),s())}else s({name:"Profile",params:{userId:B.username}});else s({name:"Profile",params:{userId:B.username}})})),ua.afterEach(((e,t)=>{u.default.commit("router/setRoute",{from:t,to:e}),t&&null===t.name&&window.history.state&&u.default.commit("init/setGoBackInitHistoryState",window.history.state.key)})),ua.onError((e=>{/loading(?: css)* chunk .* failed./i.test(e.message)&&window.location.reload()})),ua.pushAsync=e=>new Promise(((t,s)=>{ua.push(e,t,s)})),["beta","beta2","dev"].includes("live")&&!c().get("disableEruda",{domain:".onlyfans.com"})&&ia();var ma=ua},437035:function(e,t,s){"use strict";s.d(t,{H:function(){return f},Hh:function(){return h},Ii:function(){return p}});var a=s(333948),r=s.n(a);const i=undefined,n=undefined,o=undefined,d=undefined,c=undefined,l=undefined,u=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,740634)),m=undefined,h=[{path:"subscriptions",name:"Subscribes",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(44599),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(96114),s.e(45119),s.e(56816),s.e(50816),s.e(16545),s.e(65629),s.e(11453),s.e(70210),s.e(20644),s.e(29860),s.e(56676)]).then(s.bind(s,912230)),meta:{requiresAuth:!0},children:[{path:":type(active|expired|attention)",name:"SubscribesByType"}]}],f=[{path:"subscribers/top/:year?/:month?",name:"SubscribersAwards",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(44599),s.e(56222),s.e(79853),s.e(38492),s.e(70281),s.e(88564),s.e(96114),s.e(45119),s.e(56816),s.e(50816),s.e(16545),s.e(65629),s.e(11453),s.e(70210),s.e(20644),s.e(29860),s.e(56676)]).then(s.bind(s,709296)),meta:{requiresPerformer:!0}},{path:"subscribers",name:"Subscribers",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,485526)),meta:{requiresAuth:!0},children:[{path:":type(active|expired|activity)",name:"SubscribersByType"},{path:"restricted",redirect:{name:"RestrictedUsers"}},{path:"blocked",redirect:{name:"BlockedUsers"}},{path:"promotions",redirect:{name:"Promotions"}}]},{path:"promotions",name:"Promotions",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,822640)),meta:{requiresCanCreatePromotion:!0}},{path:"blocked",name:"BlockedUsers",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,609689)),meta:{requiresAuth:!0}},{path:"restricted",name:"RestrictedUsers",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(23108),s.e(44599),s.e(56222),s.e(79853),s.e(51474),s.e(9980),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(22671),s.e(96114),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26492),s.e(9966),s.e(36357),s.e(77447),s.e(83717),s.e(34917),s.e(211),s.e(97196),s.e(69418),s.e(24701),s.e(3310),s.e(64016)]).then(s.bind(s,627025)),meta:{requiresAuth:!0}}],p=[{path:":list",name:"CustomList",component:u,meta:{requiresAuth:!0}},{path:":list/posts/:postType?",name:"UserListsPosts",component:()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(74381),s.e(24293),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(45953),s.e(42152),s.e(23108),s.e(44599),s.e(26082),s.e(56222),s.e(79853),s.e(45350),s.e(38492),s.e(70281),s.e(32250),s.e(88564),s.e(50023),s.e(41208),s.e(81743),s.e(62201),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(87360),s.e(96118),s.e(89752),s.e(51600),s.e(86129),s.e(59511),s.e(64777),s.e(56816),s.e(32463),s.e(61470),s.e(66419),s.e(85215),s.e(72450),s.e(8541),s.e(81457),s.e(68868),s.e(79969),s.e(93409),s.e(29203),s.e(30654),s.e(57336),s.e(84271),s.e(62359),s.e(51525),s.e(56340),s.e(26436),s.e(25500),s.e(27777),s.e(23711),s.e(825),s.e(1737),s.e(918),s.e(71145),s.e(50993),s.e(76081),s.e(77190),s.e(18427),s.e(8415),s.e(46721),s.e(71437),s.e(42317),s.e(33602),s.e(11197),s.e(62339),s.e(59112),s.e(10591),s.e(92100),s.e(96493),s.e(75821),s.e(80676),s.e(3458),s.e(64385),s.e(40122),s.e(4856)]).then(s.bind(s,969607)),meta:{requiresAuth:!0}},{path:"friends",name:"MyFriends",component:u,meta:{requiresPerformer:!0}},{path:"favorites",name:"Favorites",component:u,meta:{requiresAuth:!0}}]},423593:function(e,t,s){"use strict";s.d(t,{ag:function(){return S},p0:function(){return P},t:function(){return L},y_:function(){return T}});var a=s(333948),r=s.n(a),i=s(241637),n=s.n(i),o=s(727484),d=s.n(o),c=s(317152),l=s(499490),u=s(834253),m=s.n(u),h=s(12954),f=s(550615),p=s(34090),g=s(870008),y=s(403650),v=s(315223);let S;function P(){const e=m().get("lang")||"en";return S=new c.Z({locale:e}),S}function w(e){switch(e){case"zh":return"zh-cn";case"tw":return"zh-tw";default:return e}}async function b(e){const t=w(e);"en"!==t&&await s(94739)(`./${t}.js`),d().locale(t)}function I(e){switch(e){case"pt":return"pt_PT";case"zh":return"zh_CN";case"tw":return"zh_TW";default:return e}}async function k(e){const t=I(e),a=await s(258373)(`./${t}`),{messages:r,custom:i}=(0,g.F)()||{},n={[e]:{...a,messages:{...a.messages,...r||{}},custom:{...i||{}}}};h.ZP.Validator.localize(e,n[e])}function C(e){var t,s;const a=null===(t=f.default.getters)||void 0===t||null===(s=t["init/getInit"])||void 0===s?void 0:s.textsRev,r=new URLSearchParams({rev:a,lang:e}).toString();return`${y.xm||"https://onlyfans.com"}/texts.js?${r}`}async function T(e){try{const t=C(e);window.TEXTS&&(0,p.c)(t),await k(e),await b(e),l.Settings.defaultLocale=e,await(0,p._)(t);let s={};0,S.setLocaleMessage(e,{message:{...window.TEXTS,...s}}),S.locale=e,m().set("lang",e,{expires:"3Y",domain:".onlyfans.com"}),document.documentElement.lang=e}catch(t){(0,v.D)()}}function L(e,t={}){return S.t(e,t)}},815984:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(333948),r=s(720144),i=s(574279);const n={TIPS_POPUP:{INIT:"TIPS_POPUP::INIT",ADDED:"TIPS_POPUP::ADDED",OPENED:"TIPS_POPUP::OPENED",CLOSED:"TIPS_POPUP::CLOSED"},ADD_NEW_CARD_POPUP:{INIT:"ADD_NEW_CARD_POPUP::INIT",ADDED:"ADD_NEW_CARD_POPUP::ADDED"},PAYMENT_SELECTION_POPUP:{INIT:"PAYMENT_SELECTION_POPUP::INIT",ADDED:"PAYMENT_SELECTION_POPUP::ADDED",CLOSED:"PAYMENT_SELECTION_POPUP::CLOSED"},PAYMENT_PAY_SERVICE_POPUP:{INIT:"PAYMENT_PAY_SERVICE_POPUP::INIT",PAID:"PAYMENT_PAY_SERVICE_POPUP::PAID",CLOSED:"PAYMENT_PAY_SERVICE_POPUP::CLOSED"},CARD:{VERIFIED:"CARD::VERIFIED"},TOAST_NOTIFICATION:{SHOW:"TOAST_NOTIFICATION::SHOW",HIDE:"TOAST_NOTIFICATION::HIDE"}},o=new i.TinyEmitter;function d(){function e(e,t){(0,r.onMounted)((()=>{o.on(e,t)})),(0,r.onBeforeUnmount)((()=>{o.off(e,t)}))}return{EVENTS:n,setEventListener:e,$emit:(e,...t)=>o.emit(e,...t),$off:(e,t)=>o.off(e,t),$on:(e,t,s)=>o.on(e,t,s),$once:(e,t,s)=>o.once(e,t,s)}}var c=d},34090:function(e,t,s){"use strict";function a(e){return`script[src="${e}"]`}function r(e){return new Promise(((t,s)=>{const r=a(e);let i=document.querySelector(r),n=!1;if(i){if(i.hasAttribute("data-loaded"))return void t(i)}else i=document.createElement("script"),i.type="text/javascript",i.async=!0,i.src=e,n=!0;i.addEventListener("error",s),i.addEventListener("abort",s),i.addEventListener("load",(()=>{i.setAttribute("data-loaded","true"),t(i)})),n&&document.head.appendChild(i)}))}function i(e){const t=a(e);let s=document.querySelector(t);s&&document.head.removeChild(s)}s.d(t,{_:function(){return r},c:function(){return i}})},550615:function(e,t,s){"use strict";var a=s(730236),r=s.n(a),i=s(328583),n=s.n(i),o=s(682492),d=s.n(o),c=s(333948),l=s.n(c),u=s(720144),m=s(420629),h=s(614278),f=s.n(h),p=s(211988),g=s(84702);u.default.use(m.ZP);const y=[(0,g.Z)({paths:["draft"],key:"draft",filter:e=>["draft/setPostDraft","draft/removePostDraft","draft/setChatDraft","draft/removeChatDraft","draft/logout"].includes(e.type)}),(0,g.Z)({storage:window.sessionStorage,paths:["hiddenHints"],key:"vuexSession"})];navigator.cookieEnabled&&y.push(f()({predicate:["users/setUserHiddenPosts"]})),t.default=new m.ZP.Store({strict:!1,modules:p.default,plugins:y,actions:{logout(){return new Promise((e=>{Object.keys(this.state).forEach((e=>{this.commit(`${e}/logout`)})),e()}))}},mutations:{set(e,t){if(t.entities){if(t.entities.posts||t.entities.linkedPosts){const s={...t.entities.linkedPosts,...t.entities.posts};e.posts.items=r()({},e.posts.items,s,((e,t)=>{if(Array.isArray(t))return t}))}if(t.entities.users){const s={...t.entities.users},a=Object.keys(s).map(Number);if(e.users.needResetCheckOnlines){e.users.needResetCheckOnlines=!1;const t=e.auth.user;e.users.checkOnlines=[...new Set([...a,t])]}else e.users.checkOnlines=[...new Set([...e.users.checkOnlines,...a])];e.users.items=r()({},e.users.items,s,((e,t,s)=>"view"===s?n()(e||{},t):Array.isArray(t)?t:void 0))}if(t.entities.usersLists&&(e.usersLists.items=r()({},e.usersLists.items,t.entities.usersLists,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.comments&&(e.comments.items=d()({},e.comments.items,t.entities.comments)),t.entities.chats){const s={...t.entities.chats};e.chats.items=d()({},e.chats.items,s)}if(t.entities.chatUser){const s={...t.entities.chatUser};Object.keys(s).forEach((e=>{s[e].messages=[],s[e].typing=!1})),e.chats.items=d()({},e.chats.items,s)}if(t.entities.messages){const s={...t.entities.messages};t.chatId&&Object.keys(s).forEach((e=>{s[e].chatId=+t.chatId})),e.chats.messages=r()({},e.chats.messages,s,((e,t)=>{if(Array.isArray(t))return t}))}t.entities.streams&&(e.streams.items=r()({},e.streams.items,t.entities.streams,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.subscribes&&(e.subscribes.items=d()({},e.subscribes.items,t.entities.subscribes)),t.entities.subscribers&&(e.subscribers.items=d()({},e.subscribers.items,t.entities.subscribers)),t.entities.offers&&(e.offers.items=d()({},e.offers.items,t.entities.offers)),t.entities.spotifyArtists&&(e.settings.spotifyArtistsItems=d()({},e.settings.spotifyArtistsItems,t.entities.spotifyArtists)),t.entities.spotifyTracks&&(e.settings.spotifyTracksItems=d()({},e.settings.spotifyTracksItems,t.entities.spotifyTracks)),t.entities.cards&&(e.payments.cards=d()({},e.payments.cards,t.entities.cards)),t.entities.bundles&&(e.bundles.items=d()({},e.bundles.items,t.entities.bundles)),t.entities.commentIds&&(e.comments.itemsIds=r()({},e.comments.itemsIds,t.entities.commentIds,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.repliesIds&&(e.static.repliesIds=r()({},e.static.repliesIds,t.entities.repliesIds,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.ticketReplies&&(e.static.ticketReplies=d()({},e.static.ticketReplies,t.entities.ticketReplies)),t.entities.votersList&&(e.posts.votersList=r()({},e.posts.votersList,t.entities.votersList,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.supportTickets&&(e.static.supportTickets=d()({},e.static.supportTickets,t.entities.supportTickets)),t.entities.performerHelpers&&(e.performerHelpers.items=d()({},e.performerHelpers.items,t.entities.performerHelpers)),t.entities.helperAccess&&(e.performerHelpers.helperAccess=d()({},e.performerHelpers.helperAccess,t.entities.helperAccess)),t.entities.postLabels&&(e.postLabels.items=r()({},e.postLabels.items,t.entities.postLabels,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.vaultLists&&(e.mediaVault.vaultLists=d()({},e.mediaVault.vaultLists,t.entities.vaultLists)),t.entities.stories&&(e.stories.items=r()({},e.stories.items,t.entities.stories,((e,t,s)=>{if("src"===s&&e&&t&&e.split("?")[0]===t.split("?")[0])return e}))),t.entities.highlights&&(e.stories.highlightsItems={...e.stories.highlightsItems,...t.entities.highlights}),t.entities.massMessagesStat&&(e.massMessagesStat.items=d()({},e.massMessagesStat.items,t.entities.massMessagesStat)),t.entities.releaseForms&&(e.releaseForms.items=d()({},e.releaseForms.items,t.entities.releaseForms)),t.entities.releaseFormsGuests&&(e.releaseForms.guests=d()({},e.releaseForms.guests,t.entities.releaseFormsGuests))}}}})},397235:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return v},getters:function(){return g},mutations:function(){return y},state:function(){return p}});var a=s(227361),r=s.n(a),i=s(21703),n=s.n(i),o=s(782677),d=s(243168),c=s(97386),l=s(999023),u=s(172462),m=s(925832),h=s(53189);const f=()=>({user:null,logoutInProgress:!1,subscriptionInitiated:!1,isLogin:!0,QRCode:"",QRCodeSize:{width:246,height:246},visitorId:void 0}),p={user:null,logoutInProgress:!1,subscriptionInitiated:!1,isLogin:!0,QRCode:"",QRCodeSize:{width:246,height:246},visitorId:void 0},g={authUser(e,t,s){const a=r()(e,"user",!1);let i={};return a&&(i=r()(s,`users.items[${a}]`,{})),i},authUserNotificationsCount(e,t,s){const a=e.user;return a?s.users.items[a].notificationsCount:0},authUserId:e=>e.user,isAuth:e=>!!e.user,isBigModel:(e,t)=>{const{subscribersCount:s,subscribesCount:a,isPerformer:r}=t.authUser;return s>200||a>200&&r}},y={setAuthUser(e,t){e.user=t},setLogoutInProgress(e,t){e.logoutInProgress=t},setSubscriptionInitiated(e,t){e.subscriptionInitiated=t},setIsLogin(e,t){e.isLogin=t},setQRCode(e,t=""){e.QRCode=t},setQRCodeSize(e,t={}){e.QRCodeSize={...e.QRCodeSize,...t}},setVisitorId(e,t){e.visitorId=t},logout(e){Object.assign(e,{user:null,logoutInProgress:!1,subscriptionInitiated:!1,isLogin:!0,QRCode:"",QRCodeSize:{width:246,height:246},visitorId:void 0},{visitorId:e.visitorId})}},v={loginAsReferral:async(e,t)=>await(0,c.pP)(t),logoutFromReferral:async()=>await(0,c.jK)(),async reqLogout({commit:e}){e("setLogoutInProgress",!0);const t=await(0,c.uf)();return h.default.$store.dispatch("logout"),t},async fetchUserMe({commit:e,dispatch:t}){try{const s=await(0,l.ui)();if(s&&"object"==typeof s){s.hasScheduledStream&&t("schedule/fetchClosestScheduledStream",{},{root:!0});const a=undefined;e("set",(0,o.Fv)(s,d.IK),{root:!0}),e("setAuthUser",s.id),s.hasScenario&&await(0,m.Z)(),"Profile"!==h.default.$route.name&&"Post"!==h.default.$route.name||h.default.$route.params.userId!==s.username||e("users/setCurrentUser",s.id,{root:!0})}else(0,u.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}});e("init/mainRequestsLoaded",!0,{root:!0})}catch(s){e("init/mainRequestsLoaded",!0,{root:!0}),s&&(401===s.status||s.data&&s.data.error&&101===s.data.error.code)||(0,u.oj)({error:s})}},async fetchUserAuthToken({commit:e,state:t}){try{const{wsAuthToken:s}=await(0,l.Nh)();e("users/setUserField",{userId:t.user,field:"wsAuthToken",status:s},{root:!0})}catch(s){}}}},906189:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return S},getters:function(){return y},mutations:function(){return v},state:function(){return g}});var a=s(150361),r=s.n(a),i=s(227361),n=s.n(i),o=s(333948),d=s.n(o),c=s(398563),l=s(865273),u=s(218684),m=s(617875),h=s(172462),f=s(990733);const p=()=>({payoutsBank:{},payoutsBankPreview:{},payoutsStripe:{stripe_legal:{}},payoutsLegal:{},payoutsLegalInfo:{},disableSubmit:!1,paymentErrors:"",payoutsAccount:{},loading:!1,bankingLoading:!1,isEditBanking:!1,W9Address:null,autocompleteAddresses:{},countriesList:[]}),g={payoutsBank:{},payoutsBankPreview:{},payoutsStripe:{stripe_legal:{}},payoutsLegal:{},payoutsLegalInfo:{},disableSubmit:!1,paymentErrors:"",payoutsAccount:{},loading:!1,bankingLoading:!1,isEditBanking:!1,W9Address:null,autocompleteAddresses:{},countriesList:[]},y={getBankingState:e=>t=>void 0!==e[t]?e[t]:"",getAutocompleteAddress:e=>t=>e.autocompleteAddresses[Object.values(t).join(", ")]},v={setBankingState(e,{field:t,value:s}){void 0!==e[t]&&(e[t]=s)},setPayoutsBank(e,{data:t,isEdit:s=!1}){const{payoutCode:a}=t,r=t.payouts.find((e=>e.code===a));r&&r.fields&&Object.keys(r.fields).forEach((e=>{const{value:t,type:s}=r.fields[e];t||(r.fields[e].value=""),"checkbox"===s&&(r.fields[e].value=!!r.fields[e].value)})),e.payoutsBank=t,e.isEditBanking=!!s},setPayoutsBankPreview(e,t){e.payoutsBankPreview=r()(t)},setPayoutsStripe(e,t){e.payoutsStripe={...e.payoutsStripe,...t}},setPayoutsStripeSections(e,t){e.payoutsStripe={...e.payoutsStripe,...t}},setPayoutsLegal(e,t){e.payoutsLegal=t},setPayoutsLegalInfo(e,t){e.payoutsLegalInfo=t},updatePayoutsLegalInfo(e,t){e.payoutsLegalInfo={...e.payoutsLegalInfo,...t}},clearPayoutsStripe(e){e.payoutsStripe={stripe_legal:{}}},clearPayoutsStripeLegal(e){e.payoutsStripe.stripe_legal={}},clearTinCheckRequest(e){e.payoutsBank.tincheckRequest=!1},setPayoutsAccount(e,t){e.payoutsAccount=t},changePayoutFieldValue(e,{code:t,field:s,value:a,stripe:r=!1}){var i,n,o,d,c,l,u;(t||s)&&(r?((null===(i=e.payoutsStripe)||void 0===i||null===(n=i[t])||void 0===n||null===(o=n.fields)||void 0===o?void 0:o[s])||{}).value=a:((null===(d=e.payoutsBank)||void 0===d||null===(c=d.payouts)||void 0===c||null===(l=c.find((e=>(null==e?void 0:e.code)===t)))||void 0===l||null===(u=l.fields)||void 0===u?void 0:u[s])||{}).value=a)},setStripeStates(e,t){n()(e,"payoutsStripe.stripe_legal.fields.legal_address_state.values")&&(e.payoutsStripe.stripe_legal.fields.legal_address_state.values=t)},setLoading(e,t){e.loading=t},setBankingLoading(e,t){e.bankingLoading=t},setW9Address(e,t){e.W9Address=t},setAutocompleteAddress(e,t){e.autocompleteAddresses={...e.autocompleteAddresses,...t}},resetPaymentsAlternativeMethodsForm(){const{payoutsBankPreview:e,payoutsBank:t}={payoutsBank:{},payoutsBankPreview:{},payoutsStripe:{stripe_legal:{}},payoutsLegal:{},payoutsLegalInfo:{},disableSubmit:!1,paymentErrors:"",payoutsAccount:{},loading:!1,bankingLoading:!1,isEditBanking:!1,W9Address:null,autocompleteAddresses:{},countriesList:[]};g.payoutsBankPreview=e,g.payoutsBank=t},setCountriesList(e,t){e.countriesList=t},logout(e){Object.assign(e,{payoutsBank:{},payoutsBankPreview:{},payoutsStripe:{stripe_legal:{}},payoutsLegal:{},payoutsLegalInfo:{},disableSubmit:!1,paymentErrors:"",payoutsAccount:{},loading:!1,bankingLoading:!1,isEditBanking:!1,W9Address:null,autocompleteAddresses:{},countriesList:[]})}},S={async fetchPayoutsBank({commit:e},{other:t=!1,...s}={}){const{cancelToken:a,Cancel:r}=(0,f.Yz)(t?"fetchPayoutsOtherBank":"fetchPayoutsBank");try{var i;let r;r=t?await(0,c.mt)(s,a):await(0,c.iO)(s,a),null!==(i=r)&&void 0!==i&&i.payoutCode&&(e("setPayoutsBankPreview",r),e("setPayoutsBank",{data:r,isEdit:"edit"===s.context}))}catch(n){if(!(n instanceof r))throw n}},async fetchPayoutsLegal({commit:e}){try{const t=await(0,c.Jd)();return"object"==typeof t&&e("setPayoutsLegal",t),t}catch(t){}return!1},async fetchPayoutsLegalInfo({commit:e}){try{const t=await(0,c.Fz)();return"object"==typeof t&&e("setPayoutsLegalInfo",t),t}catch(t){}return!1},async sendPayoutsBank({commit:e},t){const s=await(0,c.KD)(t);s&&(e("setPayoutsBankPreview",s),e("setPayoutsBank",{data:s}))},async removePayoutsBank({dispatch:e},t){try{const s=await(0,c.uI)();null!=s&&s.success&&await e("fetchPayoutsBank",t)}catch(s){(0,h.Po)(s)}},async fetchPayoutsAccount({commit:e}){try{const t=await(0,c.cD)();"object"==typeof t&&e("setPayoutsAccount",t)}catch(t){}},async fetchPayoutsStripe({commit:e}){e("setLoading",!0);const t=await(0,c.GG)();t&&(e("setPayoutsStripe",t),e("setLoading",!1))},async fetchStripeStates({commit:e,state:t}){try{const s=undefined;e("setStripeStates",await(0,m.Yx)(t.payoutsAccount.id))}catch(s){}},async fetchPayoutsStripeLegal({commit:e,dispatch:t}){try{const s=await(0,c.SH)();s&&(n()(s,"stripe_legal.fields.legal_address_state")&&t("fetchStripeStates"),e("setPayoutsStripeSections",s))}catch(s){}},async sendPayoutsStripeLegal({commit:e,dispatch:t},s){const a=await(0,c.t1)(s);return a&&(n()(a,"stripe_legal.fields.legal_address_state")&&t("fetchStripeStates"),e("setPayoutsStripeSections",a)),a},async fetchPayoutsStripeAccount({commit:e},{edit:t=!1}={}){try{const s=await(0,c.VN)(t);s&&e("setPayoutsStripeSections",s)}catch(s){}},async sendPayoutsStripeAccount({commit:e},t){const s=await(0,c.oY)(t);s&&e("setPayoutsStripeSections",s)},async fetchPaymentsAlternativeMethodsForm({commit:e},t){const s=await(0,u.u6)(t);if(s){s.code="alternative";const t={payouts:[],payoutCode:"alternative"};t.payouts.push(s),e("setPayoutsBankPreview",t),e("setPayoutsBank",{data:t})}},async fetchW9Address({commit:e},t={}){try{const s=await(0,l.k7)(t);if("object"!=typeof s||!s.country)return alert("Something went wrong. Please try again later."),!1;if(t.trust)return s;e("setW9Address",s)}catch(s){return 403!==n()(s,"status")&&105!==n()(s,"data.error.code")&&(0,h.Po)(s),!1}return!0},async saveW9Address(e,t){try{const e=await(0,l.Rp)(t);return e&&e.success}catch(s){(0,h.Po)(s)}return!1},async fetchAutocompleteAddress({commit:e},{payload:t,cancelToken:s}){const a=await(0,c.id)(t,s);Array.isArray(a)&&e("setAutocompleteAddress",{[Object.values(t).join(", ")]:a})},async confirmTinNumber({commit:e},t={}){let s;try{var a;s=await(0,l.U7)(t),null!==(a=s)&&void 0!==a&&a.success&&e("clearTinCheckRequest")}catch(r){(0,h.Po)(r),s=r.data}return s},async getConfirmYotiConsentUrl(e,t){let s;try{s=await(0,l.Uf)(t)}catch(a){(0,h.Po)(a),s=a.data}return s},async fetchCountriesList({commit:e}){try{const t=await(0,c.zr)();Array.isArray(t)&&t.length&&e("setCountriesList",t)}catch(t){}}}},534674:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return b},getters:function(){return P},mutations:function(){return w},state:function(){return S}});var a=s(333948),r=s(545578),i=s.n(r),n=s(53189),o=s(990733);const d=({limit:e=o.P9,offset:t=0,query:s=""}={})=>{const a=(0,o.XP)({limit:e,offset:t,query:s}),r=`${o.tW}/posts/bookmarks/categories${a}`;return o.ZP.get(r).then((e=>e.data))},c=({postId:e,limit:t=o.P9,offset:s=0}={})=>{const a=(0,o.XP)({limit:t,offset:s}),r=`${o.tW}/posts/bookmarks/categories${a}&postId=${e}&view=add_post`;return o.ZP.get(r).then((e=>e.data))},l=e=>{const t=`${o.tW}/posts/bookmarks/categories`;return o.ZP.post(t,{name:e}).then((e=>e.data))},u=({id:e,name:t})=>{const s=`${o.tW}/posts/bookmarks/categories/${e}`;return o.ZP.patch(s,{name:t}).then((e=>e.data))},m=e=>{const t=`${o.tW}/posts/bookmarks/categories/${e}`;return o.ZP.delete(t).then((e=>e.data))},h=({categoryId:e,postId:t})=>{const s=`${o.tW}/posts/bookmarks/categories/${e}/${t}`;return o.ZP.post(s).then((e=>e.data))},f=({categoryId:e,postId:t})=>{const s=`${o.tW}/posts/bookmarks/categories/${e}/${t}`;return o.ZP.delete(s).then((e=>e.data))},p=e=>{const t=`${apiVersion}/posts/${e}/bookmarks`;return request.delete(t).then((e=>e.data))},g=e=>{const t=`${o.tW}/posts/bookmarks/categories/sort`;return o.ZP.post(t,e).then((e=>e.data))};var y=s(172462);const v=()=>({categories:{all:{},list:[],offset:0,hasMore:!1,loading:!1,categoriesIds:[]},modalBookmarkCategoryId:null,isSearchMode:!1,activePostId:null,categoriesHasActivePost:[],customOrderEnabled:!1,hasMore:!1,bookmarksListDirection:"asc"}),S={categories:{all:{},list:[],offset:0,hasMore:!1,loading:!1,categoriesIds:[]},modalBookmarkCategoryId:null,isSearchMode:!1,activePostId:null,categoriesHasActivePost:[],customOrderEnabled:!1,hasMore:!1,bookmarksListDirection:"asc"},P={getBookmarkListById:e=>t=>e.categories.list.concat([e.categories.all]).find((e=>e.id===t||Number(e.id)===Number(t))),categoriesIds:e=>e.categories.categoriesIds},w={setCategoriesListAllListItem(e,{all:t={}}){e.categories.all={name:n.default.$t("message.bookmarks_title_section"),id:"all",...t}},setCategoriesList(e,{list:t=[],hasMore:s=!1}={}){e.categories.list=i()([...e.categories.list,...t],(e=>e.id)),e.categories.hasMore=s},addCategoriesListItem(e,t){e.categories.list=i()([...e.categories.list,t],(e=>e.id))},setCategoriesHasActivePost(e,t=[]){e.categoriesHasActivePost=t},updateCategoriesHasActivePost(e,t=[]){e.categoriesHasActivePost=e.categoriesHasActivePost.concat(t)},updateCategoriesHasActivePostById(e,t){e.categoriesHasActivePost=e.categoriesHasActivePost.map((e=>t.id===e.id?t:e))},updateCategoriesListById(e,t){e.categories.list=e.categories.list.map((e=>t.id===e.id?t:e))},setCategoriesListLoading(e,t){e.categories.loading=t},setModalBookmarkCategoryId(e,t){e.modalBookmarkCategoryId=t},setActivePostId(e,t){e.activePostId=t},setCustomOrderEnabled(e,t){e.customOrderEnabled=t},setIds(e,t=[]){e.categories.categoriesIds=t},appendIds(e,t=[]){e.categories.categoriesIds=[...new Set([...e.categories.categoriesIds,...t])]},prependIds(e,t=[]){e.categories.categoriesIds=[...new Set([...t,...e.categories.categoriesIds])]},removeId(e,t){e.categories.categoriesIds=e.categories.categoriesIds.filter((e=>e!==t))},setOffset(e,t){e.categories.offset=t},setHasMore(e,t){e.hasMore=t},setBookmarksListDirection(e,t){e.bookmarksListDirection=t},logout(e){Object.assign(e,{categories:{all:{},list:[],offset:0,hasMore:!1,loading:!1,categoriesIds:[]},modalBookmarkCategoryId:null,isSearchMode:!1,activePostId:null,categoriesHasActivePost:[],customOrderEnabled:!1,hasMore:!1,bookmarksListDirection:"asc"})}},b={async fetchBookmarksCategories({commit:e},{offset:t,query:s,...a}){let r;e("setCategoriesListLoading",!0);try{var i,n;r=await d({offset:t,query:s,...a}),e("setHasMore",!(null===(i=r)||void 0===i||!i.hasMore)),Array.isArray(null===(n=r)||void 0===n?void 0:n.list)&&(e("setCategoriesList",r),t?e("appendIds",r.list.map((({id:e})=>e))):(e("setCategoriesListAllListItem",r),e("setIds",r.list.map((({id:e})=>e)))))}finally{e("setCategoriesListLoading",!1)}return r},async fetchBookmarksCategoriesByPostId({commit:e},{offset:t,...s}){let a;try{a=await c({offset:t,...s}),e(t?"updateCategoriesHasActivePost":"setCategoriesHasActivePost",a.list)}catch(r){}return a},async addBookmarkCategory({state:e,commit:t},s=""){let a;try{var r;if(a=await l(s),a)t("addCategoriesListItem",a),null!==(r=a)&&void 0!==r&&r.id&&("asc"!==e.bookmarksListDirection||e.hasMore||t("appendIds",[+a.id]),"desc"===e.bookmarksListDirection&&t("prependIds",[+a.id])),e.activePostId&&t("updateCategoriesHasActivePost",a)}catch(i){(0,y.Po)(i)}return a},async changeBookmarkCategory({commit:e},{id:t,name:s}={}){let a;try{a=await u({id:t,name:s}),a&&e("updateCategoriesListById",a)}catch(r){(0,y.Po)(r)}return a},async removeBookmarkCategory({commit:e},t){let s;try{var a;s=await m(t),null!==(a=s)&&void 0!==a&&a.success&&e("removeId",t)}catch(r){(0,y.Po)(r)}return s},async addPostToBookmarkCategory({commit:e,state:t},s){if(t.categories.loading)return;e("setCategoriesListLoading",!0);const{activePostId:a}=t;try{const t=await h({categoryId:s,postId:a});if(null!=t&&t.success){const r={hasPost:!0,...t.bookmarkCategory};e("updateCategoriesHasActivePostById",r),e("updateCategoriesListById",r),Number(n.default.$route.params.id)===Number(s)&&e("posts/updatePostInBookmarks",{id:a,isAdded:!0},{root:!0})}}catch(r){(0,y.Po)(r)}finally{e("setCategoriesListLoading",!1)}},async removePostFromBookmarkCategory({commit:e,state:t},s){if(t.categories.loading)return;e("setCategoriesListLoading",!0);const{activePostId:a}=t;try{const t=await f({categoryId:s,postId:a});if(t){const r={hasPost:!1,...t};e("updateCategoriesHasActivePostById",r),e("updateCategoriesListById",r),Number(n.default.$route.params.id)===Number(s)&&e("posts/updatePostInBookmarks",{id:a,isAdded:!1},{root:!0})}}catch(r){(0,y.Po)(r)}finally{e("setCategoriesListLoading",!1)}},async saveBookmarksOrder({commit:e,rootGetters:t},s={}){let{customOrder:a,sort:r,order:i}=s;"custom"===r&&(i="asc");try{const s=await g({customOrder:a,sort:r,order:i});if(null!=s&&s.success){a&&e("setIds",a);const s=t["auth/authUserId"];e("users/setUserField",{userId:s,field:"bookmarkCategoriesSort",status:r},{root:!0}),e("users/setUserField",{userId:s,field:"bookmarkCategoriesOrder",status:i},{root:!0})}}catch(n){(0,y.Po)(n)}}}},497965:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var a=s(782677),r=s(243168),i=s(172462),n=s(990733);const o=e=>n.ZP.post(`${n.tW}/subscriptions/bundles`,e).then((e=>e.data)),d=()=>n.ZP.get(`${n.tW}/subscriptions/bundles`).then((e=>e.data)),c=e=>n.ZP.put(`${n.tW}/subscriptions/bundles/${e.id}`,e).then((e=>e.data)),l=e=>n.ZP.delete(`${n.tW}/subscriptions/bundles/${e}`).then((e=>e.data)),u=()=>({items:{},loading:!1}),m={items:{},loading:!1},h={getBundles:e=>t=>t.map((t=>e.items[t]))},f={deleteBundle(e,t){const s={...e.items};delete s[t],e.items=s},logout(e){Object.assign(e,{items:{},loading:!1})}},p={async fetchBundles({commit:e}){try{const t=await d();if(null!=t&&t.length){const s=(0,a.Fv)(t,r.H3);e("set",s,{root:!0}),e("setBundles",s.result)}}catch(t){}},async saveBundle({commit:e,rootGetters:t},s){try{var n;let i;if(i=null!=s&&s.id?await c(s):await o(s),null!==(n=i)&&void 0!==n&&n.id){const s=undefined;e("set",(0,a.Fv)(i,r.Vz),{root:!0});const n=undefined;e("users/setBundle",{userId:t["auth/authUserId"],bundleId:i.id},{root:!0})}}catch(d){(0,i.Po)(d)}},async deleteBundle({commit:e,rootGetters:t},s){try{const a=undefined;if(await l(s)){const a=undefined;e("users/deleteBundle",{userId:t["auth/authUserId"],bundleId:s},{root:!0}),e("deleteBundle",s)}}catch(a){(0,i.Po)(a)}}}},807394:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return y},mutations:function(){return g},state:function(){return p}});var a=s(545578),r=s.n(a),i=s(333948),n=s.n(i),o=s(21703),d=s.n(o),c=s(782677),l=s(243168),u=s(76816),m=s(172462);const h={sortby:"claims",order:"desc"},f=()=>({isLoading:!1,campaigns:{list:[],hasMore:!1},chartData:{loading:!1,data:null},claimersList:[],sort:h}),p=f(),g={setIsLoading(e,t){e.isLoading=t},setCampaigns(e,{campaigns:{list:t,hasMore:s},more:a=!1}){e.campaigns={list:a?r()([...e.campaigns.list,...t],"id"):t,hasMore:s}},setChartData(e,t){e.chartData.data=t},setChartDataLoading(e,t){e.chartData.loading=t},setCampaign(e,t){e.campaigns.list.unshift(t)},deleteCampaignMutation(e,t){e.campaigns.list=e.campaigns.list.filter((e=>e.id!==t))},setCampaignClaimers(e,{list:t,more:s}){e.claimersList=s?[...new Set([...e.claimersList,...t])]:t},resetCampaignClaimers(e){e.claimersList=f().claimersList},setSort(e,t){e.sort=t||h},logout(e){Object.assign(e,f())}},y={async createCampaign({commit:e},t={}){let s;try{if(s=await(0,u.jP)(t),Array.isArray(s)){const[t]=s;e("setCampaign",t)}else(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(a){(0,m.Po)(a)}return s},async deleteCampaignAction({commit:e},t){let s;try{s=await(0,u.bO)(t),s&&e("deleteCampaignMutation",t)}catch(a){(0,m.Po)(a)}return s},async fetchCampaigns({commit:e,state:t},{limit:s,offset:a,sort:r,field:i,more:n,startDate:o,endDate:d,isTableSort:c=!1,with_deleted:l=0}={}){e("setIsLoading",!0);const h=f();let p;n||e("setCampaigns",{campaigns:h.campaigns});const g={limit:s,offset:a,field:i,startDate:o,endDate:d,with_deleted:l,stats:!0};r?g.sort=r:c&&(g.sortby=t.sort.sortby,g.sort=t.sort.order);try{p=await(0,u._z)(g)}catch(y){return e("setIsLoading",!1),t.campaigns}return p&&"object"==typeof p?e("setCampaigns",{campaigns:p,more:n}):(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:p}}),e("setIsLoading",!1),p},async fetchCampaignsChart({commit:e},{startDate:t,endDate:s}={}){let a;e("setChartDataLoading",!0);try{if(a=await(0,u.IK)({startDate:t,endDate:s}),a){const{claims:t,...s}=a,r=undefined;e("setChartData",{subscribers:t,...s})}else(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}})}catch(r){}finally{e("setChartDataLoading",!1)}return a},async fetchCampaignClaimers({commit:e},{id:t,more:s=!1,...a}){let r;try{var i;if(r=await(0,u.et)({id:t,more:s,...a}),Array.isArray(null===(i=r)||void 0===i?void 0:i.list)){const a=(0,c.Fv)(r.list,l.Xd);e("set",a,{root:!0}),e("setCampaignClaimers",{campaignId:t,list:a.result,more:s})}}catch(n){}return r}}},835401:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return _},getters:function(){return $},mutations:function(){return A},state:function(){return M}});var a=s(747037),r=s.n(a),i=s(441609),n=s.n(i),o=s(957557),d=s.n(o),c=s(227361),l=s.n(c),u=s(333948),m=s.n(u),h=s(365069),f=s.n(h),p=s(21703),g=s.n(p),y=s(115306),v=s.n(y),S=s(720144),P=s(782677),w=s(53189),b=s(243168),I=s(410697),k=s(172462),C=s(990733),T=s(914786);const L=()=>({chats:[],items:{},currentChat:null,messages:{},chatsLoading:!1,chatsListLoading:!1,sendMessageLoading:!1,searchIds:[],currentSearchIndex:null,searchQuery:"",chatsSort:null,chatsFilter:null,mobileVersion:!1,chatsListHasMore:!1,emptyMessagesList:!1,firstLoadingChatsList:!1,firstLoadingMessagesList:!1,usersTotal:0,selectedUsersIds:0,queueIds:[],queueItems:{},media:[],queueBuyersMarker:0,queueBuyersIds:[],queueBuyersError:!1,selectedUsers:[],galleryListNextLastId:void 0,showViewAllInclude:!1,selectViewAllInclude:[],showViewAllExclude:!1,selectViewAllExclude:[],nextOffset:0,scheduleQueueMessage:null,hasMoreUsers:!1,messagesHasMore:{},messageIdToCentered:null}),M={chats:[],items:{},currentChat:null,messages:{},chatsLoading:!1,chatsListLoading:!1,sendMessageLoading:!1,searchIds:[],currentSearchIndex:null,searchQuery:"",chatsSort:null,chatsFilter:null,mobileVersion:!1,chatsListHasMore:!1,emptyMessagesList:!1,firstLoadingChatsList:!1,firstLoadingMessagesList:!1,usersTotal:0,selectedUsersIds:0,queueIds:[],queueItems:{},media:[],queueBuyersMarker:0,queueBuyersIds:[],queueBuyersError:!1,selectedUsers:[],galleryListNextLastId:void 0,showViewAllInclude:!1,selectViewAllInclude:[],showViewAllExclude:!1,selectViewAllExclude:[],nextOffset:0,scheduleQueueMessage:null,hasMoreUsers:!1,messagesHasMore:{},messageIdToCentered:null},$={chatsByType:e=>e.chats.map((t=>e.items[t])).filter((e=>e)),getChat:e=>t=>e.items[t],getMessages:e=>(t=[])=>t.map((t=>e.messages[t])),getMessage:e=>t=>e.messages[t],chatMessages:e=>t=>e.items[t].messages,getLikePrevent:e=>t=>e.messages[t].likePrevent,getIsMediaPlayed:e=>t=>e.messages[t].isMediaPlayed,getQueueItem:e=>t=>e.queueItems[t],getMessageReleaseForms:(e,t,s)=>t=>{var a;const r=l()(s,"releaseForms.items",{});return null!==(a=e.messages[t])&&void 0!==a&&a.releaseForms?e.messages[t].releaseForms.filter((e=>!!r[e])).map((e=>r[e])):[]}},A={setLoading(e,t){e.chatsLoading=t},setChatsListLoading(e,t){e.chatsListLoading=t},setCurrentChat(e,t){e.currentChat=t},setSendMessageLoading(e,t){e.sendMessageLoading=t},setHasMoreUsers(e,t){e.hasMoreUsers=t},setMobileVersion(e,t){e.mobileVersion=t},setChats(e,{ids:t=[]}){e.chats=t},resetChats(e){e.chats=[]},addChats(e,{ids:t}){e.chats=[...new Set([...e.chats,...t])]},setChatMessages(e,t){const{id:s,messageIds:a,add:r=!1,before:i=!0,ownMsg:n,isSocket:o=!1}=t,d=Array.isArray(a)?a:[a];!1!==n||e.items[s]||S.default.set(e.items,t.id,{withUser:t.id,unreadMessagesCount:1,messages:[],hasUnreadTips:!1,countPinnedMessages:0}),r?e.items[s]&&Object.keys(e.items[s].messages).length?e.items[s].messages=i?[...new Set([...d,...e.items[s].messages])]:[...new Set([...e.items[s].messages,...d.reverse()])]:(e.items[s]&&(e.items[s].messages=[...new Set([...e.items[s].messages,...d])]),o&&"newest"===e.chatsSort&&(e.chats=e.chats.reduce(((e,t)=>t!==s?[...e,t]:e),[s]))):e.items[s]&&(e.items[s].messages=d)},setLastMessage(e,{chatId:t,messageId:s,ownMsg:a=!1,isNew:r}){e.items[t]&&(e.items[t].prevMessage=e.items[t].lastMessage,e.items[t].lastMessage=s,!a&&void 0!==e.items[t].unreadMessagesCount&&null!==e.items[t].unreadMessagesCount&&r&&(e.items[t].unreadMessagesCount+=1))},deleteChat(e,t){const s=Array.isArray(t)?t:[t];e.chats=e.chats.filter((e=>!s.includes(e))),e.items=d()(e.items,s)},deleteSomeChat(e,t){t.forEach((t=>{e.chats=e.chats.filter((e=>e!==t))}))},setMessageIdToCentered(e,t){e.messageIdToCentered=t},setSearchIds(e,t){e.searchIds=t},setCurrentSearchIndex(e,t){e.currentSearchIndex=t},setSearchQuery(e,t){e.searchQuery=t},deleteMessage(e,{chatId:t,messageId:s}){const a=e.items[t];if(!a)return;a.messages=a.messages.filter((e=>e!==s));const r=a.messages.length,i=r?a.messages[r-1]:null;a.prevMessage=i,a.lastMessage=i},async deleteMessageById(e,t){const s=e.messages[t];let a;if(s){if(s.chatId&&e.items[s.chatId]){let r=e.items[s.chatId].messages.filter((e=>e!==+t)),i=r[r.length-1];if(!i&&!r.length){const t=await(0,I.DP)(s.chatId);null!=t&&t.list.length&&(a=t.list[t.list.length-1],e.items[s.chatId].unreadMessagesCount=0,r=[...r,a.id],i=a.id)}e.items[s.chatId].messages=r,e.items[s.chatId].lastMessage=i}s.isCanceled=!0,e.messages={...e.messages,message:s,...a&&{[a.id]:a}}}},decrMessageCancelSeconds(e,t){e.messages[t].cancelSeconds<=0?e.messages[t].cancelSeconds=0:e.messages[t].cancelSeconds-=1},setChatTyping(e,{chatId:t,status:s}){e.items[t]&&(e.items[t].typing=s)},setMessage(e,t={}){e.messages[t.id]&&(e.messages[t.id]={...e.messages[t.id],...t})},setMessageIsNew(e,{messageId:t,status:s}){e.messages[t]&&(e.messages[t].isNew=s)},setMuted(e,{id:t,status:s}){e.items[t]&&(e.items[t].isMuted=s)},setChatsSort(e,t){if(void 0===t){let e="newest";try{["newest","oldest"].includes(T.Z.getItem("sort_chats"))&&(e=T.Z.getItem("sort_chats"))}catch(s){}t=e}e.chatsSort=t;try{T.Z.setItem("sort_chats",t)}catch(s){}},setChatsFilter(e,t){e.chatsFilter=t},setAddedNewItemChats(e,{id:t}){e.chats.unshift(t)},setNewUserChats(e,t){e.chats.includes(t)||(e.chats.unshift(t),e.chats.splice(-1,1))},setChatAsRead(e,t){e.items[t]&&(e.items[t].unreadMessagesCount=!1)},setLastReadMessageId(e,t){e.items[t]&&(e.items[t].lastReadMessageId=e.items[t].lastMessage)},setChatAsUnRead(e,t){e.items[t]&&(e.items[t].unreadMessagesCount=1)},setAllChatAsRead(e,t){Object.keys(e.items).forEach((s=>{t.includes(+s)&&(e.items[s].unreadMessagesCount=!1)}))},setNewMessageIds(e,t=[]){Array.isArray(t)||(t=[t]),t.forEach((t=>{+e.currentChat!=+t&&e.items[t]&&e.items[t].unreadMessagesCount&&!e.items[t].newMessageId&&(e.items[t].newMessageId=e.items[t].lastReadMessageId)}))},clearNewMessageId(e,t){e.items[t]&&(e.items[t].newMessageId=null)},setMessageReleaseForms(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].releaseForms=s)},setMessageIsLiked(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].isLiked=s)},setMessageIsPinned(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].isPinned=s)},setChatMessagesPinnedCount(e,{chatId:t,value:s}){const a=e.items[t];a&&(a.countPinnedMessages||(a.countPinnedMessages=0),s?a.countPinnedMessages+=1:a.countPinnedMessages>0&&(a.countPinnedMessages-=1))},setChatUnpinned(e,{withUserId:t}){e.items[t]&&(e.items[t].countPinnedMessages=0)},setChatMessagesUnpinned(e,{withUserId:t}){e.items[t]&&e.items[t].messages.forEach((t=>{e.messages[t]&&(e.messages[t].isPinned=!1)}))},setLikePrevent(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].likePrevent=s)},setMessageCancelSeconds(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].cancelSeconds=s)},setIsMediaPlayed(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].isMediaPlayed=s)},setChatsHasMore(e,{userId:t,hasMoreTop:s,hasMoreBottom:a}){let r={};r=e.messagesHasMore[t]?{...e.messagesHasMore[t],...void 0!==s&&{top:s},...void 0!==a&&{bottom:a}}:{top:!(!1===s),bottom:!(!1===a)},e.messagesHasMore={...e.messagesHasMore,[t]:r}},setChatsListHasMore(e,t){e.chatsListHasMore=t},setEmptyMessagesList(e,t){e.emptyMessagesList=t},setMuteNotifications(e,t){e.items[t]&&(e.items[t].isMutedNotifications=!e.items[t].isMutedNotifications)},setFirstLoadingChatsList(e,t){e.firstLoadingChatsList=t},setFirstLoadingMessagesList(e,t){!e.firstLoadingMessagesList&&t&&(e.firstLoadingMessagesList=!0),t||(e.firstLoadingMessagesList=!1)},setUsersTotal(e,t){e.usersTotal=t>0?t:0},setSelectedUsersIds(e,t){e.selectedUsersIds=t},setChatUserMedia(e,t){e.media=[...new Set(t)]},addChatUserMedia(e,t){e.media=[...new Set([...e.media,...t])]},setQueueBuyersMarker(e,t=0){e.queueBuyersMarker=t},setQueueBuyersIds(e,{more:t=!1,ids:s=[]}={}){e.queueBuyersIds=t?[...new Set([...e.queueBuyersIds,...s])]:s},setQueueBuyersError(e,t){e.queueBuyersError=t},setSelectedUsers(e,t){e.selectedUsers.includes(t)?e.selectedUsers=e.selectedUsers.filter((e=>e!==t)):e.selectedUsers.push(t)},setAllSelectedUsers(e){e.selectedUsers=e.chats},resetSelectedUsers(e){e.selectedUsers=[]},removeSelectedUserById(e,t){const s=Array.isArray(t)?t:[t];e.selectedUsers=e.selectedUsers.filter((e=>!s.includes(e)))},setGalleryNextLastId(e,t=null){e.galleryListNextLastId=t},setShowViewAllInclude(e,t){e.showViewAllInclude=t},setSelectViewAllInclude(e,t){e.selectViewAllInclude=t},setShowViewAllExclude(e,t){e.showViewAllExclude=t},setSelectViewAllExclude(e,t){e.selectViewAllExclude=t},setNextOffset(e,t){e.nextOffset=t},setMessagesQueue(e,{items:t}){const s=(0,P.Fv)(t,b.GD);e.queueItems=s.entities.queues||{},e.queueIds=s.result},setMessageScheduledQueue(e,t){e.scheduleQueueMessage=t},setMessageIsReportedByMeTemp(e,t=0){e.messages[t]&&(e.messages[t]={...e.messages[t],isReportedByMeTemp:!0})},setHasPurchesesFeed(e,{id:t,status:s}){e.items[t]&&e.items[t].hasPurchasedFeed!==s&&(e.items[t]={...e.items[t],hasPurchasedFeed:s})},setEmptyMessages(e,t){e.messagesHasMore={},e.firstLoadingMessagesList=!1,e.items[t]&&(e.items[t].messages=[])},logout(e){Object.assign(e,{chats:[],items:{},currentChat:null,messages:{},chatsLoading:!1,chatsListLoading:!1,sendMessageLoading:!1,searchIds:[],currentSearchIndex:null,searchQuery:"",chatsSort:null,chatsFilter:null,mobileVersion:!1,chatsListHasMore:!1,emptyMessagesList:!1,firstLoadingChatsList:!1,firstLoadingMessagesList:!1,usersTotal:0,selectedUsersIds:0,queueIds:[],queueItems:{},media:[],queueBuyersMarker:0,queueBuyersIds:[],queueBuyersError:!1,selectedUsers:[],galleryListNextLastId:void 0,showViewAllInclude:!1,selectViewAllInclude:[],showViewAllExclude:!1,selectViewAllExclude:[],nextOffset:0,scheduleQueueMessage:null,hasMoreUsers:!1,messagesHasMore:{},messageIdToCentered:null})}},_={async fetchChats({commit:e,dispatch:t,state:s},{limit:a=C.P9,more:i=!1,...o}={}){const{cancelToken:d,Cancel:c}=(0,C.Yz)("fetchChats"),l=e=>null!==e&&(n()(e)||Array.isArray(e)||r()(e)),u=e=>{e.forEach((e=>{l(e.lastMessage)&&(e.lastMessage=null)}))};e("setLoading",!0),e("setChatsListLoading",!0),i||(e("setChatsListHasMore",!1),e("setNextOffset",0),e("resetChats"));try{const r=await(0,I.zG)({limit:a,offset:s.nextOffset,...o},d);if(Array.isArray(null==r?void 0:r.list))if(r.list.length){const s=undefined;r.list.some((e=>l(e.lastMessage)))&&((0,k.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}}),u(r.list));const a=(0,P.Fv)(r.list,b.rL),n=a.result,o={entities:{users:{}}};n.forEach((e=>{o.entities.users[e]={_views:["cl"]}})),await t("users/getUsersIfNeeded",o,{root:!0}),e("set",a,{root:!0}),e(i?"addChats":"setChats",{ids:n}),e("setNewMessageIds",n)}else i||r.hasMore||e("resetChats");else(0,k.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}});return e("setChatsListHasMore",!(null==r||!r.hasMore)),e("setNextOffset",(null==r?void 0:r.nextOffset)||s.nextOffset+a),e("setLoading",!1),e("setChatsListLoading",!1),e("setFirstLoadingChatsList",!0),Array.isArray(null==r?void 0:r.list)?r:{list:[],hasMore:!1}}catch(m){return m instanceof c?{list:[],hasMore:!1}:(e("setChatsListHasMore",!1),e("setNextOffset",0),e("setLoading",!1),e("setChatsListLoading",!1),e("setFirstLoadingChatsList",!0),{list:[],hasMore:!1,error:!0})}},async fetchChat({commit:e,dispatch:t},s){try{const a=await(0,I.mb)(s);if(!a||"object"!=typeof a)throw(0,k.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}}),new Error("Network Error");{const s=(0,P.Fv)(a,b.dO);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0})}}catch(a){w.default.$router.replace({name:"Chats"}).then((()=>{(0,k.Po)(a)}))}},async fetchChatsMessages({commit:e,dispatch:t},{userId:s,lastId:a,firstId:r,id:i,more:n=!1,before:o=!0,limit:d=C.P9,filter:c,order:l="desc"}={}){e("setEmptyMessagesList",!1),n||e("setEmptyMessages",s);try{const u=await(0,I.DP)(s,{lastId:a,firstId:r,id:i,skipUsers:"all",limit:d,filter:c,order:l});if(null!=u&&u.list){let c;if(1===d&&1===u.list.length)c=(0,P.Fv)(u.list[0],b.w1),e("set",c,{root:!0});else{if(u.list.length){c=(0,P.Fv)(u.list,b.VR),await t("users/getUsersIfNeeded",c,{root:!0}),e("releaseForms/setReleaseFormsNormalized",c,{root:!0}),c.chatId=s,c.messageId=c.id,e("set",c,{root:!0});const a=c.result.reverse();e("setChatMessages",n?{id:s,messageIds:a,add:!0,before:o}:{id:s,messageIds:a})}else n||e("setEmptyMessagesList",!0);if(void 0===a&&void 0===r&&void 0===i)e("setChatsHasMore",{userId:s,hasMoreTop:!!u.hasMore,hasMoreBottom:!1});else{const t={userId:s,[o?"hasMoreTop":"hasMoreBottom"]:!!u.hasMore};u.list.length&&r&&!c.result.includes(+r)&&(t[o?"hasMoreBottom":"hasMoreTop"]=!1),e("setChatsHasMore",t)}e("setFirstLoadingMessagesList",!0)}}else e("setChatsHasMore",{userId:s,[o?"hasMoreTop":"hasMoreBottom"]:!1}),e("setFirstLoadingMessagesList",!0),alert(w.default.$t("message.debug_alert_message"))}catch(u){w.default.$router.replace({name:"Chats"}).then((()=>{(0,k.Po)(u)}))}},async fetchChatsUsers({commit:e,rootGetters:t,dispatch:s},{query:a,offset:r,limit:i=C.P9,...n}={}){const{cancelToken:o,Cancel:d}=(0,C.Yz)("fetchChatsUsers");try{const d=t["users/needSkipUsersOnShort"]?"all":void 0,c=await(0,I.o8)({query:a,offset:r,limit:i,total:a||r?0:1,skipUsers:d,...n},o);if(c&&"object"==typeof c){const{hasMore:t,list:a,total:r}=c;if(e("setHasMoreUsers",!!t),"number"==typeof r&&e("setUsersTotal",r),Array.isArray(a)&&a.length){const t=(0,P.Fv)(a,b.Xd);return d&&await s("users/getUsersIfNeeded",t,{root:!0}),e("set",t,{root:!0}),t.result}return[]}(0,k.oj)({error:new Error("typeof response is incorrect"),extra:{response:c}})}catch(c){if(c instanceof d)throw c}return e("setUsersTotal",0),e("setHasMoreUsers",!1),[]},async fetchMessagesQueue({commit:e}){try{const t=await(0,I.tx)();Array.isArray(t)&&e("setMessagesQueue",{items:t})}catch(t){(0,k.Po)(t)}},async clearQueueState({commit:e,state:t},{id:s}){const a=Object.values(t.queueItems),r=undefined;Object.values(t.messages).filter((e=>e.isFromQueue&&e.queueId===s)).map((e=>e.id)).forEach((t=>e("deleteMessageById",t))),e("setMessagesQueue",{items:a.filter((e=>e.id!==s))})},async delMessagesQueue({state:e,dispatch:t},{id:s,withRequest:a}){if(a){if(e.queueIds.includes(s))try{const e=await(0,I.SL)(s);null!=e&&e.success&&t("clearQueueState",{id:s})}catch(r){(0,k.Po)(r)}}else t("clearQueueState",{id:s})},async getMessageScheduledQueue({commit:e},{id:t}){const{cancelToken:s,Cancel:a}=(0,C.Yz)("getMessageScheduledQueue");try{const a=undefined;return e("setMessageScheduledQueue",await(0,I.ae)(t,"scheduled",s)),!0}catch(r){r instanceof a||(0,k.Po)(r)}return!1},async sendMessage({commit:e,state:t},{id:s,data:a}){e("clearNewMessageId",s),e("setSendMessageLoading",!0);try{const r=await(0,I.bG)(s,a);if(e("setSendMessageLoading",!1),null!=r&&r.id){r.chatId=s;const a=(0,P.Fv)(r,b.w1);e("set",a,{root:!0});const i=undefined;e("setChatMessages",{id:s,messageIds:a.result,add:!0,before:!1});const n=+s;return t.chats.includes(n)||e("setAddedNewItemChats",{id:n}),r}}catch(r){return e("setSendMessageLoading",!1),(0,k.Po)(r),r}},async deleteChat({commit:e,dispatch:t,state:s},a){const r=Array.isArray(a)?a:[a];try{const a=await(0,I.GO)(r.join());if(null!=a&&a.success){const a=r.filter((e=>{var t;return null===(t=s.items[e])||void 0===t?void 0:t.countPinnedMessages})).length;a>0&&t("users/updateChatPinnedCount",{status:-a},{root:!0}),e("deleteChat",r),e("removeSelectedUserById",r)}}catch(i){(0,k.Po)(i)}},async searchMessages({commit:e},{id:t,query:s,filter:a}){let r;try{r=await(0,I.sl)(t,{query:s,filter:a})}catch(i){return[]}return Array.isArray(r)&&(e("setSearchIds",r),e("setSearchQuery",s)),r},async deleteMessages({commit:e,dispatch:t},{chatId:s,messageId:a}){try{const i=await(0,I.qP)(a,s);if(null!=i&&i.success){var r;if(null!==(r=M.messages[a])&&void 0!==r&&r.isPinned){e("setChatMessagesPinnedCount",{chatId:s,value:!1});const a=M.items[s];a&&0===a.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0})}e("deleteMessage",{chatId:s,messageId:a})}}catch(i){(0,k.Po)(i)}},async markChatAsRead({commit:e},t){try{const s=await(0,I.JK)(t);null!=s&&s.success&&e("setChatAsRead",t)}catch(s){(0,k.Po)(s)}},async markChatAsUnRead({commit:e},t){try{const s=await(0,I.kd)(t);null!=s&&s.success&&(e("setChatAsUnRead",t),e("setNewMessageIds",t))}catch(s){(0,k.Po)(s)}},async markAllChatAsRead({commit:e,rootState:t},{filteredChatsIds:s,unreadMessagesCount:a,currentFiltersIds:r}){try{const i=await(0,I.Re)(r);null!=i&&i.success&&(e("users/resetChatMessagesCount",{userId:t.auth.user,unreadMessagesCount:a},{root:!0}),e("setAllChatAsRead",s))}catch(i){(0,k.Po)(i)}},async setLikeMessage({commit:e},{messageId:t,withUserId:s}){try{e("setLoading",!0);const a=await(0,I.d9)(t,s);null!=a&&a.success&&e("setMessageIsLiked",{messageId:t,value:!0})}catch(a){(0,k.Po)(a)}e("setLoading",!1)},async setUnlikeMessage({commit:e},{messageId:t,withUserId:s}){try{e("setLoading",!0);const a=await(0,I.tY)(t,s);null!=a&&a.success&&e("setMessageIsLiked",{messageId:t,value:!1})}catch(a){(0,k.Po)(a)}e("setLoading",!1)},async hideChats({commit:e,dispatch:t,state:s},a){let r;try{var i,n;if(r=await(0,I.ad)(a),null!==(i=r)&&void 0!==i&&i.success)null!==(n=s.items[a])&&void 0!==n&&n.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0}),e("deleteChat",a)}catch(o){(0,k.Po)(o)}return r},async toggleMuteNotifications({commit:e,state:t,rootState:s},a){const{isMutedNotifications:r}=t.items[a];let i;try{var n;if(i=r?await(0,I.cJ)(a):await(0,I.XC)(a),null!==(n=i)&&void 0!==n&&n.success){var o;e("setMuteNotifications",a);const t=s.users.items[a];if(null!=t&&null!==(o=t.listsStates)&&void 0!==o&&o.length){const s=undefined;e("users/setUserField",{userId:a,field:"listsStates",status:t.listsStates.map((e=>"muted"===e.type?{...e,hasUser:!e.hasUser}:e))},{root:!0})}}}catch(d){(0,k.Po)(d)}return i},async fetchChatsUsersMedia({commit:e,state:t},{lastId:s=t.galleryListNextLastId,signal:a,...r}={}){try{const t=await(0,I.yq)({lastId:s,signal:a,...r});if(t){if(Array.isArray(t.list)&&t.list.length){const a=(0,P.Fv)(t.list,b.VR);e("set",a,{root:!0}),e(s?"addChatUserMedia":"setChatUserMedia",a.result)}return e("setGalleryNextLastId",t.nextLastId),!(null==t||!t.hasMore)}}catch(i){}return!1},async fetchQueueBuyersList({commit:e,rootGetters:t,dispatch:s,state:a},{more:r=!1,...i}){e("setQueueBuyersError",!1);try{r||(e("setQueueBuyersMarker"),e("setQueueBuyersIds"));const n=t["users/needSkipUsersOnShort"]?"all":void 0,o=await(0,I.j2)({skipUsers:n,marker:a.queueBuyersMarker,...i});if(Array.isArray(null==o?void 0:o.list)&&(o.marker&&e("setQueueBuyersMarker",o.marker),o.list.length)){const t=(0,P.Fv)(o.list,b.Xd);n&&await s("users/getUsersIfNeeded",t,{root:!0}),e("set",t,{root:!0}),e("setQueueBuyersIds",{more:r,ids:t.result})}return o}catch(n){e("setQueueBuyersError",!0)}return!1},newMessageFromSocket({commit:e},t){const{bottom:s}=M.messagesHasMore[t.id]||{};s||e("setChatMessages",t)},async togglePinMessage({commit:e,state:t,dispatch:s},{messageId:a,withUserId:r}){try{e("setLoading",!0);const i=t.messages[a],n=!(!i||!i.isPinned),o=i&&i.chatId;let d;if(d=n?await(0,I.lg)(a,r):await(0,I.rY)(a,r),d&&d.success){e("setMessageIsPinned",{messageId:a,value:!n}),e("setChatMessagesPinnedCount",{chatId:o,value:!n});const r=o&&t.items[o];if(r){const{countPinnedMessages:e}=r;(!n&&1===e||n&&0===e)&&s("users/updateChatPinnedCount",{status:n?-1:1},{root:!0})}}}catch(i){(0,k.Po)(i)}e("setLoading",!1)},async unpinAllChatMessages({commit:e,dispatch:t},{withUserId:s}){try{e("setLoading",!0);const a=await(0,I.dU)(s);null!=a&&a.success&&(e("setChatUnpinned",{withUserId:s}),e("setChatMessagesUnpinned",{withUserId:s}),e("setEmptyMessagesList",!0),t("users/updateChatPinnedCount",{status:-1},{root:!0}))}catch(a){(0,k.Po)(a)}e("setLoading",!1)},async hideMessage({commit:e,dispatch:t,state:s},a){try{const r=await(0,I.SR)(a);if(null!=r&&r.success){const r=s.messages[a],i=!(!r||!r.isPinned),n=r&&r.chatId,o=n&&s.items[n];n&&i&&e("setChatMessagesPinnedCount",{chatId:n,value:!1}),o&&0===o.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0}),e("deleteMessageById",a),o&&"PinnedMessages"===w.default.$route.name&&e("setEmptyMessagesList",!0)}return r}catch(r){(0,k.Po)(r)}return!1},async fetchMessageToPost({commit:e,dispatch:t},{limit:s,userId:a,groupId:r}={}){let i;e("posts/setError",!1,{root:!0}),e("posts/setLoading",!0,{root:!0});try{if(a){const{list:e}=await(0,I.DP)(a,{groupId:r,limit:s});if(e.length){const[t]=e;i={...t,chatId:a,messageId:t.id}}}else i=await(0,I.AT)(r);i.isDeleted=!0}catch(o){return e("posts/setLoading",!1,{root:!0}),e("posts/setError",!0,{root:!0}),[]}if(!i||"object"!=typeof i)return(0,k.oj)({error:new Error("typeof response is incorrect"),extra:{post:i}}),[];r&&(i.id=i.queueId),e("posts/setActivePost",+i.id,{root:!0});const n=(0,P.Fv)(i,b.Rj);return await t("users/getUsersIfNeeded",n,{root:!0}),t("posts/setPost",i,{root:!0}),e("posts/setLoading",!1,{root:!0}),i}}},494566:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return i},state:function(){return r}});const a=()=>({search:{isShown:!1},searchList:{isShown:!1}}),r={search:{isShown:!1},searchList:{isShown:!1}},i={toggleSearch(e,t){e.search.isShown=t},toggleSearchList(e,t){e.searchList.isShown=t},logout(e){Object.assign(e,{search:{isShown:!1},searchList:{isShown:!1}})}}},206060:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});var a=s(333948),r=s.n(a),i=s(21703),n=s.n(i),o=s(782677),d=s(243168),c=s(849344),l=s(329732),u=s(172462);const m=()=>({items:{},itemsIds:{},loading:!1}),h={items:{},itemsIds:{},loading:!1},f={getComment:e=>t=>e.items[t],getCommentsByPostId:e=>t=>e.itemsIds[t]?e.itemsIds[t].map((t=>e.items[t])):[]},p={setLoading(e,t){e.loading=t},toggleCommentLike(e,{id:t,isLiked:s,likesCount:a,byAuthor:r}){e.items[t].isLiked=s,e.items[t].likesCount=a,r&&(e.items[t].isLikedByAuthor=s)},deleteComment(e,t){const s={...e.items};delete s[t],e.items=s},logout(e){Object.assign(e,{items:{},itemsIds:{},loading:!1})}},g={async fetchPostComments({commit:e,state:t,dispatch:s},{id:a,limit:r,offset:i=0,more:n=!1}){e("setLoading",!0);let l=[];try{const m=await(0,c.w8)({id:a,limit:r,offset:i});if(m&&Array.isArray(m)){if(m.length){const r=(0,o.Fv)(m,d.Nq);await s("users/getUsersIfNeeded",r,{root:!0}),e("set",r,{root:!0}),l=r.result,e("set",{entities:{commentIds:{[a]:n?[...new Set([...t.itemsIds[a]||[],...l])].sort(((e,t)=>t-e)):l}}},{root:!0})}}else(0,u.oj)({error:new Error("typeof response is incorrect"),extra:{response:m}})}catch(m){}return e("setLoading",!1),l},async sendComment({commit:e,state:t},{id:s,...a}){const r=await(0,c.Cs)({id:s,...a});if(null!=r&&r.id){const a=(0,o.Fv)(r,d.kN);e("set",a,{root:!0});const i=undefined;e("set",{entities:{commentIds:{[s]:[a.result,...t.itemsIds[s]||[]]}}},{root:!0}),e("posts/incrementPostCommentsCount",s,{root:!0})}return r},async likeComment({commit:e},{id:t,like:s,byAuthor:a}){try{const r=s?await(0,l.ar)(t):await(0,l.vO)(t);if(null!=r&&r.success){const{isLiked:s,likesCount:i}=r;e("toggleCommentLike",{id:t,isLiked:s,likesCount:i,byAuthor:a})}}catch(r){}},async deleteComment({commit:e,state:t},{postId:s,commentId:a}){try{const r=await(0,l.Ru)(a);null!=r&&r.success&&(e("posts/decrementPostComment",s,{root:!0}),e("set",{entities:{commentIds:{[s]:[...t.itemsIds[s]||[]].filter((e=>e!==a))}}},{root:!0}),e("deleteComment",a))}catch(r){}}}},474878:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},mutations:function(){return f},state:function(){return h}});var a=s(333948),r=s.n(a),i=s(727484),n=s.n(i),o=s(201646),d=s.n(o),c=s(218684),l=s(990733),u=s(927598);n().extend(d());const m=()=>({allTransactions:[],latestTransactions:[],marker:void 0,timePeriod:{startDate:n()(),endDate:n()(),type:"all"},isHasTransactions:!1,isHasTransactionsLoading:!1,startDateModel:null}),h=m(),f={setAllTransactions(e,{items:t=[],more:s=!1}={}){e.allTransactions=(0,u.Z)(s?[...e.allTransactions,...t]:[...t])},setLatestTransactions(e,t=[]){e.latestTransactions=t},setMarker(e,t){e.marker=t},setTimePeriod(e,{startDate:t,endDate:s,type:a="custom"}){let r=t,i=s||n()();const{startDateModel:o}=e;o&&(r=t.isAfter(o)?t:o,i=o.isBefore(i)?i:n()()),e.timePeriod={startDate:r,endDate:i,startDateFormatted:r.format(),endDateFormatted:i.format(),type:a}},setStartDateModel(e,t){e.startDateModel=n()(t)},setIsHasTransactions(e,t){e.isHasTransactions=t},setIsHasTransactionsLoading(e,t){e.isHasTransactionsLoading=t},logout(e){Object.assign(e,m())}},p={async fetchIsHasTransactions({commit:e}){e("setIsHasTransactionsLoading",!0);try{const{hasTransactions:t}=await(0,c.j1)();e("setIsHasTransactions",t)}catch(t){}e("setIsHasTransactionsLoading",!1)},async fetchAllTransactions({commit:e,state:t},{limit:s=l.P9,more:a=!1,type:r="all",dateFrom:i=t.timePeriod.startDateFormatted,dateTo:n=t.timePeriod.endDateFormatted}={}){a||(e("setAllTransactions"),e("setMarker"));try{const{list:o,nextMarker:d,hasMore:l}=await(0,c._v)({limit:s,type:r,dateFrom:i,dateTo:n,marker:t.marker});if(Array.isArray(o))return o.length&&e("setAllTransactions",{items:o,more:a}),e("setMarker",d),l}catch(o){}},async fetchLatestTransactions({commit:e},{limit:t=5,type:s="all"}={}){try{const{list:a}=await(0,c._v)({limit:t,type:s});Array.isArray(a)&&a.length&&e("setLatestTransactions",a)}catch(a){}}}},928658:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return i},state:function(){return r}});const a=()=>({currentPlayVideo:null}),r={currentPlayVideo:null},i={setCurrentPlayVideo(e,t){e.currentPlayVideo=t},resetCurrentPlayVideo(e){e.currentPlayVideo=null},logout(e){Object.assign(e,{currentPlayVideo:null})}}},849156:function(e,t,s){"use strict";s.r(t),s.d(t,{getters:function(){return u},mutations:function(){return m},state:function(){return l}});var a=s(150361),r=s.n(a),i=s(227361),n=s.n(i),o=s(720144),d=s(914786);const c=()=>({chatDraft:{},postDraft:{}}),l={chatDraft:{},postDraft:{}},u={draftMessageById:e=>t=>{const s=JSON.parse(d.Z.getItem("draft")||"{}"),a=n()(s,`draft.chatDraft.${t}`,null);return e.chatDraft[t]&&a?e.chatDraft[t]:null},userPostDraft:(e,t,s,a)=>n()(e.postDraft,a["auth/authUserId"],{})},m={setChatDraft(e,t){o.default.set(e.chatDraft,String(t.chatId),t)},removeChatDraft(e,t){o.default.delete(e.chatDraft,t)},setPostDraft(e,{draft:t,userId:s}){const a=r()(e.postDraft);a[s]=t,e.postDraft=a},removePostDraft(e,t){o.default.delete(e.postDraft,t)},logout(e){Object.assign(e,{chatDraft:{},postDraft:{}})}}},979155:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return i},state:function(){return r}});const a=()=>({hasError:!1}),r={hasError:!1},i={setErrorCondition(e,t){e.hasError=t},logout(e){Object.assign(e,{hasError:!1})}}},903479:function(e,t,s){"use strict";s.r(t),s.d(t,{getters:function(){return o},mutations:function(){return d},state:function(){return n}});var a=s(333948),r=s.n(a);const i=()=>({items:[]}),n={items:[]},o={isHintHiddenById:e=>t=>e.items.includes(t)},d={setHiddenHint(e,t){e.items=[...new Set([...e.items,t])]},logout(e){Object.assign(e,{items:[]})}}},229551:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return y},getters:function(){return p},mutations:function(){return g},state:function(){return f}});var a=s(944908),r=s.n(a),i=s(365069),n=s.n(i),o=s(333948),d=s.n(o),c=s(782677),l=s(999023),u=s(243168),m=s(423593);const h=()=>({ids:[],items:[],offset:0,hasMore:!1}),f={ids:[],items:[],offset:0,hasMore:!1},p={userHintsList:(e,t,s)=>e.items.filter((({payload:e,text:t})=>{if(!t.length)return!1;if(null!=e&&e.user&&"subscription_expired"===(null==e?void 0:e.type)){const t=s.users.items[e.user]||{},{canAddSubscriber:a,subscribedBy:r}=t;return a&&!r}return!0})),dangerHints:(e,t,s,a)=>{const r=a["auth/authUser"],{needTagCount:i,isPerformer:n}=r,o=t.userHintsList.filter((({isPermanent:e})=>e));return i&&n&&o.push({isPermanent:!0,code:"tags_required",text:(0,m.t)("message.notification_message_tags_required",{CONTENT_COUNT:i})}),o},otherHints:(e,t)=>t.userHintsList.filter((({isPermanent:e})=>!e))},g={setUserHints(e,{ids:t,list:s,hasMore:a,offset:i}){const n=s.filter((({id:t})=>!e.ids.includes(t))).reverse();e.ids=r()([...e.ids,...t]),e.items=e.items.concat(n),e.hasMore=a,e.offset=i},resetUserHints(e){e.ids=[],e.items=[],e.offset=0,e.hasMore=!1},deleteUserHint(e,t){e.items=e.items.filter((({id:e})=>t!==e)),e.ids=e.ids.filter((e=>e!==t))},logout(e){Object.assign(e,{ids:[],items:[],offset:0,hasMore:!1})}},y={async fetchHints({commit:e,state:t}){const{offset:s}=t;let a;try{a=await(0,l.rv)({offset:s})}catch(n){}const{list:r=[],hasMore:i=!1}=a||{};if(Array.isArray(r)&&r.length){const{result:t,entities:{hint:n}}=(0,c.Fv)(r,u.OD),o=s+a.list.filter((({isPermanent:e})=>!e)).length;e("setUserHints",{ids:t,list:Object.values(n),hasMore:i,offset:o})}return a||{}},async removeHint({commit:e,state:t},s){try{const{isPersonal:a}=t.items[s]||{},r=a?l.PK:l.AP,i=await r(s);null!=i&&i.success&&e("deleteUserHint",s)}catch(a){Sentry.captureException(a)}}}},211988:function(e,t,s){"use strict";s.r(t);var a=s(968929),r=s.n(a),i=s(333948),n=s.n(i),o=s(115306),d=s.n(o);const c=s(501078),l={};c.keys().forEach((e=>{if("./index.js"===e)return;const t=r()(e.replace(/(\.\/|\.js)/g,""));l[t]={namespaced:!0,...c(e)}})),t.default=l},901371:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return y},getters:function(){return p},mutations:function(){return g},state:function(){return f}});var a=s(21703),r=s(990733);const i=()=>r.ZP.get(`${r.tW}/init`,{"axios-retry":{retries:1}}).then((e=>e.data)),n=()=>r.ZP.get(`${r.tW}/ip`).then((e=>e.data));var o=s(481274),d=s(834253),c=s.n(d),l=s(172462),u=s(315223),m=s(914786);const h=()=>({apiError:!1,canTranslate:!1,csrf:"",cardVerification:{minAmount:null,maxAmount:null},currentRev:null,currentDate:Date.now(),geoInfoCached:!1,geoInfo:{geo:{countryCode:null}},goBack:{initHistoryState:null,routeFrom:null},isAuth:null,isLoadRecaptcha:!1,isLoggedFromReferrer:!1,languages:{},neededReload:!1,settings:{},showBetaSwitcher:!1,showBeta2Switcher:!1,obsStreamingServer:null,usersLinksMaxLimit:0,reportAbuseOptions:{},mainRequestsLoaded:!1,cookiesAccepted:c().get("cookiesAccepted",{domain:".onlyfans.com"})||m.Z.getItem("cookiesAccepted"),showReturnAdmin:!1,isLoginFromAdmin:!1,isFraudRepayment:!1,fraudRepaymentData:{},isNeedIV:!1,loginIV:{},repaymentAgree:!1,geeTestCaptcha:!1,hCaptchaSiteKey:"",hCaptchaPassiveSiteKey:"",isRecaptchaMain:!0,recaptchaV3Public:"",recaptchaV2Public:"",recaptchaEPublic:"",recaptchaECPublic:"",socialMediaProviders:null,socialButtonsMaxLimit:0,uploaderInit:!1}),f=h(),p={getInit:e=>e,goBackState:e=>e.goBack,shouldSendStat:e=>!!e.isPostsViewsEnabled},g={setInit(e,t){Object.assign(e,{showBetaSwitcher:!1,showBeta2Switcher:!1,geeTestCaptcha:!1,hCaptchaSiteKey:"",hCaptchaPassiveSiteKey:"",showReturnAdmin:!1,isLoginFromAdmin:!1},t)},setInitAuth(e,t){e.isAuth=t},setNeededReload(e,t){e.neededReload=t},setCurrentRev(e,t){e.currentRev=t},setApiError(e,t){e.apiError=t},setGoBackRouteFrom(e,t){e.goBack.routeFrom=t},setGoBackInitHistoryState(e,t){e.goBack.initHistoryState=t},setGeoInfo(e,t){e.geoInfo=t},setGeoInfoCached(e,t){e.geoInfoCached=t},setCurrentDate(e,t){e.currentDate=t},setReportAbuseOptions(e,t){e.reportAbuseOptions=t},setIsLoadRecaptcha(e,t){e.isLoadRecaptcha=t},mainRequestsLoaded(e,t){e.mainRequestsLoaded=t},acceptCookies(e,t=!0){const s=t?"all":"essential";c().set("cookiesAccepted",s,{domain:".onlyfans.com",expires:"3Y"}),m.Z.setItem("cookiesAccepted",s),e.cookiesAccepted=s},setIsFraudRepayment(e,t){e.isFraudRepayment=t},setFraudRepaymentData(e,t){e.fraudRepaymentData=t},setRepaymentAgree(e,t){e.repaymentAgree=t},setIsNeedIV(e,t){e.isNeedIV=t},setlLoginRequiresIv(e,t={}){e.loginIV=t},setGeoUploadPreset(e,t){e.upload.geoUploadArgs.preset=t.upload.geoUploadArgs.preset},logout(e){const{languages:t,neededReload:s,currentRev:a,csrf:r,mainRequestsLoaded:i,cookiesAccepted:n,recaptchaV3Public:o,recaptchaV2Public:d,recaptchaEPublic:c,recaptchaECPublic:l,geeTestCaptcha:u,hCaptchaSiteKey:m,hCaptchaPassiveSiteKey:f}=e;Object.assign(e,h(),{isAuth:!1,languages:t,neededReload:s,currentRev:a,csrf:r,mainRequestsLoaded:i,cookiesAccepted:n,recaptchaV3Public:o,recaptchaV2Public:d,recaptchaEPublic:c,recaptchaECPublic:l,geeTestCaptcha:u,hCaptchaSiteKey:m,hCaptchaPassiveSiteKey:f})},setUploaderInit(e){e.uploaderInit=!0}},y={async fetchInit({commit:e}){try{const t=await i();t&&"object"==typeof t?(t.isLoggedFromReferrer=!!t.isLoggedFromReferrer,e("setInit",t),t.isAuth||e("init/mainRequestsLoaded",!0,{root:!0})):((0,l.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}}),(0,u.D)())}catch(t){}},async fetchGeoInfo({state:e,commit:t},s=!1){if(!e.geoInfoCached||s)try{const e=undefined;t("setGeoInfo",await n()),t("setGeoInfoCached",!0)}catch(a){t("setGeoInfoCached",!1)}},async fetchReportAbuseOptions({commit:e}){try{const t=await(0,o.Is)();t&&"object"==typeof t&&e("setReportAbuseOptions",t)}catch(t){}}}},732700:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return u},mutations:function(){return l},state:function(){return c}});var a=s(333948),r=s.n(a),i=s(782677),n=s(243168),o=s(999023);const d=()=>({itemIds:[],lastSavedUserId:null}),c={itemIds:[],lastSavedUserId:null},l={setItemIds(e,t=[]){e.itemIds=t},setLastUserId(e,t){e.lastSavedUserId=t},logout(e){Object.assign(e,{itemIds:[],lastSavedUserId:null})}},u={async fetchLastPosts({commit:e},{id:t}){e("setItemIds",[]);const s={id:t,limit:3,onlyCanView:1,pinned_sort:0,counters:0};try{var a,r;const d=await(0,o.C8)({...s,type:"photos"}),c=await(0,o.C8)({...s,type:"videos"}),l=[...null!==(a=null==d?void 0:d.list)&&void 0!==a?a:[],...null!==(r=null==c?void 0:c.list)&&void 0!==r?r:[]];if(Array.isArray(l)&&l.length){const s=(0,i.Fv)(l,n.eI),a=[...new Set(s.result)];e("set",s,{root:!0}),e("setItemIds",a),e("setLastUserId",t)}}catch(d){}}}},954075:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return O},getters:function(){return U},mutations:function(){return R},state:function(){return D}});var a=s(82569),r=s.n(a),i=s(170735),n=s.n(i),o=s(441609),d=s.n(o),c=s(227361),l=s.n(c),u=s(333948),m=s.n(u),h=s(141817),f=s.n(h),p=s(21703),g=s.n(p),y=s(115306),v=s.n(y),S=s(782677),P=s(243168),w=s(172462),b=s(285088),I=s.n(b),k=s(408481),C=s(999023),T=s(617875),L=s(53189),M=s(857775),$=s(872308),A=s(181528);const _=(e,t)=>{e.users={...e.users,[t.id]:{...e.users[t.id],...t}}},F=()=>({type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isOpened:!0,canJoin:!1,canEdit:!1,isShowTips:!1,tipsSumm:0,showCoStreamingRequest:!1,commentsCount:0,canComment:!1,likesCount:0,canLike:!1,canReport:!1,roomName:"",serverList:{}},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null,openseaInfo:{}},streamState:"beforeStart",videoPlaying:!1,tcpVideoOnPause:!1,volume:1,muted:!1,stretchVideo:!1,videoElementRenderKey:+new Date,tipGoal:{isShowTipGoal:!1,sum:0,progress:0,description:"",showTipGoalProgress:!1},showTapToPlay:!1,showUnmuteBtn:!1,videoLoaded:!1,streamLookApproved:void 0,endReason:"",sentryLog:{getApiUrlRequest:{},getApiUrlResponse:{},roomName:null,streamId:null,user:null,detailedSpeedResult:null},streamTypes:{},streamType:"",failoverStreamTypes:[]}),E=()=>({mode:"",maxStreams:2,streams:{},streamsOrder:[],joinedStreamUsername:null,primaryInstance:null,timer:"0:00",comments:{ids:[],items:{}},hasMoreComments:!1,loadedCommentsCount:0,likes:[],users:{},viewers:{ids:[],hasMore:!1,loading:!1},totalViewers:0,privateCommentUser:null,switchToDualStreaming:!1,primaryMovedToPartner:!1,UI:{showStreamDescription:!1,showStreamingActions:!1,showStreamingComments:!1,showJoinStreamBtn:!0,disabledJoinStreamBtn:!0,showCommentForm:!1,showEndScreen:!1,endReason:"",greetingVisible:!0,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingViewers:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,viewMode:"grid",commentInputFocused:!1,streamHasFatalError:!1,showStreamInformationModal:!1,showTipGoalModal:!1,showServerMaintenance:!1},serverMaintenanceAt:null,streamPushNotification:{isEnabled:!1}}),D={mode:"",maxStreams:2,streams:{},streamsOrder:[],joinedStreamUsername:null,primaryInstance:null,timer:"0:00",comments:{ids:[],items:{}},hasMoreComments:!1,loadedCommentsCount:0,likes:[],users:{},viewers:{ids:[],hasMore:!1,loading:!1},totalViewers:0,privateCommentUser:null,switchToDualStreaming:!1,primaryMovedToPartner:!1,UI:{showStreamDescription:!1,showStreamingActions:!1,showStreamingComments:!1,showJoinStreamBtn:!0,disabledJoinStreamBtn:!0,showCommentForm:!1,showEndScreen:!1,endReason:"",greetingVisible:!0,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingViewers:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,viewMode:"grid",commentInputFocused:!1,streamHasFatalError:!1,showStreamInformationModal:!1,showTipGoalModal:!1,showServerMaintenance:!1},serverMaintenanceAt:null,streamPushNotification:{isEnabled:!1}},U={primary:e=>e.streams[e.primaryInstance],partners:e=>Object.values(e.streams).filter((t=>t.user.id!=e.primaryInstance)),partner:(e,t)=>t.partners[0],partner2:(e,t)=>t.partners[1],partner3:(e,t)=>t.partners[2],canJoinCoStream:e=>Object.keys(e.streams).length<e.maxStreams,likesCount:e=>Object.values(e.streams).reduce(((e,t)=>e+t.stream.likesCount),0),commentsCount:e=>e.streams[e.primaryInstance].stream.commentsCount,streamDescription:(e,t)=>l()(t,"primary.stream.description")||"",rawStreamDescription:(e,t)=>l()(t,"primary.stream.rawDescription")||"",canComment:e=>!e.streamsOrder.map((t=>e.streams[t])).some((e=>!1===e.stream.canComment)),canLike:e=>!e.streamsOrder.map((t=>e.streams[t])).some((e=>!1===e.stream.canLike)),mustStartMuted:()=>b.isMobile||b.isSafari,isOwnStream:(e,t,s,a)=>l()(t,"primary.user.id")==a["auth/authUserId"],streamPushNotification:e=>e.streamPushNotification},R={setMode(e,t){e.mode=t},setPrimaryInstance(e,t){e.primaryInstance=t},setJoinedStreamUsername(e,t){e.joinedStreamUsername=t},setStream(e,{stream:t,instance:s}){s=s||e.primaryInstance,e.streams[s]||(L.default.$set(e.streams,s,F()),e.streamsOrder=[...e.streamsOrder,s]),e.streams[s]={...e.streams[s],...t}},setStreamStream(e,{stream:t,instance:s}){s=s||e.primaryInstance,e.streams[s]||(L.default.$set(e.streams,s,F()),e.streamsOrder=[...e.streamsOrder,s]),e.streams[s].stream={...e.streams[s].stream,...t}},setStreamUser(e,{user:t,instance:s}){s=s||e.primaryInstance,e.streams[s]||(L.default.$set(e.streams,s,F()),e.streamsOrder=[...e.streamsOrder,s]),e.streams[s].user={...e.streams[s].user,...t}},removeStream(e,t){e.streams[t]&&(e.streams[t]=null,delete e.streams[t],e.streams={...e.streams},e.streamsOrder=e.streamsOrder.filter((e=>e!=t)))},setStreamsOrder(e,t){e.streamsOrder=[...t]},updateStreamHelpers(e,t){e.users=Object.keys(e.users).map((s=>({...e.users[s],isStreamHelper:t.includes(+s)}))).reduce(((e,t)=>({...e,[t.id]:t})),{})},incrementCommentsCount(e,t){e.streams[e.primaryInstance].stream.commentsCount+=t},addComments(e,t){t.forEach((t=>{e.comments.items[t.comment_id]={id:t.comment_id,text:t.comment,userId:t.user.id,isPrivate:t.isPrivate},e.users[t.user.id]||_(e,t.user),e.comments.ids=[t.comment_id,...e.comments.ids]}))},addComment(e,t){_(e,t.user),e.comments.items={...e.comments.items,[t.id]:{id:t.id,text:t.text,userId:t.user.id,isPrivate:t.isPrivate,isServiceMessage:t.isServiceMessage}},e.comments.ids=[...e.comments.ids,t.id]},updateCommentUser(e,t){_(e,t)},removeComment(e,t){t&&(e.comments.ids=e.comments.ids.filter((e=>e!=t)),delete e.comments.items[t])},setHasMoreComments(e,t){e.hasMoreComments=t},setLoadedCommentsCount(e,t){e.loadedCommentsCount=t},addLike(e,t){e.streams[t.streamUserId]&&(t.id=e.likes.length,e.likes=[...e.likes,t],e.streams[t.streamUserId].stream.likesCount+=1)},removeLike(e,t){e.likes=e.likes.filter((e=>e.id!=t.id))},setTimer(e,t){e.timer=t},addViewer(e,t){_(e,t),e.viewers.ids=[...e.viewers.ids,t.id]},addViewers(e,t){const s=[];e.users={...e.users,...t.reduce(((e,t)=>(s.push(t.id),{...e,[t.id]:t})),{})},e.viewers.ids=[...e.viewers.ids,...s]},removeViewer(e,t){e.viewers.ids=e.viewers.ids.filter((e=>e!=t.id))},setViewers(e,t){e.viewers={...e.viewers,...t}},setLivePushNotifications(e,t){e.streamPushNotification={...e.streamPushNotification,...t}},clearViewers(e){e.viewers.ids=[],e.viewers.hasMore=!1},setTotalViewers(e,t){e.totalViewers=t||0},setStreamState(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].streamState=t)},setStreamDescription(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s].stream.description=t},setStreamVideoPlaying(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].videoPlaying=t)},setStreamTCPVideoPause(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].tcpVideoOnPause=t)},setStreamVolume(e,{volume:t,instance:s}){s=s||e.primaryInstance,e.streams[s].volume=t},setStreamMuted(e,{muted:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].muted=t)},setStreamStretchVideo(e,{stretchVideo:t,instance:s}){s=s||e.primaryInstance,e.streams[s].stretchVideo=t},setTipGoal(e,{data:t,instance:s}){s=s||e.primaryInstance,e.streams[s].tipGoal={...e.streams[s].tipGoal,...t}},setStreamShowTapToPlay(e,{show:t,instance:s}){s=s||e.primaryInstance,e.streams[s].showTapToPlay=t},setShowUnmuteBtn(e,{show:t,instance:s}){s=s||e.primaryInstance,e.streams[s].showUnmuteBtn=t},setPrivateCommentUser(e,t){e.privateCommentUser=t?{...t}:null},setStreamType(e,{type:t,instance:s}){e.streams[s].streamType=t},setStreamTypes(e,{list:t,instance:s}){e.streams[s].streamTypes=t.reduce(((e,t)=>{const s=t.toLowerCase();let a;switch(s){case"mux":a="HLS";break;case"muxllhls":a="LLHLS";break;case"agora":a="CloudBeta";break;case"agora_direct":a="CloudBeta direct";break;default:a=t.toUpperCase()}return{...e,[s]:a}}),{})},setFailoverStreamTypes(e,{types:t,instance:s}){e.streams[s].failoverStreamTypes=t},setUI(e,t){e.UI={...e.UI,...t}},setStreamUI(e,{UI:t,instance:s}){s=s||e.primaryInstance,e.streams[s].UI={...e.streams[s].UI,...t}},setSwitchToDualStreaming(e,t){e.switchToDualStreaming=t},setPrimaryMovedToPartner(e,t){e.primaryMovedToPartner=t},setDefaultState(e){Object.assign(e,{mode:"",maxStreams:2,streams:{},streamsOrder:[],joinedStreamUsername:null,primaryInstance:null,timer:"0:00",comments:{ids:[],items:{}},hasMoreComments:!1,loadedCommentsCount:0,likes:[],users:{},viewers:{ids:[],hasMore:!1,loading:!1},totalViewers:0,privateCommentUser:null,switchToDualStreaming:!1,primaryMovedToPartner:!1,UI:{showStreamDescription:!1,showStreamingActions:!1,showStreamingComments:!1,showJoinStreamBtn:!0,disabledJoinStreamBtn:!0,showCommentForm:!1,showEndScreen:!1,endReason:"",greetingVisible:!0,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingViewers:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,viewMode:"grid",commentInputFocused:!1,streamHasFatalError:!1,showStreamInformationModal:!1,showTipGoalModal:!1,showServerMaintenance:!1},serverMaintenanceAt:null,streamPushNotification:{isEnabled:!1}})},logout(e){Object.assign(e,{mode:"",maxStreams:2,streams:{},streamsOrder:[],joinedStreamUsername:null,primaryInstance:null,timer:"0:00",comments:{ids:[],items:{}},hasMoreComments:!1,loadedCommentsCount:0,likes:[],users:{},viewers:{ids:[],hasMore:!1,loading:!1},totalViewers:0,privateCommentUser:null,switchToDualStreaming:!1,primaryMovedToPartner:!1,UI:{showStreamDescription:!1,showStreamingActions:!1,showStreamingComments:!1,showJoinStreamBtn:!0,disabledJoinStreamBtn:!0,showCommentForm:!1,showEndScreen:!1,endReason:"",greetingVisible:!0,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingViewers:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,viewMode:"grid",commentInputFocused:!1,streamHasFatalError:!1,showStreamInformationModal:!1,showTipGoalModal:!1,showServerMaintenance:!1},serverMaintenanceAt:null,streamPushNotification:{isEnabled:!1}})},setStreamSentryLog(e,{key:t,value:s,instance:a}){t&&e.streams[a]&&(e.streams[a].sentryLog[t]=s)},setServerMaintenanceAt(e,t){e.serverMaintenanceAt=t}},O={async createViewModules({state:e,dispatch:t}){await Promise.all(Object.keys(e.streams).map((e=>t("createViewModule",e))))},async createViewModule({state:e},t){t=t||e.primaryInstance,await(0,M.k2)(t,e.streams[t].streamType)},destroy({state:e,commit:t}){e.switchToDualStreaming||(Object.keys(e.streams).forEach((e=>{(0,M.D5)({instance:e}),t("removeStream",e)})),delete window.viewModule),t("setDefaultState")},stopAll({getters:e}){e.partners.forEach((e=>{(0,M.Pe)(e.user.id)})),D.switchToDualStreaming||(0,M.Pe)(D.primaryInstance)},async getUserStreamDataAndInit({getters:e,dispatch:t,commit:s},a){s("setJoinedStreamUsername",a);const r=await(0,k.UD)(a,!0);if(!r||0==+r.id)throw Error("Stream not found");s("setJoinedStreamUsername",r.user.username),t("setStreamData",r),e.primary.stream.commentsCount&&s("setHasMoreComments",!0)},setUserStreamData({state:e,commit:t},s){const a=s.user.id,i={id:s.id,thumbUrl:s.thumbUrl,description:s.description,rawDescription:s.rawDescription,startedAt:s.startedAt,isOpened:s.isOpened,canJoin:s.canJoin,canEdit:s.canEdit,isShowTips:s.isShowTips,showCoStreamingRequest:s.showCoStreamingRequest,commentsCount:+s.commentsCount,canComment:s.canComment,likesCount:+s.likesCount,canLike:s.canLike,canReport:s.canReport,roomName:s.room};void 0!==s.tipsSumm&&(i.tipsSumm=+parseFloat(s.tipsSumm).toFixed(2)),void 0!==s.serverList&&(i.serverList=s.serverList),t("setStreamStream",{stream:i,instance:a});const n=undefined;t("set",(0,S.Fv)({...s.user},P.IK),{root:!0}),t("setStreamUser",{user:{id:s.user.id,name:(0,A.HZ)(s.user.name),username:s.user.username,displayName:s.user.displayName,isVerified:s.user.isVerified,tipsEnabled:s.user.tipsEnabled,subscribedBy:s.user.subscribedBy,canEarn:s.user.canEarn,isPerformer:s.user.isPerformer,avatar:s.user.avatar,avatarThumbs:s.user.avatarThumbs,openseaInfo:s.user.openseaInfo},instance:a});const o={isShowTipGoal:!!s.isShowTipsGoal,sum:+s.tipsGoalSum,progress:+s.tipsGoalProgress,description:s.tipsGoal};o.isShowTipGoal?e.streams[a].tipGoal.isShowTipGoal&&o.sum===e.streams[a].tipGoal.sum&&o.description===e.streams[a].tipGoal.description||(o.showTipGoalProgress=!0):o.showTipGoalProgress=!1,t("setTipGoal",{data:o,instance:a});let c=l()(s,"viewerAvailableStreamTypes",[]);!c.length&&d()(e.streams[a].streamTypes)&&((0,w.Ri)({error:"invalid available viewer streamTypes",tags:{streamingMode:"live"},extra:s}),c=[s.streamType||"webrtc"]),d()(e.streams[a].streamTypes)&&(t("setStreamTypes",{list:c,instance:a}),c.includes("llhls")&&(c=[...r()(c,"llhls"),"llhls"]),t("setFailoverStreamTypes",{types:c,instance:a})),e.streams[a].streamType||t("setStreamType",{type:c[0],instance:a})},setStreamData({state:e,getters:t,commit:s,dispatch:a},r={}){let i="";t.primary&&(i=t.primary.stream.rawDescription),a("setUserStreamData",r);const o=undefined;n()(e.streamsOrder,[r.user.id,...r.partners.map((e=>e.user.id))],Number).forEach((e=>{(0,M.D5)({instance:e}),s("removeStream",e)})),r.partners&&r.partners.length?(r.partners.forEach((e=>{a("setUserStreamData",e)})),r.primaryPartnerUserId?(r.primaryPartnerUserId=+r.primaryPartnerUserId,e.primaryInstance&&e.primaryInstance!=r.primaryPartnerUserId&&s("setPrimaryMovedToPartner",!0),s("setPrimaryInstance",r.primaryPartnerUserId)):s("setPrimaryInstance",r.user.id),s("setMode","dual-live")):(s("setPrimaryInstance",r.user.id),s("setMode","live")),t.primary.stream.rawDescription?i!==t.primary.stream.rawDescription&&s("setUI",{showStreamDescription:!0}):s("setUI",{showStreamDescription:!1})},async loadMoreComments({state:e,getters:t,commit:s}){const a=await(0,k.W7)(t.primary.stream.id,{id:e.comments.ids.length?e.comments.ids[0]:void 0,limit:20}),r=a.list;s("addComments",r),s("setLoadedCommentsCount",e.loadedCommentsCount+r.length),s("setHasMoreComments",a.hasMore)},addComment({commit:e},t){e("addComment",t),e("incrementCommentsCount",1)},addTipsComment({state:e,commit:t,rootGetters:s},a){const r=Object.values(e.streams).find((e=>e.user.id==a.stream_user_id));if(r){const e=(0,$.getStreamingTipsComment)({vm:L.default,authUser:s["auth/authUser"],fromUser:a.from_user,toUser:r.user,amount:a.amount_human,message:a.message});e&&t("addComment",{id:a.id,text:e,user:a.from_user})}},async addLike({commit:e},t){e("addLike",t)},switchToDualStreaming({state:e,getters:t,commit:s,dispatch:a}){s("setSwitchToDualStreaming",!0),a("streaming/doSwitchFromLive",{livePrimary:t.primary,partners:t.partners,comments:e.comments,users:e.users,UI:{showCommentForm:e.UI.showCommentForm,commentsViewMode:e.UI.commentsViewMode,showStreamDescription:e.UI.showStreamDescription},streamType:t.primary.streamType},{root:!0}),L.default.$router.replace({name:"Streaming",params:{switchFromLive:!0}})},toggleCommentsViewMode({state:e,commit:t}){const s=undefined;t("setUI",{commentsViewMode:"full"===e.UI.commentsViewMode?"compact":"full"})},setTipGoal({commit:e},{data:t,instance:s}){e("setTipGoal",{data:t,instance:s})},updateLiveUser({state:e,commit:t},s){const a=Object.keys(e.streams).find((e=>e==s.id));a&&t("setStreamUser",{user:{tipsEnabled:s.tipsEnabled,subscribedBy:s.subscribedBy},instance:a})},joinUser({commit:e,getters:t},s){var a,r;if(e("addViewer",s),null!=t&&null!==(a=t.primary)&&void 0!==a&&null!==(r=a.stream)&&void 0!==r&&r.canEdit){const t={id:`${s.id}_${(new Date).getTime()}`,user:s,text:L.default.$t("message.has_joined_stream_comment"),isServiceMessage:!0};e("addComment",t),setTimeout((()=>{e("removeComment",t.id)}),6e4)}},leaveUser({commit:e},t){e("removeViewer",t)},showStreamingViewersModal({commit:e}){e("setUI",{showStreamingViewers:!0})},setAllShowTipGoalProgress({state:e,commit:t},s){e.streamsOrder.forEach((e=>{t("setTipGoal",{data:{showTipGoalProgress:s},instance:e})}))},async updateStreamInformation({state:e,getters:t,commit:s},a){const r=await(0,k.jI)({streamId:t.primary.stream.id,data:a});s("setStreamStream",{stream:{description:r.description,rawDescription:r.rawDescription,isShowTips:r.isShowTips},instance:e.primaryInstance})},async fetchStreamViewers({state:e,getters:t,commit:s},{more:a=!1}){try{a||s("clearViewers");const r=e.viewers.ids.length;s("setViewers",{loading:!0});const i=await(0,k.ip)({streamId:t.primary.stream.id,offset:r});l()(i,"list.length",0)&&(s("addViewers",i.list),s("setViewers",{hasMore:i.hasMore}))}catch(r){}finally{s("setViewers",{loading:!1})}},async fetchLiveWebPushNotifications({commit:e}){try{const t=undefined;(await(0,T.Xg)("webpush")).forEach((t=>{if("subscriptions"===t.code){const s=t.items.find((e=>"new_stream"===e.code));s&&e("setLivePushNotifications",s)}}))}catch(t){}},async saveLiveWebPushNotifications(e,t){try{await(0,C.qB)({notifications:{webpush:t}})}catch(s){}}}},478831:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return v},getters:function(){return g},mutations:function(){return y},state:function(){return p}});var a=s(682492),r=s.n(a),i=s(333948),n=s.n(i),o=s(21703),d=s.n(o),c=s(243168),l=s(782677),u=s(410697),m=s(990733),h=s(172462);const f=()=>({ids:[],items:{}}),p={ids:[],items:{}},g={messages:e=>e.ids.map((t=>e.items[t])).filter((e=>!!e))},y={setMessages(e,{messages:t=[],more:s=!1}={}){e.ids=s?[...new Set([...e.ids,...t])]:[...t]},setMessage(e,t={}){if(t&&t.id){const s=(0,l.Fv)(t,c.V4);e.items=r()({},e.items,s.entities.massMessagesStat)}},logout(e){Object.assign(e,{ids:[],items:{}})}},v={async fetchMessagesStat({commit:e},t={}){const{cancelToken:s,Cancel:a}=(0,m.Yz)("fetchMessagesStat");try{const a=await(0,u.Jn)(t,s);if("object"==typeof a){if(Array.isArray(a.list)){const s=(0,l.Fv)(a.list,c.P$);e("set",s,{root:!0}),e("setMessages",{messages:s.result,more:!!t.offset})}return a.hasMore}return void(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}})}catch(r){if(!(r instanceof a))return}return!1}}},796053:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return I},getters:function(){return w},mutations:function(){return b},state:function(){return P}});var a=s(333948),r=s.n(a),i=s(21703),n=s.n(i),o=s(227361),d=s.n(o),c=s(698424),l=s(782677),u=s(243168),m=s(172462),h=s(990733),f=s(378945),p=s(53189),g=s(409602),y=s(299833);function v({filled:e,keepState:t}){return e?"setVaultListsFilledIds":t?"setVaultListsIdsKeepState":"setVaultListsIds"}const S=()=>({vault:{},allMedia:{},items:[],selectedMedias:[],isLoadingMedia:!1,fieldVault:"default",sortVault:"asc",vaultFilter:"recent",vaultOrder:"desc",vaultDate:null,isLoadingMediaListsFilled:!1,hasMoreListMain:!0,hasMoreListMainFilled:!1,modalCustomVaultListId:"",customOrderEnabledVault:!1,vaultListLimit:10,offset:0,vaultListsIds:[],vaultListsModalIds:[],vaultListsFilledIds:[],vaultLists:{},selectIdList:[],mediaCounts:{hasPhoto:!1,hasGif:!1,hasVideo:!1},mediaPosts:[],needOpenVaultCategoriesModal:!1,searchCategory:{isShown:!1},vaultListOffset:0}),P={vault:{},allMedia:{},items:[],selectedMedias:[],isLoadingMedia:!1,fieldVault:"default",sortVault:"asc",vaultFilter:"recent",vaultOrder:"desc",vaultDate:null,isLoadingMediaListsFilled:!1,hasMoreListMain:!0,hasMoreListMainFilled:!1,modalCustomVaultListId:"",customOrderEnabledVault:!1,vaultListLimit:10,offset:0,vaultListsIds:[],vaultListsModalIds:[],vaultListsFilledIds:[],vaultLists:{},selectIdList:[],mediaCounts:{hasPhoto:!1,hasGif:!1,hasVideo:!1},mediaPosts:[],needOpenVaultCategoriesModal:!1,searchCategory:{isShown:!1},vaultListOffset:0},w={mediaItems:e=>e.items.reduce(((t,s)=>{const a=e.vault[s];return a&&!a.hidden&&t.push(a),t}),[]),hasItems:e=>!!e.items.length,getMediaId:e=>t=>e.vault[t],getVaultListsByIds:e=>(0,f.w)(e.vaultListsIds,e.vaultLists),getModalVaultListsByIds:e=>(0,f.w)(e.vaultListsModalIds,e.vaultLists),getVaultListById:e=>t=>e.vaultLists[t]||{},getVaultListsFilledByIds:e=>(0,f.w)(e.vaultListsFilledIds,e.vaultLists),currentVaultList:e=>{const[t]=e.selectIdList;return t&&e.vaultLists[t]||{}},getCustomThumbIsRemoving:e=>e.customThumbIsRemoving},b={setLoadingMedia(e,t){e.isLoadingMedia=t},setCustomThumbIsRemoving(e,t){e.customThumbIsRemoving=t},setMediaPosts(e,t=[]){e.mediaPosts=t},setAll(e,t){Object.assign(t,{id:"all",name:p.default.$t("message.all_media"),type:"all"}),e.allMedia=t},addItems(e,t){const s=[],a=t.reduce(((e,t)=>(s.push(t.id),e[t.id]=t,e)),{});e.vault={...e.vault,...a},e.items=[...e.items,...s]},hideMediaVaultByIds(e,t=[]){const s={};t.forEach((t=>{const a=e.vault[t];a&&(a.hidden=!0,s[t]=a)})),e.vault={...e.vault,...s}},setSortVault(e,t){e.sortVault=t},setFieldVault(e,t){e.fieldVault=t},setLoadingMediaListsFilled(e,t){e.isLoadingMediaListsFilled=t},setNewList(e,t){const s=t.id;s&&(e.vaultListsIds=[s,...e.vaultListsIds],e.vaultListsModalIds=[s,...e.vaultListsModalIds],e.vaultLists={...e.vaultLists,[s]:t})},deleteVaultList(e,t){e.vaultListsIds=e.vaultListsIds.filter((e=>e!==t)),e.vaultListsFilledIds=e.vaultListsFilledIds.filter((e=>e!==t)),delete e.vaultLists[t]},setModalCustomVaultListId(e,t){e.modalCustomVaultListId=t},setUpdateVaultListName(e,{id:t,name:s}){e.vaultLists[t]&&(e.vaultLists[t].name=s)},updateVaultMediaListStates(e,t){const{mediaIds:s=[],listId:a,hasMedia:r}=t,i=s.reduce(((t,s)=>{const i=e.vault[s];if(i){const e=i.listStates.findIndex((e=>+e.id===a));-1===e?i.listStates.push({hasMedia:r,id:a}):i.listStates[e].hasMedia=r,t[s]=i}return t}),{});e.vault={...e.vault,...i}},setCustomOrderEnabledVault(e,t){e.customOrderEnabledVault=t},setNeedOpenVaultCategoriesModal(e,t){e.needOpenVaultCategoriesModal=t},setHasMoreListMain(e,t){e.hasMoreListMain=t},setHasMoreListMainFilled(e,t){e.hasMoreListMainFilled=t},setVaultFilter(e,t){e.vaultFilter=t},setVaultDate(e,t){e.vaultDate=t},setVaultOrder(e,t){e.vaultOrder=t},resetVaultFilters(e){e.vaultFilter="recent",e.vaultOrder="desc",e.vaultDate=null},toggleMediaVisibility(e,{mediaIds:t,hidden:s}){const a=t.reduce(((t,a)=>{const r=e.vault[a];return r&&(r.hidden=s,t[a]=r),t}),{});e.vault={...e.vault,...a}},toggleSearchCategory(e,t){e.searchCategory.isShown=t},updateVaultListMain(e,{list:t}={}){t&&t.id&&(e.vaultLists[t.id]=t)},setVaultListsIds(e,{ids:t=[],more:s=!1}={}){e.vaultListsIds=s?[...new Set([...e.vaultListsIds,...t])]:t},setVaultListsIdsKeepState(e,{ids:t=[],more:s=!1}={}){e.vaultListsIds=s?[...new Set([...e.vaultListsIds,...t])]:t.length?t:e.vaultListsIds},setVaultListsModalIds(e,{ids:t=[],more:s=!1}={}){e.vaultListsModalIds=s?[...new Set([...e.vaultListsModalIds,...t])]:t},setVaultListsFilledIds(e,{ids:t=[],more:s=!1}={}){e.vaultListsFilledIds=s?[...new Set([...e.vaultListsFilledIds,...t])]:t},setVaultLists(e,t){e.vaultLists=t},setMediaCounts(e,t){e.mediaCounts=t},setSelectIdList(e,t){e.selectIdList=t},setSelectedMedias(e,t=[]){t.length?e.selectedMedias=[...new Set([...e.selectedMedias,...t])]:e.selectedMedias=t},setUnSelectMedia(e,t){e.selectedMedias=e.selectedMedias.filter((e=>e.id!==t))},resetItems(e){e.items=[]},resetPosts(){P.vault={},P.items=[]},setOffset(e,t=0){e.offset=t},setVaultListOffset(e,t=0){e.vaultListOffset=t},logout(e){Object.assign(e,{vault:{},allMedia:{},items:[],selectedMedias:[],isLoadingMedia:!1,fieldVault:"default",sortVault:"asc",vaultFilter:"recent",vaultOrder:"desc",vaultDate:null,isLoadingMediaListsFilled:!1,hasMoreListMain:!0,hasMoreListMainFilled:!1,modalCustomVaultListId:"",customOrderEnabledVault:!1,vaultListLimit:10,offset:0,vaultListsIds:[],vaultListsModalIds:[],vaultListsFilledIds:[],vaultLists:{},selectIdList:[],mediaCounts:{hasPhoto:!1,hasGif:!1,hasVideo:!1},mediaPosts:[],needOpenVaultCategoriesModal:!1,searchCategory:{isShown:!1},vaultListOffset:0})}},I={async fetchMediaVaultByType({commit:e,state:t,dispatch:s},{limit:a=24,more:r=!1,...i}={}){e("setLoadingMedia",!0),r||(e("resetItems"),e("setOffset"));const{cancelToken:n,Cancel:o}=(0,h.Yz)("fetchMediaVaultByType");let l;try{l=await(0,c.l5)({limit:a,offset:t.offset,...i,cancelToken:n})}catch(p){return p instanceof o||e("setLoadingMedia",!1),{list:[],hasMore:!1}}const u=d()(l,"hasMore",!1);if(!l||"object"!=typeof l||!l.list.length)return e("setLoadingMedia",!1),{list:[],hasMore:u};u&&e("setOffset",t.offset+a);const{list:m}=l;e("addItems",m),e("setLoadingMedia",!1);const f=(0,g.gV)(m);return f.length&&s("releaseForms/setReleaseFormsWithNormalize",f,{root:!0}),l},async fetchMediaPosts({commit:e,state:t},{offset:s,...a}={}){try{const{cancelToken:r}=(0,h.Yz)("fetchMediaPosts"),i=await(0,c.bU)({offset:s,...a,format:"infinite",sort:"desc",cancelToken:r});if("object"!=typeof i)throw new Error(`Incorrect data type. Expected 'object', received '${typeof i}' from server.`);return e("setMediaPosts",s?[...t.mediaPosts,...i.list]:i.list),i}catch(r){return e("setMediaPosts"),[]}},async hideMediaVaultByIds({commit:e},t){try{await(0,c.a9)({ids:t})}catch(s){}e("hideMediaVaultByIds",t)},async fetchVaultLists({commit:e},t){const s={...t,limit:t.limit||P.vaultListLimit},{offset:a,filled:r,keepState:i}=s;r&&e("setLoadingMediaListsFilled",!0);try{const t=v({filled:r,keepState:i});a||e(t);const n=await(0,c.iX)(s);if(n){const{all:s={},list:o=[],hasMore:d=!1}=n,c=(0,l.Fv)(o,u.Zi);i&&e("setVaultLists",c.entities.vaultLists),e("set",c,{root:!0}),e("setAll",s),e(t,{ids:c.result,more:!!a});const m=undefined;return e(r?"setHasMoreListMainFilled":"setHasMoreListMain",d),r&&e("setLoadingMediaListsFilled",!1),i||e("setVaultListOffset",P.vaultListOffset+P.vaultListLimit),d}}catch(n){return void(r&&e("setLoadingMediaListsFilled",!0))}return r&&e("setLoadingMediaListsFilled",!0),!1},async fetchModalVaultLists({commit:e},t){const s={...t,limit:P.vaultListLimit};try{const t=await(0,c.iX)(s);if(t){const{all:s={},list:a=[],hasMore:r=!1}=t,i=(0,l.Fv)(a,u.Zi);return e("setVaultListsModalIds",{ids:i.result,more:!0}),i.result=[],e("set",i,{root:!0}),e("setAll",s),r}}catch(a){return}return!1},async fetchVaultList({commit:e},t){try{const s=await(0,c.D2)(t);if(null!=s&&s.id){const t=undefined;e("set",(0,l.Fv)(s,u.zr),{root:!0})}}catch(s){}},async addVaultList({commit:e},t){try{const s=await(0,c.Y_)(t);if(s)return e("setNewList",s),s}catch(s){(0,m.Po)(s)}},async deleteVaultList({commit:e},{id:t,withMedia:s}){try{const a=await(0,c.Zw)(t,s);if(null!=a&&a.success)return e("deleteVaultList",t),!0}catch(a){(0,m.Po)(a)}return!1},async updateVaultList({commit:e},{id:t,name:s}){try{const a=await(0,c.PZ)({id:t,name:s});null!=a&&a.id&&e("setUpdateVaultListName",a)}catch(a){(0,m.Po)(a)}},async toggleSomeMediaInList({commit:e},t){const{mediaIds:s,listId:a,remove:r}=t;try{const i=r?await(0,c.cN)(s,a):await(0,c.Ku)(s,a);if(null!=i&&i.id)return e("updateVaultMediaListStates",{mediaIds:s,listId:a,hasMedia:!r}),e("updateVaultListMain",{list:i}),r||e("setVaultListsFilledIds",{ids:[a],more:!0}),!0;(0,m.oj)({error:new Error("Error: Add media to main list"),extra:{result:i,data:t}})}catch(i){(0,m.Po)(i)}return!1},async saveVaultListsOrder({commit:e,rootGetters:t},s){try{const a=await(0,c.iY)(s);if(null!=a&&a.success){const{sort:a,order:r}=s,i=t["auth/authUserId"];a&&(e("setFieldVault",a),e("users/setUserField",{userId:i,field:"vaultListsSort",status:a},{root:!0})),r&&(e("setSortVault",r),e("users/setUserField",{userId:i,field:"vaultListsSortOrder",status:r},{root:!0}))}}catch(a){(0,m.Po)(a)}},async fetchVaultMediaTypes({commit:e}){try{const t=await(0,c.L0)();t&&"object"==typeof t&&e("setMediaCounts",t)}catch(t){}},async fetchVaultMediaItem({commit:e},t){try{const s=await(0,c.cT)(t);if(null!=s&&s.id)return e("addItems",[s]),!0}catch(s){}return!1},async attachReleaseFormsToVaultMedia(e,{mediaId:t,releaseForms:s}){try{const e=await(0,c.U_)(t,(0,y.r)(s));if(e)return e}catch(a){(0,m.Po)(a)}}}},193263:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return n},state:function(){return i}});var a=s(720144);const r=()=>({dropdowns:{}}),i={dropdowns:{}},n={addDropdown(e,t){t&&a.default.set(e.dropdowns,t.uid,t)},hideAllDropdowns(e){Object.values(e.dropdowns).forEach((e=>{null==e||e.hide()}))},removeDropdown(e,t){t&&a.default.delete(e.dropdowns,t.uid)},logout(e){Object.assign(e,{dropdowns:{}})}}},172441:function(e,t,s){"use strict";s.r(t),s.d(t,{getters:function(){return i},mutations:function(){return o},state:function(){return r}});const a=()=>({sidebar:{isShow:!1},otpModal:{isShow:!1,title:"",strong:!1,app:!1,phone:!1,phoneLast4:"",face:!1},reportId:null,reportType:"",alert:{title:"",text:"",html:!1,onclose:null,buttons:[],hideCloseBtn:!1,headerIcon:null},preloader:{isShow:!1},trustModal:{email:!1,phoneOtp:!1,appOtp:!1,faceOtp:!1},purchaseModal:{payCallback:null,amount:null,modalTitle:null,paymentType:null,toUser:null,isRetry:!1,preMessage:""},addCardModal:{addCardCallback:null},tipsModal:{tipInitAmount:"",tipInitText:"",tipSource:"",tipStreamId:null,tipIsPrivate:!1,tipCallback:null}}),r={sidebar:{isShow:!1},otpModal:{isShow:!1,title:"",strong:!1,app:!1,phone:!1,phoneLast4:"",face:!1},reportId:null,reportType:"",alert:{title:"",text:"",html:!1,onclose:null,buttons:[],hideCloseBtn:!1,headerIcon:null},preloader:{isShow:!1},trustModal:{email:!1,phoneOtp:!1,appOtp:!1,faceOtp:!1},purchaseModal:{payCallback:null,amount:null,modalTitle:null,paymentType:null,toUser:null,isRetry:!1,preMessage:""},addCardModal:{addCardCallback:null},tipsModal:{tipInitAmount:"",tipInitText:"",tipSource:"",tipStreamId:null,tipIsPrivate:!1,tipCallback:null}},i={isSidebarShow:e=>e.sidebar.isShow,isOtpModalShow:e=>e.otpModal.isShow,isPreloaderShow:e=>e.preloader.isShow},n=e=>{e?(document.documentElement.classList.add("m-sidebar-visible"),window.disableBodyScroll(!0)):(document.documentElement.classList.remove("m-sidebar-visible"),window.enableBodyScroll(!0))},o={sidebarShow(e,t){e.sidebar.isShow=t,n(t)},sidebarToggle(e){e.sidebar.isShow=!e.sidebar.isShow;const t=e.sidebar.isShow;n(t)},otpModalShow(e,t){e.otpModal.isShow=t,t?document.body.classList.add("m-prevent-scrolling","modal-open"):document.body.classList.remove("m-prevent-scrolling","modal-open")},setOtpModal(e,t={}){e.otpModal={...e.otpModal,...t}},setReportData(e,{type:t,id:s}){e.reportType=t,e.reportId=s},setAlert(e,{title:t,text:s,html:a=!1,onclose:r=null,buttons:i=[],hideCloseBtn:n=!1,headerIcon:o=null}){e.alert={title:t,text:s,html:a,onclose:r,buttons:i,hideCloseBtn:n,headerIcon:o}},preloaderShow(e,t){e.preloader.isShow=t},setTrustModal(e,t={}){t&&"object"==typeof t||(t={}),e.trustModal={email:!1,phoneOtp:!1,appOtp:!1,faceOtp:!1,...t}},setTipsModal(e,t={}){e.tipsModal={tipInitAmount:"",tipInitText:"",tipSource:"",tipStreamId:null,tipIsPrivate:!1,tipCallback:null,...t}},resetTipsModal(e){e.tipsModal={tipInitAmount:"",tipInitText:"",tipSource:"",tipStreamId:null,tipIsPrivate:!1,tipCallback:null}},setPurchaseModal(e,t={}){e.purchaseModal={payCallback:null,amount:null,modalTitle:null,paymentType:null,toUser:null,isRetry:!1,preMessage:"",...t}},resetPurchaseModal(e){e.purchaseModal={payCallback:null,amount:null,modalTitle:null,paymentType:null,toUser:null,isRetry:!1,preMessage:""}},setAddCardModal(e,t={}){e.addCardModal={addCardCallback:null,...t}},logout(e){Object.assign(e,{sidebar:{isShow:!1},otpModal:{isShow:!1,title:"",strong:!1,app:!1,phone:!1,phoneLast4:"",face:!1},reportId:null,reportType:"",alert:{title:"",text:"",html:!1,onclose:null,buttons:[],hideCloseBtn:!1,headerIcon:null},preloader:{isShow:!1},trustModal:{email:!1,phoneOtp:!1,appOtp:!1,faceOtp:!1},purchaseModal:{payCallback:null,amount:null,modalTitle:null,paymentType:null,toUser:null,isRetry:!1,preMessage:""},addCardModal:{addCardCallback:null},tipsModal:{tipInitAmount:"",tipInitText:"",tipSource:"",tipStreamId:null,tipIsPrivate:!1,tipCallback:null}})}}},544956:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return y},getters:function(){return p},mutations:function(){return g},state:function(){return f}});var a=s(333948),r=s.n(a),i=s(21703),n=s.n(i),o=s(782677),d=s(53189),c=s(201505),l=s(243168),u=s(172462),m=s(990733);const h=()=>({items:{},offers:[],modalOffer:null,offset:0}),f={items:{},offers:[],modalOffer:null,offset:0},p={getOffer:e=>t=>e.items[t]},g={setPromotionOffers(e,{itemIds:t=[],more:s=!1}={}){e.offers=s?[...new Set([...e.offers,...t])]:[...t]},clearUnclaimedOffers(e){e.offers=e.offers.filter((t=>e.items[t].finishedAt))},clearClaimedOffers(e){e.offers=e.offers.filter((t=>!e.items[t].finishedAt))},unsetOffer(e,t){e.offers=e.offers.filter((e=>e!==t))},setModalOffer(e,t){e.modalOffer=t},unshiftOffers(e,t=[]){e.offers=[...new Set([...t,...e.offers])]},setOffset(e,t=0){e.offset=t},logout(e){Object.assign(e,{items:{},offers:[],modalOffer:null,offset:0})}},y={async fetchPromotionOffers({commit:e,dispatch:t,state:s},{more:a=!1,...r}={}){const{cancelToken:i,Cancel:n}=(0,m.Yz)("fetchPromotionOffers");try{a||(e("setOffset"),e("setPromotionOffers"));const n=await(0,c.pc)({limit:m.P9,offset:s.offset,cancelToken:i,...r});if(n&&"object"==typeof n){const{users:r,offers:i}=n;if(r&&Object.keys(r).length){const s=(0,o.Fv)(r,l.Xd);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0})}if(i){if(i.length){const t=(0,o.Fv)(i,l.lR),r=t.result;e("set",t,{root:!0}),e("setPromotionOffers",{itemIds:r,more:a}),e("setOffset",s.offset+m.P9)}return{hasMore:!!i.length}}}(0,u.oj)({error:new Error("typeof response is incorrect"),extra:{response:n}})}catch(d){if(d instanceof n)return{isCanceled:!0}}return{isError:!0}},async deleteUnclaimedOffers({commit:e,rootGetters:t}){try{const s=await(0,c.aC)();if(null!=s&&s.success){e("clearUnclaimedOffers");const s=undefined;e("users/setUserField",{userId:t["auth/authUserId"],field:"unclaimedOffersCount",status:0},{root:!0})}}catch(s){(0,u.Po)(s)}},async deleteUnclaimedOffer({commit:e,rootGetters:t},{offerId:s,userId:a}){try{const r=await(0,c.DE)(s);if(null!=r&&r.success){e("unsetOffer",s);const r=t["users/getUser"](a);e("users/unsetUserOffer",{offerId:s,userId:a},{root:!0}),d.default.$root.$emit("show::toast",{text:d.default.$t("message.offer_cancelled",{NAME:r.displayName||r.name})})}}catch(r){(0,u.Po)(r)}},async deleteClaimedOffers({commit:e,rootGetters:t}){try{const s=await(0,c.uH)();if(null!=s&&s.success){e("clearClaimedOffers");const s=undefined;e("users/setUserField",{userId:t["auth/authUserId"],field:"claimedOffersCount",status:0},{root:!0})}}catch(s){(0,u.Po)(s)}},unshiftOffers({commit:e},t=[]){const s=(0,o.Fv)(t,l.lR);e("set",s,{root:!0}),e("unshiftOffers",s.result)}}},702817:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});var a=s(21703),r=s.n(a),i=s(333948),n=s.n(i),o=s(782677),d=s(218684),c=s(172462),l=s(34090),u=s(243168);const m=()=>({cards:{},cardIds:[],alternativeMethods:[]}),h={cards:{},cardIds:[],alternativeMethods:[]},f={cards:e=>e.cardIds.map((t=>e.cards[t])),getCard:e=>t=>e.cards[t]},p={setCardIds(e,t){e.cardIds=t},setCardDefault(e,t){Object.keys(e.cards).forEach((t=>{e.cards[t].isDefault=!1})),e.cards[t]&&(e.cards[t].isDefault=!0)},removeCard(e,t){e.cardIds=e.cardIds.filter((e=>e!==t));const s={...e.cards};delete s[t],e.cards=s},setAlternativeMethods(e,t){e.alternativeMethods=t},removeAlternativeMethods(e,t){e.alternativeMethods=e.alternativeMethods.filter((e=>+e.id!=+t))},updateCard(e,{id:t,card:s={}}){t&&e.cards[t]&&(e.cards[t]={...e.cards[t],...s})},logout(e){Object.assign(e,{cards:{},cardIds:[],alternativeMethods:[]})}},g={async fetchCards({commit:e}){try{const t=await(0,d.vm)();if(Array.isArray(t)){const s=(0,o.Fv)(t,u.xp);e("set",s,{root:!0});const a=undefined;e("setCardIds",s.result)}else(0,c.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch(t){}},async setDefaultCard({commit:e,dispatch:t},{id:s,update:a=!1}={}){try{const r=await(0,d.t$)(s);null!=r&&r.success&&(e("setCardDefault",s),a&&t("fetchCards"))}catch(r){(0,c.Po)(r)}},async deleteCard({commit:e,dispatch:t,rootGetters:s},{id:a,isDefault:r=!1}={}){try{const i=await(0,d.f1)(a);if(null!=i&&i.success){if(e("removeCard",a),r&&t("fetchCards"),void 0!==i.isPaymentCardConnected){const t=undefined;e("users/setUserField",{userId:s["auth/authUser"].id,field:"isPaymentCardConnected",status:i.isPaymentCardConnected},{root:!0})}if(void 0!==i.canAddCard){const t=undefined;e("users/setUserField",{userId:s["auth/authUser"].id,field:"canAddCard",status:i.canAddCard},{root:!0})}}}catch(i){(0,c.Po)(i)}},async fetchPaymentsAlternativeMethods({commit:e}){try{const t=undefined;e("setAlternativeMethods",await(0,d.uX)())}catch(t){(0,c.Po)(t)}},async editCard({commit:e,state:t},{id:s,payload:a}){const r=await(0,d.B8)(s,a);if(null!=r&&r.success){const r=undefined;e("updateCard",{id:s,card:{...t.cards[s],addressCountry:a.userinfo.country}})}},async fetchVendors({commit:e}){e("settings/setPaymentsLoaded","loading",{root:!0});let t=null;const a=2;try{t=await(0,d._P)(2)}catch(i){return e("settings/setPaymentsLoaded",!1,{root:!0}),!1}if("object"!=typeof t||!t.vendorUrls)return e("settings/setPaymentsLoaded",!1,{root:!0}),!1;const r=t.vendorUrls.map((({name:e,url:t})=>((0,l.c)(t),(0,l._)(t).then((()=>({status:"ok",name:e})),(()=>({status:"fail",name:e}))))));return await Promise.all(r).then((async a=>s.e(89113).then(s.t.bind(s,348582,23)).then((s=>{var r,i,n,o;s.init({securionKey:null===(r=t.params)||void 0===r||null===(i=r.securionpay)||void 0===i?void 0:i.publicKey,stripeKey:null===(n=t.params)||void 0===n||null===(o=n.stripe)||void 0===o?void 0:o.publicKey}),e("settings/setUnavailablePaymentGates",a,{root:!0}),e("settings/setPaymentsLoaded","complete",{root:!0})})).catch((()=>(e("settings/setPaymentsLoaded",!1,{root:!0}),!1))))),!0}}},260950:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return h},getters:function(){return u},mutations:function(){return m},state:function(){return l}});var a=s(333948),r=s.n(a),i=s(782677),n=s(243168),o=s(547732),d=s(172462);const c=()=>({items:{},helperAccess:[],helpersIds:[],permissions:{}}),l={items:{},helperAccess:[],helpersIds:[],permissions:{}},u={getHelper:e=>t=>e.items[t],helperAccess:e=>t=>e.helperAccess[t]},m={setHelpers(e,{itemIds:t=[],more:s=!1}={}){e.helpersIds=s?[...new Set([...e.helpersIds,...t])]:t},setPermissions(e,t){e.permissions=t},removeHelper(e,t){e.helpersIds=e.helpersIds.filter((e=>e!==t)),delete e.items[t]},logout(e){Object.assign(e,{items:{},helperAccess:[],helpersIds:[],permissions:{}})}},h={async getPerformerHelpers({commit:e},{more:t=!1}={}){try{t||e("setHelpers");const s=await(0,o.f9)();if(null!=s&&s.length){const a=(0,i.Fv)(s,n.iq);e("set",a,{root:!0}),e("setHelpers",{itemIds:a.result,more:t})}}catch(s){}},async getPerformerHelper({commit:e},t){try{const s=await(0,o.KZ)(t);if(null!=s&&s.isValid){const t=undefined;e("set",(0,i.Fv)(s,n.WH),{root:!0})}}catch(s){}},async getPerformerHelpersPermissions({commit:e}){try{const t=await(0,o.wq)();t&&e("setPermissions",t)}catch(t){}},async setPerformerHelper({commit:e},{userId:t,permissions:s=[]}){try{const a=await(0,o.HH)(t,s);if(null!=a&&a.isValid){const t=undefined;e("set",(0,i.Fv)(a,n.WH),{root:!0})}else e("removeHelper",t)}catch(a){(0,d.Po)(a)}}}},802333:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return o},state:function(){return n}});var a=s(333948),r=s.n(a);const i=()=>({show:!0,items:[],options:{},isOpen:!1}),n={show:!0,items:[],options:{},isOpen:!1},o={setOpen(e,t){t||(e.items=[],e.options={}),e.isOpen=t},setItems(e,t){e.items=[...t]},setOptions(e,t){const s={};t.mainClass||(s.mainClass=void 0),e.options={...t,...s}},logout(e){Object.assign(e,{show:!0,items:[],options:{},isOpen:!1})}}},886465:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return C},getters:function(){return I},mutations:function(){return k},state:function(){return b}});var a=s(333948),r=s(782677),i=s(243168),n=s(227361),o=s.n(n),d=s(990733);const c=({limit:e=d.P9,offset:t=0,ids:s=!1,query:a=""}={},r)=>d.ZP.get(`${d.tW}/labels${(0,d.XP)(s?{offset:t,ids:s,query:a}:{offset:t,limit:e,query:a})}`,{cancelToken:r}).then((e=>e.data)),l=({limit:e=d.P9,offset:t=0,userId:s}={},a)=>d.ZP.get(`${d.tW}/users/${s}/labels${(0,d.XP)({limit:e,offset:t,"non-empty":1})}`,{cancelToken:a}).then((e=>e.data)),u=e=>d.ZP.post(`${d.tW}/labels`,{name:e}).then((e=>e.data)),m=({id:e,name:t})=>d.ZP.patch(`${d.tW}/labels/${e}`,{name:t}).then((e=>e.data)),h=e=>d.ZP.get(`${d.tW}/labels/${e}`).then((e=>e.data)),f=e=>d.ZP.post(`${d.tW}/labels/sort`,e).then((e=>e.data)),p=e=>d.ZP.delete(`${d.tW}/labels/${e}/posts`).then((e=>e.data)),g=(e,t=[])=>d.ZP.post(`${d.tW}/labels/${e}/posts`,{posts:t}).then((e=>e.data)),y=e=>d.ZP.delete(`${d.tW}/labels/${e}`).then((e=>e.data)),v=(e,t)=>d.ZP.delete(`${d.tW}/labels/${e}/post/${t}`).then((e=>e.data));var S=s(172462),P=s(53189);const w=()=>({items:{},postLabelsIds:[],userLabelsIds:[],modalPostLabelId:null,customOrderEnabled:!1,loading:!1,addPostsMode:{isAddMode:!1,loading:!1,selectedPostsToAddToList:[]},postLabelsListDirection:"asc"}),b={items:{},postLabelsIds:[],userLabelsIds:[],modalPostLabelId:null,customOrderEnabled:!1,loading:!1,addPostsMode:{isAddMode:!1,loading:!1,selectedPostsToAddToList:[]},postLabelsListDirection:"asc"},I={getPostLabel:e=>t=>e.items[t],isAddPostsMode:e=>e.addPostsMode.isAddMode,isAddPostsModeLoading:e=>e.addPostsMode.loading,selectedPostsToAddToList:e=>e.addPostsMode.selectedPostsToAddToList},k={setIds(e,t=[]){e.postLabelsIds=t},addIds(e,t=[]){e.postLabelsIds=[...new Set([...e.postLabelsIds,...t])]},prependIds(e,t){e.postLabelsIds=[...new Set([...t,...e.postLabelsIds])]},appendIds(e,t){e.postLabelsIds=[...new Set([...e.postLabelsIds,...t])]},removeId(e,t){e.postLabelsIds=e.postLabelsIds.filter((e=>e!==t))},setUserLabelsIds(e,t=[]){e.userLabelsIds=t},addUserLabelsIds(e,t=[]){e.userLabelsIds=[...new Set([...e.userLabelsIds,...t])]},setModalPostLabelId(e,t=null){e.modalPostLabelId=t},setCustomOrderEnabled(e,t){e.customOrderEnabled=t},setIsAddPostsMode(e,t=!1){e.addPostsMode.isAddMode=t},setPostLabel(e,{labelId:t,label:s={}}){e.items[t]={...e.items[t]||{},...s}},decrementPostLabelsCounters(e,t=[]){t.forEach((t=>{e.items[t.id]&&e.items[t.id].postsCount&&(e.items[t.id].postsCount-=1)}))},incrementPostLabelsCounters(e,t=[]){t.forEach((t=>{e.items[t.id]&&(e.items[t.id].postsCount+=1)}))},setCustomPostsCount(e,{labelId:t,value:s}){e.items[t]&&"archived"!==e.items[t].type&&(e.items[t].postsCount=s)},setPostLabelArchivedCounters(e,{archivedPostsCount:t=0,privateArchivedPostsCount:s=0}){const a=Object.values(e.items),r=a.find((e=>"archived"===e.type));r&&(r.postsCount=t);const i=a.find((e=>"private_archived"===e.type));i&&(i.postsCount=s)},setLoading(e,t){e.loading=t},setHasMore(e,t){e.hasMore=t},setAddPostsModeLoading(e,t){e.addPostsMode.loading=t},setSelectedPostsToAddToList(e,t){e.addPostsMode.selectedPostsToAddToList=t},setPostLabelsListDirection(e,t){e.postLabelsListDirection=t},logout(e){Object.assign(e,{items:{},postLabelsIds:[],userLabelsIds:[],modalPostLabelId:null,customOrderEnabled:!1,loading:!1,addPostsMode:{isAddMode:!1,loading:!1,selectedPostsToAddToList:[]},postLabelsListDirection:"asc"})}},C={async fetchPostLabels({commit:e},{limit:t=d.P9,offset:s=0,needMore:a=!1,ids:n=!1,query:o}){try{s||a||e("setIds"),e("setLoading",!0);const d=await c({limit:t,offset:s,ids:n,query:o});if(e("setHasMore",!(null==d||!d.hasMore)),Array.isArray(null==d?void 0:d.list)&&d.list.length){const t=(0,r.Fv)(d.list,i.Xt);e("set",t,{root:!0}),e("addIds",t.result)}return!(null==d||!d.hasMore)}catch(l){return}finally{e("setLoading",!1)}},async fetchUserPostLabels({commit:e},{limit:t=d.P9,offset:s=0,userId:a}){try{s||e("setUserLabelsIds"),e("setLoading",!0);const n=await l({limit:t,offset:s,userId:a});if(Array.isArray(n.list)&&n.list.length){const t=(0,r.Fv)(n.list,i.Xt);e("set",t,{root:!0}),e("addUserLabelsIds",t.result)}return null==n?void 0:n.hasMore}catch(n){return}finally{e("setLoading",!1)}},async addPostLabel({state:e,commit:t},s){try{const a=await u(s);if(null!=a&&a.id){const s=(0,r.Fv)(a,i.ub);return t("set",s,{root:!0}),"asc"!==e.postLabelsListDirection||e.hasMore||t("appendIds",[+s.result]),"desc"===e.postLabelsListDirection&&t("prependIds",[+s.result]),a}}catch(a){(0,S.Po)(a)}return null},async updatePostLabel({commit:e,rootState:t},{id:s,name:a}){try{const o=await m({id:s,name:a});if(null!=o&&o.id){var n;const s=(0,r.Fv)(o,i.ub);e("set",s,{root:!0}),null!==(n=o.posts)&&void 0!==n&&n.length&&Object.keys(t.posts.items).forEach((s=>{if(t.posts.items[s].labelStates){let a=!1;const r=[];t.posts.items[s].labelStates.forEach(((e,t)=>{r[t]={...e},+e.id==+o.id&&(r[t].name=o.name,a=!0)})),a&&e("posts/setPostField",{postId:s,field:"labelStates",status:r},{root:!0})}}))}}catch(o){(0,S.Po)(o)}},async fetchPostLabel({commit:e},t){try{const s=await h(t);if(null!=s&&s.id){const t=undefined;e("set",(0,r.Fv)(s,i.ub),{root:!0})}}catch(s){}},async savePostLabelsOrder({commit:e,rootGetters:t},s){let{customOrder:a,sort:r,order:i}=s;"custom"===r&&(i="asc");try{const s=await f({customOrder:a,sort:r,order:i});if(null!=s&&s.success){a&&e("setIds",a);const s=t["auth/authUserId"];e("users/setUserField",{userId:s,field:"labelsSort",status:r},{root:!0}),e("users/setUserField",{userId:s,field:"labelsSortOrder",status:i},{root:!0})}}catch(n){(0,S.Po)(n)}},async deletePostLabel({commit:e},t){let s;try{const s=await y(t);null!=s&&s.success&&e("removeId",t)}catch(a){(0,S.Po)(a)}return s},async clearPostLabel({commit:e,getters:t},s){try{e("setLoading",!0);const a=await p(s);null!=a&&a.success&&(e("setPostLabel",{labelId:s,label:{postsCount:0,posts:[]}}),e("posts/setItemIds",[],{root:!0}),t.isAddPostsMode&&e("setIsAddPostsMode",!1))}catch(a){(0,S.Po)(a)}finally{e("setLoading",!1)}},async updateLabels({commit:e},t){const s=(0,r.Fv)(t,i.Xt);e("set",s,{root:!0}),e("addIds",s.result)},async togglePostInPostsLabels({commit:e,dispatch:t,rootGetters:s,state:a},{labelId:r,postId:i}){try{const n=P.default.$route.name;let d,c;"MyQueue"===n?(d=s["schedule/getSchedulePostById"](i)||{},c=d.labelStates):(d=s["posts/getPost"](i),c=d[0].labelStates);const l=c.find((e=>+e.id===r)),u=l?await v(r,i):await g(r,[i]);if(null!=u&&u.success){e("addUserLabelsIds",[r]);const s=o()(u,"label.type","custom");await t("fetchPostLabel",r);const d="MyQueue"===n?"schedule":"posts";l?e(`${d}/deletePostLabel`,{postId:i,labelId:r},{root:!0}):e(`${d}/addPostLabel`,{postId:i,label:a.items[r]},{root:!0});const m=(t,a)=>{if(s===t){const s=!l;e("users/changeUsersPostsCount",{decrement:!l},{root:!0});const r=c.filter((e=>e.type!==t));e("posts/setPostField",{postId:i,field:a,status:s},{root:!0}),e(s?"decrementPostLabelsCounters":"incrementPostLabelsCounters",r)}};m("archived","isArchived"),m("private_archived","isPrivateArchived"),["PostLabel","ProfileLabel"].includes(P.default.$route.name)&&l&&+P.default.$route.params.id==+r&&e("posts/deletePostId",i,{root:!0})}}catch(n){(0,S.Po)(n)}},async addPostsToLabel({commit:e},{labelId:t,postsIds:s=[]}){try{e("setAddPostsModeLoading",!0);const{label:a={},success:r=!1}=await g(t,s);return r&&(e("setPostLabel",{labelId:t,label:a}),e("posts/setItemIds",[],{root:!0})),Promise.resolve()}catch(a){(0,S.Po)(a)}finally{e("setAddPostsModeLoading",!1)}}}},557910:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return l},mutations:function(){return c},state:function(){return d}});var a=s(333948),r=s.n(a),i=s(849344);const n=3e4,o=()=>({collection:[],timer:void 0}),d={collection:[],timer:void 0},c={collect(e,t){e.collection=[...e.collection,t]},setTimer(e,t){e.timer=t},resetCollection(e){e.collection=[]},resetTimer(e){s.g.clearInterval(e.timer),e.timer=void 0},logout(e){Object.assign(e,{collection:[],timer:void 0})}},l={setTimer({commit:e},t){e("setTimer",t)},collect({commit:e},t){e("collect",t)},sendCollection({commit:e,state:t,rootGetters:s}){const a=s["init/shouldSendStat"],r=s["auth/authUserId"];t.collection.length&&(a&&r&&(0,i.aF)(t.collection).catch((()=>{})),e("resetCollection"))},startCollect({commit:e,state:t,dispatch:a}){if(t.timer)return;const r=undefined;e("setTimer",s.g.setInterval((()=>{a("sendCollection")}),n))},stopCollect({commit:e,dispatch:t}){t("sendCollection"),e("resetTimer")}}},274889:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return E},getters:function(){return _},mutations:function(){return F},state:function(){return A}});var a=s(333948),r=s.n(a),i=s(838862),n=s.n(i),o=s(21703),d=s.n(o),c=s(115306),l=s.n(c),u=s(365069),m=s.n(u),h=s(782677),f=s(53189),p=s(227361),g=s.n(p),y=s(849344),v=s(629857),S=s(999023),P=s(243168),w=s(861286),b=s(172462),I=s(990733),k=s(265823),C=s(914786),T=s(310569);const L=e=>e&&!+e?e:"feed",M=(e,t)=>{const s=+new Date;return e[t].map((t=>e.items[t])).filter((e=>{if(!e)return!1;if(e.expiredAt){const t=undefined;if(+new Date(e.expiredAt)<=s)return!1}return!0}))},$=()=>({items:{},itemIds:[],tempItemIds:{},feedItemIds:[],tempFeedItemIds:[],lastFeedItemIds:[],lastFeedType:null,lastProfileItemIds:{},hasPrevUserPostsToLoad:!1,currentPost:null,isPostsLoading:!1,error:!1,layout:C.Z.getItem("postsLayout")||"full",mediaLayout:C.Z.getItem("wallLayout")||"grid",collectionsLayout:C.Z.getItem("collectionsLayout")||"full",postPublishedCounter:0,hasNewOwnPostPublished:!1,offset:0,needScrollToComments:!1,disabledPinsOrder:!1,hasPrevPostsToLoad:!1,votersList:{},postsLogin:[],votersMarker:void 0,pinnedIds:[],hasMore:{},currentFullscreenPostId:null,feedSettings:{isHidePromoFeedPosts:!1,isHideFeedPostsProfileBanners:!1,...JSON.parse(C.Z.getItem("feedSettings")||"{}")},userGetPostsError:!1,hasFeedBottomPostLoadError:!1,isProfileDataFetching:!1,postsFiltersCounter:{},beforePublishTime:void 0,afterPublishTime:void 0,headMarker:void 0,tailMarker:void 0,tweetSend:0,tagsRequiredSort:"all",tagsRequiredSearchQuery:"",isToggleArchivePostLoading:!1,isTogglePinPostLoading:!1}),A=$(),_={posts:e=>e.itemIds.map((t=>e.items[t])),bookmarksPosts:(e,t)=>t.posts.filter((e=>null==e?void 0:e.isAddedToBookmarks)),postsPinned:e=>e.pinnedIds.map((t=>e.items[t])).filter((e=>e&&!e.isReportedByMe)),feedPosts:e=>e.feedItemIds.map((t=>e.items[t])),filterReportedPosts:e=>M(e,"itemIds").filter((e=>!e.isReportedByMe)),filterReportedFeedPosts:e=>M(e,"feedItemIds").filter((e=>!e.isReportedByMe)),filterFeedPosts(e,t,s,a){let r=t.filterReportedFeedPosts;const i=a["auth/authUserId"];e.feedSettings.isHidePromoFeedPosts&&(r=r.filter((e=>e.author===i||!(e.linkedPosts||[]).length&&!(e.linkedUsers||[]).length&&!e.hasUrl))),e.feedSettings.isHideFeedPostsProfileBanners&&(r=r.map((e=>e.author===i?e:{...e,linkedUsers:[]})));const{feedFiltersIds:n}=s.usersLists;return n.length&&(r=r.filter((e=>{var t;const s=a["users/getUser"](e.author);return null==s||null===(t=s.listsStates)||void 0===t||!t.length||s.listsStates.some((e=>e.hasUser&&n.map((({listId:e})=>e)).includes(e.id)))}))),r},getPost:e=>t=>e.items[t]?[{...e.items[t]}]:[],activePost:e=>[{...e.items[e.currentPost]}],getPostById:e=>t=>({...e.items[t]||{}}),hasActivePost:e=>!!e.currentPost,isGridLayout:e=>"grid"===e.layout,isMediaGridLayout:e=>"grid"===e.mediaLayout,isCollectionsGridLayout:e=>"grid"===e.collectionsLayout,postVoters:e=>(t,s)=>{const a=t||"",r=s||"";return e.votersList[`${r}_${a}`]||[]},getPostVoter:e=>t=>e.votersList[t],getLastProfileItemIds:e=>(t,s="post")=>{const a=[];return e.lastProfileItemIds[t]&&e.lastProfileItemIds[t].length&&e.lastProfileItemIds[t].forEach((e=>{s===e.postType&&a.push(e.id)})),a},getTempItemIds:e=>t=>e.tempItemIds[t]?e.tempItemIds[t]:{pinnedPostsIds:[],userPostItemIds:[]},getPostReleaseForms:(e,t,s)=>t=>{const a=g()(s,"releaseForms.items",{});return e.items[t]&&e.items[t].releaseForms?e.items[t].releaseForms.filter((e=>!!a[e])).map((e=>a[e])):[]},hasMore:e=>t=>!!e.hasMore[t]},F={saveFeedItemIds(e){e.tempFeedItemIds=e.feedItemIds,e.feedItemIds=[]},setLoading(e,t){e.isPostsLoading=t},setError(e,t){e.error=t},incrementPostCommentsCount(e,t){e.items[t]&&(e.items[t].commentsCount+=1)},decrementPostComment(e,t){e.items[t]&&e.items[t].commentsCount&&e.items[t].commentsCount>0&&(e.items[t].commentsCount-=1)},setItemIds(e,t=[]){e.itemIds=[...new Set([...t])]},addItemIds(e,t=[]){e.itemIds=[...new Set([...e.itemIds,...t])]},addNewItemIds(e,t=[]){e.itemIds=[...new Set([...t,...e.itemIds])]},setFeedItemIds(e,t=[]){e.feedItemIds=[...new Set([...t])]},setPinnedIds(e,t=[]){e.pinnedIds=t},resetFeedItemIds(e){e.feedItemIds=[],e.tempFeedItemIds=[]},addFeedItemIds(e,t=[]){e.feedItemIds=[...new Set([...e.feedItemIds,...t])]},addNewFeedItemIds(e,t=[]){e.feedItemIds=[...new Set([...t,...e.feedItemIds])]},setLastFeedItemIds(e,t=[]){e.lastFeedItemIds=t},setLastFeedType(e,t){e.lastFeedType=t},addLastFeedItemId(e,t=[]){e.lastFeedItemIds=[...new Set([...e.lastFeedItemIds,...t])]},setPrevUserPostsToLoad(e,t){e.hasPrevUserPostsToLoad=t},setLastProfileItemId(e,{username:t,arr:s}){t&&(e.lastProfileItemIds[t]=s)},addLastProfileItemId(e,{username:t,id:s,postType:a="post"}){t&&(void 0===e.lastProfileItemIds[t]&&(e.lastProfileItemIds[t]=[]),e.lastProfileItemIds[t].push({username:t,id:s,postType:a}))},setTempItemIds(e,{username:t,value:s}){t&&(e.tempItemIds[t]=s)},setActivePost(e,t){e.currentPost=t},clearActivePost(e){e.currentPost=null},togglePostFavorite(e,t){if(e.items[t]&&e.items[t].id){const{isFavorite:s}=e.items[t];e.items[t].isFavorite=!s,s?e.items[t].favoritesCount-=1:e.items[t].favoritesCount+=1}},togglePostBooleanProperty(e,{id:t,propName:s}){if(e.items[t]){const a=e.items[t][s];e.items[t][s]=!a}},toggleLayout(e){e.layout="grid"===e.layout?"full":"grid",C.Z.setItem("postsLayout",e.layout)},toggleMediaLayout(e){e.mediaLayout="grid"===e.mediaLayout?"full":"grid",C.Z.setItem("wallLayout",e.mediaLayout)},toggleCollectionsLayout(e){e.collectionsLayout="grid"===e.collectionsLayout?"full":"grid",C.Z.setItem("collectionsLayout",e.collectionsLayout)},deletePost(e,t){if(void 0!==e.items[t]){const s={...e.items};delete s[t];const a=e.itemIds.filter((e=>+e!=+t));a.length!==e.itemIds.length&&(e.itemIds=a);const r=e.pinnedIds.filter((e=>+e!=+t));r.length!==e.pinnedIds.length&&(e.pinnedIds=r);const i=e.feedItemIds.filter((e=>+e!=+t));i.length!==e.feedItemIds.length&&(e.feedItemIds=i),e.items=s}},deletePostId(e,t){e.itemIds=e.itemIds.filter((e=>e!==t))},deletePinnedPostId(e,t){e.pinnedIds=e.pinnedIds.filter((e=>e!==t))},updatePostThumbCustomCover(e,t){const{postId:s,...a}=t,r=e.items[s];r&&(e.items[s].media=(0,k.I)(r.media,a))},updatePost(e,t){var s,a;const{id:r}=t;e.items[r]&&(e.items[r].fundRaising&&!t.fundRaising&&delete e.items[r].fundRaising,e.items[r]={...e.items[r],...t}),null!=t&&null!==(s=t.fundRaising)&&void 0!==s&&s.targetProgress&&null!==(a=e.items[r])&&void 0!==a&&a.tipsAmount&&(e.items[r].tipsAmountRaw=+t.fundRaising.targetProgress,e.items[r].tipsAmount=(0,w.Z9)(e.items[r].tipsAmountRaw))},incPostPublishedCounter(e){e.postPublishedCounter+=1},setPostPublishedCounter(e,t){e.postPublishedCounter=t},setHasNewOwnPostPublished(e,t){e.hasNewOwnPostPublished=t},resetPostPublishedCounter(e){e.postPublishedCounter=0},setPrevPostsToLoad(e,t){e.hasPrevPostsToLoad=t},setStreamEvents(e,{events:t,postId:s}){e.items[s].streamEvents=t},setPostFavorites(e,{postId:t,list:s,more:a}){e.items[t].favoritesList=a?[...new Set([...e.items[t].favoritesList,...s])]:s},setPostTips(e,{postId:t,list:s,more:a}){e.items[t].tipsList=a?[...new Set([...e.items[t].tipsList,...s])]:s},setPostBuyers(e,{postId:t,list:s,more:a}){e.items[t].buyersList=a?[...new Set([...e.items[t].buyersList,...s])]:s},resetPostBuyers(e,{postId:t}){e.items[t].buyersList=[]},resetPostFavorites(e,{postId:t}){e.items[t].favoritesList=[]},resetPostTips(e,{postId:t}){e.items[t].tipsList=[]},updatePostInBookmarks(e,{id:t,isAdded:s}){e.items[t].isAddedToBookmarks=s},setOffset(e,t){e.offset=+t},setScrollToComments(e,t){e.needScrollToComments=t},updatePostTips(e,{postId:t,amount:s}){if(t&&s&&e.items[t]){const a=e.items[t].tipsAmountRaw+ +s;e.items[t].tipsAmountRaw=a,e.items[t].tipsAmount=(0,w.Z9)(a)}},setDisabledPinsOrder(e,t){e.disabledPinsOrder=t},setHasMore(e,{type:t,value:s}){e.hasMore={...e.hasMore,[t]:s}},setUserGetPostsError(e,t){e.userGetPostsError=t},setVotersMarker(e,t){e.votersMarker=t},setPostsLogin(e,{value:t=[],more:s=!1}={}){e.postsLogin=s?[...new Set([...e.postsLogin,...t])]:t},setCurrentFullscreenPostId(e,t){e.currentFullscreenPostId=t},toggleIsHidePromoFeedPosts(e){e.feedSettings.isHidePromoFeedPosts=!e.feedSettings.isHidePromoFeedPosts,C.Z.setItem("feedSettings",JSON.stringify(e.feedSettings))},toggleIsHideFeedPostsProfileBanners(e){e.feedSettings.isHideFeedPostsProfileBanners=!e.feedSettings.isHideFeedPostsProfileBanners,C.Z.setItem("feedSettings",JSON.stringify(e.feedSettings))},filterHiddenUserFeedPosts(e,t){e.feedItemIds=e.feedItemIds.filter((s=>e.items[s]&&e.items[s].author!==t))},setPostIsReportedByMe(e,t=0){e.items[t]&&(e.items[t]={...e.items[t],isReportedByMe:!0})},setPostsFiltersCounter(e,t){e.postsFiltersCounter=t},resetPostsFiltersCounter(e){e.postsFiltersCounter={}},resetPosts(e){e.items={},e.postsFiltersCounter={},e.itemIds=[]},resetPostsLogin(e){e.items={},e.postsLogin=[]},setFeedBottomPostLoadError(e,t=!1){e.hasFeedBottomPostLoadError=t},setIsProfileDataFetching(e,t=!1){e.isProfileDataFetching=t},setPostIsReportedByMeTemp(e,t=0){e.items[t]&&(e.items[t]={...e.items[t],isReportedByMeTemp:!0})},addPostLabel(e,{postId:t,label:s}){"custom"===s.type&&e.items[t].labelStates.push(s)},deletePostLabel(e,{postId:t,labelId:s}){e.items[t].labelStates=e.items[t].labelStates.filter((e=>e.id!==s))},setPostField(e,{postId:t,field:s,status:a}){if(!e.items[t])return;const r={};r[s]=a,e.items[t]={...e.items[t],...r}},resetVotersList(e){e.votersList={}},setMarkers(e,{headMarker:t,tailMarker:s}={}){if(!t||!s)return e.headMarker=void 0,e.tailMarker=void 0,e.beforePublishTime=void 0,void(e.afterPublishTime=void 0);""+ +t==`${t}`?(e.headMarker=Math.min(...[e.headMarker,t,s].filter((e=>e))),e.tailMarker=Math.max(...[e.tailMarker,t,s].filter((e=>e)))):(e.beforePublishTime=Math.min(...[e.beforePublishTime,t,s].filter((e=>e))).toFixed(6),e.afterPublishTime=Math.max(...[e.afterPublishTime,t,s].filter((e=>e))).toFixed(6))},setTweetSend(e,t=0){e.tweetSend=t},setTagsRequiredSort(e,t){e.tagsRequiredSort=t},setTagsRequiredSearchQuery(e,t){e.tagsRequiredSearchQuery=t},setIsToggleArchivePostLoading(e,t){e.isToggleArchivePostLoading=t},setIsTogglePinPostLoading(e,t){e.isTogglePinPostLoading=t},logout(e){Object.assign(e,$())}},E={async fetchPosts({commit:e,state:t,dispatch:s},{limit:a=I.P9,more:r=!1,query:i,beforePublishTime:n,afterPublishTime:o,direction:d,listId:c,listType:l,user:u,needFullResponse:m=!1,type:p="all",sort:v}={}){var S;let w=!1;const k=f.default.$watch("$route",(()=>{w=!0})),{cancelToken:C,isCancelled:T,Cancel:M}=(0,I.Yz)("fetchPosts");T&&e("setLoading",!1);const $=L(c);e("setLoading",!0),r||(e("setOffset",0),e("setMarkers"),"bottom"===d&&e("setHasMore",{value:!1,type:$}),"feed"!==$&&e("resetFeedItemIds"));let A={};e("setFeedBottomPostLoadError",!1);const _={limit:a,offset:t.offset,query:i,cancelToken:C,listId:c,listType:l,user:u,type:p,sort:v};"bottom"===d?t.tailMarker?_.tailMarker=t.tailMarker:_.beforePublishTime=t.beforePublishTime||n:t.headMarker?_.headMarker=t.headMarker:_.afterPublishTime=t.afterPublishTime||o,"TagsRequired"===f.default.$route.name&&(_.listId="need-tag");try{if(A=await(0,y.Jq)(_),k(),w)return}catch(D){if(D instanceof M)return;if(e("setLoading",!1),u&&404===D.status&&"User not found"===g()(D,"data.error.message"))return void e("setFeedItemIds",[]);throw"Feed"===f.default.$route.name&&"bottom"===d&&e("setFeedBottomPostLoadError",!0),D}if(!Array.isArray(null===(S=A)||void 0===S?void 0:S.list))return(0,b.oj)({error:new Error("typeof response is incorrect"),extra:{response:A}}),e("setLoading",!1),m?{}:[];const F=A.list,E=(0,h.Fv)(F,P.eI);e("releaseForms/setReleaseFormsNormalized",E,{root:!0});try{await s("users/getUsersIfNeeded",E,{root:!0}),e("set",E,{root:!0});const i=E.result;e("setMarkers",A),r?e("bottom"===d?"addFeedItemIds":"addNewFeedItemIds",i):(e("setFeedItemIds",i),e("resetPostPublishedCounter"));let n=t.offset+a;return"TagsRequired"===f.default.$route.name&&(n=t.feedItemIds.length),e("setOffset",n),e("setLoading",!1),"bottom"===d&&e("setHasMore",{value:A.hasMore,type:$}),("top"===d&&!A.hasMore||!_.beforePublishTime&&!_.afterPublishTime)&&e("setHasNewOwnPostPublished",!1),m?A:F}catch(D){return e("setLoading",!1),m?{}:[]}},async fetchPostsByUsersListId({commit:e,dispatch:t},{listId:s,offset:a,query:r,filter:i,order:n,type:o,limit:d=I.P9}={}){e("setLoading",!0);const{cancelToken:c,Cancel:l}=(0,I.Yz)("fetchPostsByUsersListId"),u={listId:s,query:r,type:o,limit:d,offset:a,cancelToken:c,filter:i,order:n};try{const s=await(0,y.ov)(u);if(!Array.isArray(null==s?void 0:s.list))return(0,b.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}}),e("setLoading",!1),{hasMore:!1};const r=(0,h.Fv)(s.list,P.eI);await t("users/getUsersIfNeeded",r,{root:!0}),e("releaseForms/setReleaseFormsNormalized",r,{root:!0}),e("set",r,{root:!0});const i=r.result;return e(a?"addItemIds":"setItemIds",i),s}catch(m){if(m instanceof l)return{isCanceled:!0};Sentry.captureException(m)}finally{e("setLoading",!1)}return{isError:!0}},async fetchUserPosts({commit:e,dispatch:t,state:s},{id:a,limit:r,more:i=!1,addNew:n=!1,type:o="posts",query:d,order:c,filter:l,beforePublishTime:u,afterPublishTime:m,direction:f="bottom",pinned:p,label:g,excludeLabel:y,needFullResponse:v=!1}={}){var w;if("upcoming-streams"===o)return!1;const{cancelToken:k,Cancel:C}=(0,I.Yz)("fetchPosts");let T;o&&"posts"!==o&&(0,I.Yz)("fetchPostsPinned"),e("setLoading",!0),i||n||(e("setMarkers"),e("setItemIds")),e("setUserGetPostsError",!1);const L=c&&"asc"===c.slice(c.length-3),M={id:a,limit:r,type:o,query:d,order:"top"===f&&L?c.replace(/asc$/,"desc"):c,filter:l,pinned:p,label:g,excludeLabel:y,cancelToken:k,counters:+!i};try{"top"===f&&!L||"top"!==f&&L?M.afterPublishTime=(s.afterPublishTime||m||u)&&Math.max(...[s.afterPublishTime,m,u].filter((e=>e))).toFixed(6):M.beforePublishTime=(s.beforePublishTime||u||m)&&Math.min(...[s.beforePublishTime,u,m].filter((e=>e))).toFixed(6),T=await(0,S.C8)(M)}catch(D){if(!(D instanceof C))throw e("setLoading",!1),e("setUserGetPostsError",!0),D;return}var $;"top"!==f&&e("setHasMore",{value:!(null===($=T)||void 0===$||!$.hasMore),type:o});if(!Array.isArray(null===(w=T)||void 0===w?void 0:w.list))return(0,b.oj)({error:new Error("typeof response is incorrect"),extra:{response:T}}),e("setLoading",!1),v?{}:[];const A=M.order!==c?T.list.reverse():T.list,_=T.counters;_&&e("setPostsFiltersCounter",_);const F=(0,h.Fv)(A,P.eI);await t("users/getUsersIfNeeded",F,{root:!0}),e("set",F,{root:!0}),e("setMarkers",T);const E=F.result;return e(i?"addItemIds":n?"addNewItemIds":"setItemIds",E),e("setLoading",!1),v?T:A},async fetchUserPostsByType({commit:e,rootGetters:t,dispatch:s},{selectedPostDate:a=!1}={}){try{e("setPrevUserPostsToLoad",!1);const r=t["users/userId"],{order:i,filter:n,q:o}=f.default.$route.query,d=f.default.$route.params.postType,c=undefined,l={id:r,type:d,query:o,order:i,filter:n,label:f.default.$route.params.labelId};if(a)return l.beforePublishTime=a,l.needFullResponse=!0,e("setPinnedIds"),await s("fetchUserPosts",l);{const e=undefined;!("Profile"!==f.default.$route.name||f.default.$route.query.filter||f.default.$route.query.order&&"publish_date_asc"!==f.default.$route.query.order)&&(l.pinned=0)}await s("fetchUserPosts",l)}catch(r){}},async fetchPostsPinned({commit:e,rootGetters:t,dispatch:s}){const{cancelToken:a}=(0,I.Yz)("fetchPostsPinned");try{const r=t["users/userId"];e("setPinnedIds");const i=f.default.$route.query.filter||f.default.$route.query.order;if(i&&"publish_date_asc"!==i)e("setPinnedIds");else{const t=await(0,S.U7)({id:r,cancelToken:a}),i=g()(t,"list",!1);if(i&&i.length){const t=(0,h.Fv)(i,P.eI);await s("users/getUsersIfNeeded",t,{root:!0}),e("set",t,{root:!0}),e("setPinnedIds",t.result)}}}catch(r){}},async fetchPost({commit:e,state:t,dispatch:s},{id:a,active:r=!1,onlyExisted:i=!1}={}){if(e("setError",!1),i&&!t.items[a])return[];let n;e("setLoading",!0);try{n=await(0,y.u_)(a)}catch(d){return e("setLoading",!1),e("setError",!0),[]}if(!n||"object"!=typeof n)return(0,b.oj)({error:new Error("typeof response is incorrect"),extra:{post:n}}),[];r&&e("setActivePost",+n.id);const o=(0,h.Fv)(n,P.Rj);return e("releaseForms/setReleaseFormsNormalized",o,{root:!0}),await s("users/getUsersIfNeeded",o,{root:!0}),s("setPost",n),e("setLoading",!1),n},setPost({commit:e},t){const s=(0,h.Fv)(t,P.Rj),a=undefined,r=undefined;e("updatePost",g()(s,`entities.posts[${t.id}]`)||t),e("set",s,{root:!0})},setPostCustomThumb({commit:e},t){e("updatePostThumbCustomCover",t)},postPublished({commit:e,rootGetters:t},{id:s,userId:a}){if(!s)return;const r=undefined;+t["auth/authUserId"]!=+a&&e("incPostPublishedCounter"),e("setHasNewOwnPostPublished",!0)},async favoritePost({commit:e},{id:t,authorId:s}){e("togglePostFavorite",t);try{const a=await(0,y.xZ)({id:t,authorId:s});if(a&&"object"==typeof a){const t=undefined;e("set",(0,h.Fv)(a,P.Rj),{root:!0})}else(0,b.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}})}catch(a){e("togglePostFavorite",t)}},async pinPostAction({commit:e,state:t,dispatch:s,rootGetters:a},{id:r,userId:i}){var n;let o;e("setIsTogglePinPostLoading",!0);try{o=await(0,y.wy)(r)}catch(h){(0,b.Po)(h)}const{query:d,query:{order:c,filter:l},params:{postType:u}}=f.default.$route,m=l||c&&"publish_date_asc"!==c?void 0:0;if(null!==(n=o)&&void 0!==n&&n.success){const n=t.items[r];if(e("togglePostBooleanProperty",{id:r,propName:"isPinned"}),n){const o=a["auth/authUser"],h=n.isPinned?o.pinnedPostsCount+1:o.pinnedPostsCount-1;e("users/setUserField",{userId:o.id,field:"pinnedPostsCount",status:h},{root:!0}),e("users/setUserField",{userId:o.id,field:"hasPinnedPosts",status:h>0},{root:!0}),"Profile"===f.default.$route.name&&0===m&&(n.isPinned?(e("deletePostId",r),e("setPinnedIds",[r,...t.pinnedIds])):(e("deletePinnedPostId",r),s("fetchUserPosts",{id:i,type:u,query:d,order:c,filter:l,pinned:m})))}}e("setIsTogglePinPostLoading",!1)},async deletePost({commit:e,state:t},s){try{const a=g()(t.items[s],"labelStates",!1),r=await(0,y.fR)(s);if(r&&r.counters&&(e("users/updateUserCounters",r.counters,{root:!0}),e("setPostsFiltersCounter",r.counters)),r&&r.success)return a&&Array.isArray(a)&&e("postLabels/decrementPostLabelsCounters",a,{root:!0}),e("deletePost",s),!0}catch(a){return(0,b.Po)(a),!1}return!1},async hidePost({commit:e,state:t,dispatch:s},a){try{const r=t.items[a];let i;i=r&&"post"===r.responseType?await(0,y.jp)(a):await s("chats/hideMessage",a,{root:!0}),i&&i.success&&("Post"===f.default.$route.name?e("setPostIsReportedByMe",a):e("deletePost",a))}catch(r){(0,b.Po)(r)}},async fetchStreamEvents({commit:e,rootGetters:t},{streamId:a,postId:r}){try{let i=await(0,v.PC)(a);if(Array.isArray(i)&&i.length){const{getStreamingTipsComment:a}=await Promise.resolve().then(s.bind(s,872308));i=i.reduce(((e,s)=>{switch(s.type){case"join":case"left":return e;case"tips":s.data.comment=a({vm:f.default,authUser:t["auth/authUser"],fromUser:s.data.user,toUser:s.data.toUser,amount:`$${s.data.amount.toFixed(2).replace(".00","")}`,message:s.data.message}),s.type="comment"}return s.time=parseFloat(s.time),e.push(s),e}),[]),e("setStreamEvents",{events:i,postId:r})}}catch(i){Sentry.captureException(i)}},async fetchFavoritesList({commit:e,state:t},{postId:s,offset:a=0,more:r=!1}){let i;e("setError",!1);try{var n;if(i=await(0,y.F3)({postId:s,offset:a}),Array.isArray(null===(n=i)||void 0===n?void 0:n.list)){const a=(0,h.Fv)(i.list,P.Xd);if(e("set",a,{root:!0}),!t.items[s]){const t=undefined;e("set",(0,h.Fv)({id:s},P.Rj),{root:!0})}e("setPostFavorites",{postId:s,list:a.result,more:r})}}catch(o){e("setError",!0)}return i},async fetchTipsList({commit:e,state:t},{postId:s,offset:a=0,more:r=!1}){let i;e("setError",!1);try{var n;if(i=await(0,y.wr)({postId:s,offset:a}),Array.isArray(null===(n=i)||void 0===n?void 0:n.list)){const a=(0,h.Fv)(i.list,P.Xd);if(e("set",a,{root:!0}),!t.items[s]){const t=undefined;e("set",(0,h.Fv)({id:s},P.Rj),{root:!0})}e("setPostTips",{postId:s,list:a.result,more:r})}}catch(o){e("setError",!0)}return i},async fetchBuyersList({commit:e,state:t},{postId:s,offset:a=0,more:r=!1}){try{e("setError",!1);const i=await(0,y._D)({postId:s,offset:a});if(Array.isArray(null==i?void 0:i.list)){if(!t.items[s]){const t=undefined;e("set",(0,h.Fv)({id:s},P.Rj),{root:!0})}const a=(0,h.Fv)(i.list,P.Xd);e("set",a,{root:!0}),e("setPostBuyers",{postId:s,list:a.result,more:r})}return i}catch(i){return e("setError",!0),{}}},async fetchVotersList({commit:e,state:t},{postId:s,offset:a=0,optionId:r,more:i=!1}){e("setError",!1);try{i||e("setVotersMarker");const n=await(0,y.yI)({postId:s,optionId:r,offset:a,marker:t.votersMarker});if(Array.isArray(null==n?void 0:n.list)){if(n.marker&&e("setVotersMarker",n.marker),!t.items[s]){const t=undefined;e("set",(0,h.Fv)({id:s},P.Rj),{root:!0})}const a=(0,h.Fv)(n.list,P.$7);e("set",a,{root:!0}),e("set",{entities:{votersList:{[`${s}_${r}`]:i?[...new Set([...t.votersList[`${s}_${r}`]||[],...a.result])]:a.result}}},{root:!0})}return n}catch(n){return e("setError",!0),{}}},async fetchPostsLogin({commit:e,dispatch:t},{limit:s=5,offset:a=0}={}){a||e("setPostsLogin");try{const r=await(0,y.j7)({limit:s,offset:a});if(Array.isArray(null==r?void 0:r.items)&&r.items.length){const s=(0,h.Fv)(r.items,P.eI);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0}),e("setPostsLogin",{value:s.result,more:!!a})}return r.hasMore&&!!r.items.length}catch(r){}return!1},async fetchBookmarkPostsInCategory({commit:e,dispatch:t},{id:s,query:a,order:r,limit:i,offset:n,filter:o,postType:d}={}){let c;const{cancelToken:l,Cancel:u}=(0,I.Yz)("fetchBookmarkPostsInCategory"),m={query:a,order:r,limit:i,offset:n,filter:o,postType:d,id:"all"!==s?s:""};try{var f;if(e("setLoading",!0),c=await(0,y.$C)(m,l),m.id&&e("bookmarks/addCategoriesListItem",c.category,{root:!0}),null!==(f=c)&&void 0!==f&&f.list.length){const s=(0,h.Fv)(c.list,P.eI);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0});const a=s.result;e(n?"addItemIds":"setItemIds",a)}}catch(p){if(p instanceof u)return e("setLoading",!1),{isCanceled:!0};Sentry.captureException(p)}finally{e("setLoading",!1)}return c},async addPostToBookmarks({commit:e},{id:t,authorId:s}){var a;let r;try{r=await(0,y.GX)(t,s)}catch(i){}null!==(a=r)&&void 0!==a&&a.success&&e("updatePostInBookmarks",{id:t,isAdded:!0})},async removePostFromBookmarks({commit:e},t){var s;let a;try{a=await(0,y.Z1)(t)}catch(r){}null!==(s=a)&&void 0!==s&&s.success&&e("updatePostInBookmarks",{id:t,isAdded:!1})},async toggleArchivePost({commit:e,state:t,rootGetters:s},{postId:a,isPrivate:r=!1}){var i,n,o,d,c,l;let u=t.items[a];if(!u)return;e("setIsToggleArchivePostLoading",!0);const m=r?"isPrivateArchived":"isArchived",p=u[m];let g;try{g=await(0,y.A$)({postId:a,add:!p,query:r&&{action:"private_archive"}})}catch(v){(0,b.Po)(v)}if(null!==(i=g)&&void 0!==i&&i.counters&&null!==(n=g)&&void 0!==n&&n.labelStates&&e("togglePostBooleanProperty",{id:a,propName:m}),null!==(o=g)&&void 0!==o&&o.counters&&null!==(d=g)&&void 0!==d&&d.labelStates&&!p&&("isPrivateArchived"===m&&u.isArchived||"isArchived"===m&&u.isPrivateArchived)){const t=undefined;e("togglePostBooleanProperty",{id:a,propName:"isArchived"===m?"isPrivateArchived":"isArchived"})}if(null!==(c=g)&&void 0!==c&&c.counters&&(e("users/updateUserCounters",g.counters,{root:!0}),e("setPostsFiltersCounter",g.counters),e("postLabels/setPostLabelArchivedCounters",g.counters,{root:!0})),null!==(l=g)&&void 0!==l&&l.labelStates){const i=s["auth/authUser"],n=f.default.$createElement("span",{domProps:{innerHTML:f.default.$t(`message.post_moved${p?"_from":"_to"}${r?"_private":""}_archive_toast`,{POST_URL:`/${u.id}/${i.username}`,ARCHIVE_URL:`/${i.username}/${r?"private_":""}archived`})},on:{click:I.gy}});f.default.$bvToast.toast([n],T.TQ);const o=(0,h.Fv)(g.labelStates,P.Xt);e("postLabels/addUserLabelsIds",o.result,{root:!0}),g.labelStates.forEach((t=>{e("postLabels/setPostLabel",{labelId:t.id,label:t},{root:!0})})),e("setFeedItemIds",t.feedItemIds.filter((e=>e!==a))),e("deletePostId",a),e("deletePinnedPostId",a),delete g.labelStates,Object.keys(g).forEach((t=>{e("users/setUserField",{userId:u.author.id,field:t,status:g[t]},{root:!0})}))}e("setIsToggleArchivePostLoading",!1)},async savePinsOrder({commit:e},t){try{e("setDisabledPinsOrder",!0);const s=await(0,y.b0)(t);e("setDisabledPinsOrder",!1),s&&s.length&&e("setPinnedIds",s)}catch(s){e("setDisabledPinsOrder",!1),(0,b.Po)(s)}}}},818474:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},mutations:function(){return f},state:function(){return h}});var a=s(333948),r=s.n(a),i=s(21703),n=s.n(i),o=s(782677),d=s(527557),c=s(243168),l=s(990733),u=s(172462);const m=()=>({referralsIds:[],earnings:[],earningsLoading:!1,counts:{},smsTemplates:{},offset:0}),h={referralsIds:[],earnings:[],earningsLoading:!1,counts:{},smsTemplates:{},offset:0},f={setEarningsLoading(e,t){e.earningsLoading=t},setReferralsIds(e,{items:t=[],more:s=!1}={}){e.referralsIds=s?[...e.referralsIds,...t]:t},setOffset(e,t=0){e.offset=t},setEarnings(e,{items:t,more:s}){e.earnings=s?[...e.earnings,...t]:[...t]},setCounts(e,{count:t,data:s}){e.counts={...e.counts,[s.is_performer?"creators":"users"]:t}},setSmsTemplates(e,t){e.smsTemplates=t},logout(e){Object.assign(e,{referralsIds:[],earnings:[],earningsLoading:!1,counts:{},smsTemplates:{},offset:0})}},p={async fetchReferrals({commit:e,state:t},{query:s,more:a,isPerformer:r}={}){a||(e("setReferralsIds"),e("setOffset"));try{const i=await(0,d.$d)({limit:l.P9,offset:t.offset,query:s,is_performer:r});if(Array.isArray(i)){if(e("setOffset",t.offset+l.P9),i.length){const t=(0,o.Fv)(i,c.Xd);return e("set",t,{root:!0}),e("setReferralsIds",{items:t.result,more:a}),!0}return!1}(0,u.oj)({error:new Error("typeof response is incorrect"),extra:{response:i}})}catch(i){}},async fetchEarnings({commit:e},{limit:t,offset:s,more:a}={}){let r;e("setEarningsLoading",!0),a||e("setEarnings",{items:[],more:a});try{const e=undefined;r=(await(0,d.dc)({limit:t,offset:s})).list||[]}catch(i){r=[]}return e("setEarnings",{items:r,more:a}),e("setEarningsLoading",!1),r},async fetchCounts({commit:e},t){try{const s=await(0,d.eZ)(t);s&&void 0!==s.count&&e("setCounts",{count:s.count,data:t})}catch(s){}},async fetchSmsTemplates({commit:e}){try{const t=await(0,d.K$)();t&&"object"==typeof t&&e("setSmsTemplates",t)}catch(t){}}}},50473:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return I},getters:function(){return w},mutations:function(){return b},state:function(){return P}});var a=s(333948),r=s.n(a),i=s(21703),n=s.n(i),o=s(53189),d=s(150361),c=s.n(d),l=s(227361),u=s.n(l),m=s(248556),h=s(782677),f=s(243168),p=s(299833),g=s(990733),y=s(172462),v=s(310569);const S=()=>({releaseFormsList:[],guests:{},items:{},releaseFormsPageIds:[],selectedItems:[],users:{releaseFormsFilter:"all",releaseFormsSort:"date",releaseFormsOrder:"desc"},forms:{releaseFormsFilter:"all",releaseFormsSort:"date",releaseFormsOrder:"desc"},type:"users",searchText:"",offsetForms:0,offsetMentions:0,hasMoreForms:!1,hasMoreMentions:!1,isLoadingForms:!1,isLoadingMentions:!1,hints:[],modalGuest:null,modalLink:null,modalDocs:null,guestSaving:!1,mentions:[],usersFromGuest:[]}),P={releaseFormsList:[],guests:{},items:{},releaseFormsPageIds:[],selectedItems:[],users:{releaseFormsFilter:"all",releaseFormsSort:"date",releaseFormsOrder:"desc"},forms:{releaseFormsFilter:"all",releaseFormsSort:"date",releaseFormsOrder:"desc"},type:"users",searchText:"",offsetForms:0,offsetMentions:0,hasMoreForms:!1,hasMoreMentions:!1,isLoadingForms:!1,isLoadingMentions:!1,hints:[],modalGuest:null,modalLink:null,modalDocs:null,guestSaving:!1,mentions:[],usersFromGuest:[]},w={releaseFormsList:e=>t=>e.items||t.length?t.map((t=>e.items[t])):[],releaseFormsPageList:e=>e.items||e.releaseFormsPageIds.length?e.releaseFormsPageIds.map((t=>e.items[t])):[],options:e=>"users"===e.type?e.users:e.forms,activeClass:e=>"all"!==e[e.type].releaseFormsFilter||"date"!==e[e.type].releaseFormsSort||"desc"!==e[e.type].releaseFormsOrder},b={setType(e,t){e.type=t},setSearchText(e,t){e.searchText=t},setReleaseFormsList(e,t){e.releaseFormsList=t},setReleaseFormsFilter(e,t){e[e.type].releaseFormsFilter=t},setReleaseFormsSort(e,t){e[e.type].releaseFormsSort=t},setReleaseFormsOrder(e,t){e[e.type].releaseFormsOrder=t},setLoadingForms(e,t){e.isLoadingForms=t},setLoadingMentions(e,t){e.isLoadingMentions=t},setReleaseFormsNormalized(e,t){t.entities&&t.entities.releaseForms&&(e.items={...e.items,...t.entities.releaseForms})},setReleaseFormsPageIds(e,t){e.releaseFormsPageIds=t},setReleaseFormsId(e,t){e.releaseFormsPageIds=[...new Set([t,...e.releaseFormsPageIds])]},setReleaseForm(e,{formId:t,form:s}){e.items[t]={...e.items[t],...s}},setHiddenReleaseForm(e,{formId:t}){e.releaseFormsPageIds=e.releaseFormsPageIds.filter((e=>e!==t))},setSelectedItems(e,t){if(!e.releaseFormsPageIds.length){const s="users"===e.type?["user","guest"]:["link","document"],a=t.length?t.filter((({type:e})=>s.includes(e))).map((e=>Number(e.id))):[];e.releaseFormsPageIds=[...new Set([...a,...e.releaseFormsPageIds])]}e.selectedItems=t},setUsersFromGuest(e,t){e.usersFromGuest=[...e.usersFromGuest,t]},resetSelectedItemsList(e){e.users.releaseFormsFilter="all",e.users.releaseFormsSort="date",e.users.releaseFormsOrder="desc",e.forms.releaseFormsFilter="all",e.forms.releaseFormsSort="date",e.forms.releaseFormsOrder="desc",e.selectedItems=[],e.type="users",e.searchText=""},resetForms(e){e.releaseFormsList=[],e.releaseFormsPageIds=[]},setOffsetForms(e,t){e.offsetForms=t},setOffsetMentions(e,t){e.offsetMentions=t},setHasMoreForms(e,t){e.hasMoreForms=t},setHasMoreMentions(e,t){e.hasMoreMentions=t},setHints(e,t){e.hints=t},setModalGuest(e,t=null){e.modalGuest=t},setModalLink(e,t=null){e.modalLink=t},setModalDocs(e,t=null){e.modalDocs=t},setGuestSaving(e,t=!1){e.guestSaving=t},setMentions(e,t){e.mentions=t},logout(e){Object.assign(e,{releaseFormsList:[],guests:{},items:{},releaseFormsPageIds:[],selectedItems:[],users:{releaseFormsFilter:"all",releaseFormsSort:"date",releaseFormsOrder:"desc"},forms:{releaseFormsFilter:"all",releaseFormsSort:"date",releaseFormsOrder:"desc"},type:"users",searchText:"",offsetForms:0,offsetMentions:0,hasMoreForms:!1,hasMoreMentions:!1,isLoadingForms:!1,isLoadingMentions:!1,hints:[],modalGuest:null,modalLink:null,modalDocs:null,guestSaving:!1,mentions:[],usersFromGuest:[]})}},I={async saveReleaseDocs({commit:e},t){try{const s=await(0,m.uj)(t);return e("setReleaseForm",{formId:s.id,form:{...s,type:"document"}}),e("setReleaseFormsId",s.id),s}catch(s){return(0,y.Po)(s),!1}},async saveReleaseLink({commit:e},t){try{const s=await(0,m.ln)(t);return e("setReleaseForm",{formId:s.id,form:{...s,type:"link"}}),e("setReleaseFormsId",s.id),s}catch(s){return(0,y.Po)(s),!1}},async fetchReleaseForms({commit:e,state:t},{limit:s=g.P9,filter:a,sort:r,more:i,name:n,type:o,source:d}){try{i||(e("setLoadingForms",!0),e("setReleaseFormsList",[]),e("setReleaseFormsPageIds",[]),e("setOffsetForms",0),e("setHasMoreForms",!1));const{cancelToken:c}=(0,g.Yz)("fetchMediaPosts"),l="forms"===o?m.e0:m.Qo,{hasMore:u=!1,items:p=[]}=await l({limit:s,offset:t.offsetForms,filter:a,sort:r,name:n,source:d},c)||{};let y=[...t.releaseFormsList,...p];if(!n&&t.selectedItems.length){const e="users"===t.type?["user","guest"]:["document","link"],s=undefined,a=t.selectedItems.filter((t=>e.includes(t.type))).filter((({id:e,type:t})=>!y.some((({id:s,type:a})=>s===e&&t===a))));y=[...a,...y]}const v=y.filter(((e,t,s)=>s.findIndex((t=>+t.id==+e.id))===t)),S=(0,h.Fv)(v,f._8);e("setHasMoreForms",u),e("setReleaseFormsList",v),e("setReleaseFormsNormalized",S),e("setReleaseFormsPageIds",S.result),e("setOffsetForms",t.offsetForms+s),e("setLoadingForms",!1)}catch(c){}},async renameReleaseForms({commit:e},t){try{const s=await(0,m.Xz)(t);e("setReleaseForm",{formId:s.id,form:s}),e("setReleaseFormsId",s.id)}catch(s){return(0,y.Po)(s),!1}},async hideReleaseForms({commit:e},{entityType:t,entityId:s,isViewToHidden:a,mention:r}={}){try{let i=await(0,m.yY)({entityId:s,entityType:t});const n=c()(r);return i.isHidden&&a&&e("setHiddenReleaseForm",{formId:i.entityId}),n&&"user"===n.type&&(n.user.hiddenForRf=i.isHidden),e("setReleaseForm",{formId:i.entityId,form:{...i,...n,hiddenForRf:i.isHidden}}),o.default.$bvToast.toast(o.default.$t(i.isHidden?"message.successfully_removed_from_list":"message.successfully_back_to_list"),v.TQ),i}catch(i){return(0,y.Po)(i),!1}},async attachReleaseForm({},{postId:e,releaseForms:t,messageId:s,isEditForms:a,isAttach:r=!1}){if(!t.length&&!e&&!a)return!1;const i=(0,p.r)(t,r);e?i.postId=e:s&&(i.messageId=s);try{return await(0,m.lJ)(i)}catch(n){return(0,y.Po)(n),!1}},async saveGuest({commit:e},{id:t,data:s={}}){e("setGuestSaving",!0);try{const a=await(0,m.U9)(s,t);if(a&&a.id)return e("setGuestSaving"),e("setReleaseForm",{formId:a.id,form:{...a,type:"guest"}}),e("setReleaseFormsId",a.id),a}catch(a){(0,y.Po)(a),(0,y.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}})}return e("setGuestSaving"),!1},async assignGuestByToken({},{token:e,isConfirm:t}){try{let s;if(t){const t=await(0,m.wf)(e),a=u()(t,"user.name");if(!t)return;s=await window.interact(o.default.$t("message.creator_wants_to_tag_you",{NAME:a}),{confirmText:o.default.$t("message.confirm_button")})}if(s||!t)return await(0,m.HP)(e)}catch(s){return(0,y.Po)(s),!1}},setReleaseFormsWithNormalize({commit:e},t){if(t.length){const s=(0,h.Fv)(t,f._8);e("set",s,{root:!0}),e("setReleaseFormsNormalized",s)}},async getMentions({commit:e,dispatch:t,state:s,rootGetters:a},{limit:r=g.P9,more:i=!1}){const n="NotificationsByType"===o.default.$route.name;i||(n?(e("users/setNotificationsOffset",0,{root:!0}),e("users/setNotifications",{},{root:!0}),e("setOffsetMentions",0)):(e("setLoadingMentions",!0),e("setOffsetMentions",0),e("setHasMoreMentions",!1),e("setMentions",[])));try{const{list:o,hasMore:d}=await(0,m.qR)({limit:r,offset:s.offsetMentions,skip_users:"all",format:"infinite"});let c=[...s.mentions,...o];if(n?(e("users/setNotifications",{notifications:c,more:i},{root:!0}),e("setOffsetMentions",s.offsetMentions+r)):(e("setMentions",c),e("setHasMoreMentions",d),e("setOffsetMentions",s.offsetMentions+r)),o.length){const s=(0,h.Fv)(o,f.vU);await t("users/getUsersIfNeeded",{entities:{users:Object.keys(s.entities.users).reduce(((e,t)=>({...e,[t]:{...s.entities.users[t],_views:["m"]}})),{})}},{root:!0});const r=a["auth/authUserId"];e("set",s,{root:!0}),e("users/setUserField",{userId:r,field:"newTagsCount",status:0},{root:!0})}return e("setLoadingMentions",!1),{hasMore:d}}catch(d){return(0,y.Po)(d),e("setLoadingMentions",!1),!1}}}},669479:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return d},state:function(){return o}});var a=s(333948),r=s.n(a);const i=5,n=()=>({route:{from:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}},to:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}}},history:[]}),o={route:{from:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}},to:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}}},history:[]},d={setRoute(e,t){const s="object"==typeof t&&"object"==typeof t.to?t.to:{},a=e.history&&e.history.length?e.history:[];e.route={...t},e.history=[s,...a].slice(0,5)},logout(){}}},258135:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return S},getters:function(){return y},mutations:function(){return v},state:function(){return g}});var a=s(333948),r=s.n(a),i=s(21703),n=s.n(i),o=s(596012),d=s(849344),c=s(727484),l=s.n(c),u=s(629387),m=s.n(u),h=s(993043),f=s(172462);l().extend(m());const p=()=>({itemsSFL:[],loading:!1,linkedPostsMap:{}}),g={itemsSFL:[],loading:!1,linkedPostsMap:{}},y={getSFLPostById:e=>t=>{const s=e.itemsSFL.find((e=>e.entity.id===t));return s?s.entity:null}},v={setItems(e,{addMore:t,list:s}){e.itemsSFL=t?[...e.itemsSFL||[],...s||[]]:s},setLoading:(e,t)=>{e.loading=t},deleteItem:(e,t)=>{e.itemsSFL=e.itemsSFL.filter((e=>e.id!==t))},postPublished:(e,t)=>{e.itemsSFL=e.itemsSFL.filter((({entity:e})=>e.id!==t))},setLinkedPostsMap:(e,t)=>{e.linkedPostsMap={...e.linkedPostsMap,...t}},resetPosts:e=>{e.loading=!1,e.itemsSFL=[]},updatePost:(e,{id:t,post:s})=>{e.itemsSFL=e.itemsSFL.map((e=>e.entity.id===t?{...e,entity:s}:e))},logout(e){Object.assign(e,{itemsSFL:[],loading:!1,linkedPostsMap:{}})}},S={async fetchSFLPosts({commit:e},{params:t,addMore:s}={}){let a;e("setLoading",!0);try{a=await(0,o.SM)({params:t});const{list:r}=a;r&&e("setItems",{list:r,addMore:s}),null!=r&&r.length&&await(0,h.Bw)({commit:e,list:r,commitName:"savedForLater/setLinkedPostsMap"})}finally{e("setLoading",!1)}return a},async updateSFLPost({commit:e,state:t},s){const a=undefined;if(t.itemsSFL.some((({entity:e})=>e.id===s)))try{const t=await(0,d.u_)(s,[]);if(t&&"object"==typeof t)return void e("updatePost",{id:s,post:t});(0,f.oj)({error:new Error("typeof response is incorrect"),extra:{post:t}})}catch{}},async pinSFLPost({commit:e},t){try{const s=await(0,d.wy)(t);if(null!=s&&s.success){const s=g.itemsSFL.find((e=>e.entity.id===t));if(s){const a=!s.entity.isPinned,r={...s.entity,isPinned:a};e("updatePost",{id:t,post:r})}}}catch{}},publishScheduleEventRightNow:({commit:e},t)=>(0,h.$7)({commit:e,id:t})}},453398:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return k},getters:function(){return b},mutations:function(){return I},state:function(){return w}});var a=s(227361),r=s.n(a),i=s(333948),n=s.n(i),o=s(21703),d=s.n(o),c=s(53189),l=s(596012),u=s(849344),m=s(727484),h=s.n(m),f=s(629387),p=s.n(f),g=s(993043),y=s(172462),v=s(990733);const S=()=>s.e(82986).then(s.bind(s,482986));h().extend(p());const P=()=>({items:[],dayItems:[],itemsByDate:null,calendarItems:[],userTimeZone:void 0,scheduledItemsLoading:!1,scheduledDayItemsLoading:!1,scheduledItemsCounterLoading:!1,hasMoreDayDetailedEvents:!1,linkedPostsMap:{},reminders:[],remindersLoading:!1,isSFLSyncInProcess:!1}),w={items:[],dayItems:[],itemsByDate:null,calendarItems:[],userTimeZone:void 0,scheduledItemsLoading:!1,scheduledDayItemsLoading:!1,scheduledItemsCounterLoading:!1,hasMoreDayDetailedEvents:!1,linkedPostsMap:{},reminders:[],remindersLoading:!1,isSFLSyncInProcess:!1},b={getSchedulePostById:e=>t=>{const s=e.dayItems.find((e=>e.entity.id===t));return s?s.entity:null}},I={setItems(e,t){const s=e.items.map((e=>e.id)),a=t.filter((e=>!s.includes(e.id)));e.items=e.items.concat(a)},setDayItems(e,t){const s=e.dayItems.map((e=>e.id)),a=t.filter((e=>!s.includes(e.id)));e.dayItems=e.dayItems.concat(a)},deleteItem(e,t){e.items=e.items.filter((e=>e.id!==t)),e.dayItems=e.dayItems.filter((e=>e.id!==t))},setItemsByDate(e){e.itemsByDate=(0,g.Sf)(e.items)},setCalendarItems(e,t){e.calendarItems=t},setUserTimeZone:(e,t)=>{e.userTimeZone=t},clearCalendarItems:e=>{e.calendarItems=[]},clearAgendaItems:e=>{e.items=[],e.itemsByDate={}},clearDayItems:e=>{e.dayItems=[],e.hasMoreDayDetailedEvents=!1,e.scheduledDayItemsLoading=!1},clearItems:e=>{e.items=[],e.itemsByDate={},e.dayItems=[],e.calendarItems=[]},setScheduledItemsLoading:(e,t)=>{e.scheduledItemsLoading=t},setScheduledDayItemsLoading:(e,t)=>{e.scheduledDayItemsLoading=t},setScheduledItemsCounterLoading:(e,t)=>{e.scheduledItemsCounterLoading=t},updateScheduledEvent:(e,t)=>{e.items=e.items.map((e=>e.entity.id===t.id?{...e,entity:t}:e))},updateDayItemScheduledEvent:(e,t)=>{e.dayItems=e.dayItems.map((e=>e.entity.id===t.id?{...e,entity:t}:e))},setHasMoreDayDetailedEvents:(e,t)=>{e.hasMoreDayDetailedEvents=t},postPublished:(e,t)=>{e.items=e.items.filter((({type:e,entity:s})=>"post"!==e||s.id!==t)),e.dayItems=e.dayItems.filter((({type:e,entity:s})=>"post"!==e||s.id!==t))},messagePublished:(e,t)=>{e.items=e.items.filter((({type:e,entity:s})=>"chat"!==e||s.id!==t)),e.dayItems=e.dayItems.filter((({type:e,entity:s})=>"chat"!==e||s.id!==t))},setLinkedPostsMap:(e,t)=>{e.linkedPostsMap={...e.linkedPostsMap,...t}},setReminders:(e,t=[])=>{e.reminders=t},updateReminder:(e,{id:t,fields:s={}})=>{e.reminders=e.reminders.map((e=>e.id===t?{...e,...s}:e))},removeFromReminder:(e,t)=>{e.reminders=e.reminders.filter((e=>e.id!==t))},setRemindersLoading:(e,t)=>{e.remindersLoading=t},addPostLabel(e,{postId:t,label:s}){if("custom"===s.type){const a=undefined;e.dayItems.find((e=>e.entity.id===t)).entity.labelStates.push(s)}},deletePostLabel(e,{postId:t,labelId:s}){const a=e.dayItems.find((e=>e.entity.id===t));a.entity.labelStates=a.entity.labelStates.filter((e=>e.id!==s))},setIsSFLSyncInProcess(e,t){e.isSFLSyncInProcess=t},setDefaultState(e){Object.assign(e,{items:[],dayItems:[],itemsByDate:null,calendarItems:[],userTimeZone:void 0,scheduledItemsLoading:!1,scheduledDayItemsLoading:!1,scheduledItemsCounterLoading:!1,hasMoreDayDetailedEvents:!1,linkedPostsMap:{},reminders:[],remindersLoading:!1,isSFLSyncInProcess:!1})},logout(e){Object.assign(e,{items:[],dayItems:[],itemsByDate:null,calendarItems:[],userTimeZone:void 0,scheduledItemsLoading:!1,scheduledDayItemsLoading:!1,scheduledItemsCounterLoading:!1,hasMoreDayDetailedEvents:!1,linkedPostsMap:{},reminders:[],remindersLoading:!1,isSFLSyncInProcess:!1})}},k={async fetchEventsCounters({commit:e},{params:t}={}){let s;const{cancelToken:a}=(0,v.Yz)("fetchEventsCounters");e("setScheduledItemsCounterLoading",!0);const r=Object.assign({},t,{"filter[timeZone]":w.userTimeZone});try{var i;if(s=await(0,l.HC)({params:r,cancelToken:a}),null!==(i=s)&&void 0!==i&&i.list){const t=undefined;e("setCalendarItems",(0,g.EC)(s)),e("setIsSFLSyncInProcess",s.syncInProcess)}}catch(n){}finally{e("setScheduledItemsCounterLoading",!1)}return s},async fetchEventsDetailed({commit:e},{params:t}={}){let s;e("setScheduledItemsLoading",!0);const{cancelToken:a}=(0,v.Yz)("fetchEventsDetailed"),r=Object.assign({},t,{"filter[timeZone]":w.userTimeZone});try{s=await(0,l.o6)({params:r,cancelToken:a});const{list:t}=s;null!=t&&t.length&&((0,g.Sp)(t),e("setItems",t),e("setItemsByDate")),e("setIsSFLSyncInProcess",s.syncInProcess)}finally{e("setScheduledItemsLoading",!1)}return s},async fetchDayEventsDetailed({commit:e},{params:t}={}){let s;e("setScheduledDayItemsLoading",!0);const{cancelToken:a}=(0,v.Yz)("fetchDayEventsDetailed"),r=Object.assign({},t,{"filter[timeZone]":w.userTimeZone});try{s=await(0,l.o6)({params:r,cancelToken:a});const{list:t}=s;null!=t&&t.length&&((0,g.Sp)(t),e("setDayItems",t),e("setHasMoreDayDetailedEvents",s.hasMore),await(0,g.Bw)({commit:e,list:t,commitName:"schedule/setLinkedPostsMap"})),e("setIsSFLSyncInProcess",s.syncInProcess)}catch(i){}finally{e("setScheduledDayItemsLoading",!1)}return s},async fetchReminders({commit:e}){e("setRemindersLoading",!0);try{const t=await(0,l.vw)({limit:4,"filter[timeZone]":h()().format("Z")});if(null!=t&&t.list)return e("setReminders",t.list),e("setRemindersLoading",!1),t}catch(t){t.__CANCEL__||e("setRemindersLoading",!1)}},publishScheduleEventRightNow:({commit:e},t)=>(0,g.$7)({commit:e,id:t}),async updatePost({commit:e,state:t},s){const a=t.items.some((({entity:e})=>e.id===s)),r=t.dayItems.some((({entity:e})=>e.id===s));if(a||r)try{const t=await(0,u.u_)(s);if(!t||"object"!=typeof t)return void(0,y.oj)({error:new Error("typeof response is incorrect"),extra:{post:t}});a&&(e("updateScheduledEvent",t),e("setItemsByDate")),r&&e("updateDayItemScheduledEvent",t)}catch{}},async pinSchedulePost({commit:e},t){try{const s=await(0,u.wy)(t);if(null!=s&&s.success){const s=w.items.find((e=>e.entity.id===t));if(s){const t=!s.entity.isPinned,a=undefined;e("updateScheduledEvent",{...s.entity,isPinned:t}),e("setItemsByDate")}const a=w.dayItems.find((e=>e.entity.id===t));if(a){const t=!a.entity.isPinned,s=undefined;e("updateDayItemScheduledEvent",{...a.entity,isPinned:t})}}}catch{}},async fetchClosestScheduledStream(){try{var e;const t=await(0,l.F4)();if(null!=t&&null!==(e=t.list)&&void 0!==e&&e.length){const e=r()(t,"list[0].entity");if(!e)return;const s=h()(e.scheduledAt).diff(h()(),"minute",!0);if(s<0||s>30)return;const a=c.default.$createElement,i=`ScheduledStreamNotificationToast_${e.id}`;c.default.$bvToast.hide(i);const n=undefined,o=a((await S()).default,{props:{toast:e}});c.default.$bvToast.toast([o],{id:i,noAutoHide:!0,appendToast:!0,toaster:"b-toaster-bottom-left",toastClass:"m-without-timer"})}}catch{}}}},363345:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return w},getters:function(){return S},mutations:function(){return P},state:function(){return v}});var a=s(682492),r=s.n(a),i=s(333948),n=s(782677),o=s(617875),d=s(8056),c=s(999023),l=s(990733);const u=()=>l.ZP.post(`${l.tW}/emails/resend`).then((e=>e.data));var m=s(483190),h=s(243168),f=s(172462),p=s(914786),g=s(265823);const y=()=>({activityHubAllowed:"",activityHubTokens:[],appOtp:!1,autoMessage:[],countries:[],countriesLoading:!1,darkMode:!!p.Z.getItem("dark_mode"),isDeleteInitiated:null,lastSubscriptionExpiredAt:null,spotifyArtistsItems:{},spotifyBio:{displayName:"",anthem:null,topArtists:[]},spotifyTop:{myTopArtists:[],myTopTracks:[]},isOpenseaConnected:void 0,openSea:{assets:[],isLoading:!1,hasMore:!1},spotifyTracksItems:{},states:{},streamingObsKey:"",streamingMuxServer:"",streamingMuxKey:"",streamingMuxKeyExpiredAt:null,streamingRtmpServer:"",streamingRtmpKey:"",paymentsLoaded:!1,unavailablePaymentGates:[],showFullTextInEmailNotify:!1,isEmailNotificationsEnabled:!1,recommenderReward:null,isAutoFollowBack:!1,unfollowAutoFollowBack:!1,isPrivate:void 0,blockedCountries:void 0,blockedStates:void 0,blockedIps:void 0,showPostsTips:void 0,showFriendsToSubscribers:void 0,disableSubscribesOffers:void 0,showSubscribesOffers:void 0,isOldLoginRedirect:void 0,canAcceptMessageOnlyFromFriends:!1,runningActions:[],existedUsernames:{},confirmEmailSentAt:null,sendAwardsTop1:!1,sendAwardsTop5:!1,coStreamingRequestFrom:void 0,isCoStreamingAllowed:!1,socialsConnects:[],phoneOtp:!1,faceOtp:!1,isLoading:!1,messageSettingsNotifications:null,notifyOnAllMentions:!1,commentsOnlyForPayers:!1,isDrmEnabled:!1,passwordlessDevices:[]}),v=y(),S={allSettings:e=>e,userLoginPrefix:(e,t,s)=>s.init.settings.userLoginPrefix,isImageWatermarkNeeded:(e,t,s)=>s.init.settings.isImageWatermarkNeeded,countriesList:e=>e.countries.filter((({id:e})=>![163,19].includes(e))),countriesListAll:e=>e.countries,statesByCounty:e=>t=>e.states[t]||[],spotifyTop:e=>e.spotifyTop,spotifyTopArtistsIds:e=>e.spotifyTop.myTopArtists,spotifyTopArtists:e=>e.spotifyTop.myTopArtists.map((t=>e.spotifyArtistsItems[t])),spotifyTopTracks:e=>e.spotifyTop.myTopTracks.map((t=>e.spotifyTracksItems[t])),spotifyBioTopArtistsIds:e=>e.spotifyBio.topArtists||[],spotifyBioTopArtists:e=>e.spotifyBio.topArtists?e.spotifyBio.topArtists.map((t=>e.spotifyArtistsItems[t])):[],spotifyBioAnthem:e=>e.spotifyBio.anthem,replyOnSubscribeTemplate:e=>e.autoMessage.filter((({template:e})=>"reply_on_subscribe"===e))[0],hasRunningActions:e=>t=>e.runningActions.includes(t),isNewTipsSettingEnabled:({messageSettingsNotifications:e})=>{if(!e)return null;const t=e.find((({code:e})=>"you_and_your_posts"===e));if(!t)return null;const s=t.items.find((({code:e})=>"new_tips"===e));return s?s.isEnabled:null}},P={switchTheme(e){e.darkMode=!e.darkMode,document.documentElement.classList.toggle("m-mode-dark",e.darkMode),e.darkMode?p.Z.setItem("dark_mode",e.darkMode):p.Z.removeItem("dark_mode")},setCountries(e,t){e.countries=t.map((e=>({...e,hasStatesIso:!0})))},setCountry(e,t){const s=e.countries.findIndex((e=>e.code===t.code));s>-1?e.countries[s]=t:e.countries.push(t)},setCountriesLoading(e,t){e.countriesLoading=t},setConfirmEmail(e,t){e.confirmEmailSentAt=t},setStates(e,t){e.states=r()({},e.states,t)},setSettings(e,t){Object.assign(e,t)},setHubToken(e,t){Object.assign(e.activityHubTokens,t)},addHubToken(e,t){e.activityHubTokens.push(t)},deleteHubToken(e,t){e.activityHubTokens=e.activityHubTokens.filter((e=>e.id!==t))},deleteAutoMessage(e,t){e.autoMessage=e.autoMessage.filter((e=>e.template!==t))},setSpotifyTop(e,t){Object.assign(e.spotifyTop,t)},setSpotifyTopArtists(e,t){e.spotifyTop.myTopArtists=t},setSpotifyTopTracks(e,t){e.spotifyTop.myTopTracks=t},setSpotifyBioAnthem(e,t){e.spotifyBio.anthem=t},setSpotifyBioName(e,t){e.spotifyBio.displayName=t},setSpotifyBioTopArtists(e,t){e.spotifyBio.topArtists=t},resetSpotifyBio(){v.spotifyBio={displayName:"",anthem:null,topArtists:[]}},setPaymentsLoaded(e,t){e.paymentsLoaded=t},setUnavailablePaymentGates(e,t){e.unavailablePaymentGates=(t||[]).filter((({status:e})=>"fail"===e)).map((e=>e.name))},setAutoMessage(e,t){e.autoMessage.length?(e.autoMessage.splice(0,1),e.autoMessage.push(t)):e.autoMessage.push(t)},setAutoMessageCustomThumb(e,t){const{template:s,...a}=t,r=(0,g.I)(s.media,a),i={...s,media:r};e.autoMessage.length&&e.autoMessage.splice(0,1),e.autoMessage.push(i)},setAutoMessages(e,t){e.autoMessage=t},addRunningActions(e,t){e.runningActions.push(t)},removeRunningActions(e,t){e.runningActions=e.runningActions.filter((e=>e!==t))},setNewEmail(e,t){e.newEmail=t},setSettingField(e,{field:t,status:s}){e[t]=s},setExistedUsernames(e,t={}){e.existedUsernames=t},deleteGoogle(e){e.socialsConnects=e.socialsConnects.filter((e=>"google"!==e.provider))},setIsLoading(e,t){e.isLoading=t},addOpenSeaAssets(e,t){e.openSea.assets=[...e.openSea.assets,...t.assets],e.openSea.hasMore=t.hasMore},setOpenSeaIsLoading(e,t){e.openSea.isLoading=t},clearOpenSeaAssets(e){e.openSea.assets=[],e.openSea.hasMore=!1},setMessageSettingsNotifications(e,t){e.messageSettingsNotifications=t},setPasswordlessDevices(e,t=[]){e.passwordlessDevices=t},logout(e){Object.assign(e,y())}},w={async fetchCountries({commit:e,state:t}){try{if(!t.countries.length&&!t.countriesLoading){e("setCountriesLoading",!0);const t=undefined;e("setCountries",await(0,o.ox)()),e("setCountriesLoading",!1)}}catch(s){}},async createConfirmEmail({commit:e}){try{const t=await u();return t&&t.success&&e("setConfirmEmail",t.confirmEmailSentAt),t}catch(t){return(0,f.Po)(t),{}}},async fetchCountriesStates({commit:e,state:t},s){try{var a;if(null===(a=t.states[s])||void 0===a||!a.length){const t=await(0,o.Yx)(s);if(Array.isArray(t)&&t.length){const a=undefined;e("setStates",{[s]:t})}}}catch(r){}},async fetchCountriesStatesIso({commit:e},t){try{const s=await(0,o.G)(t.code);if(null!=s&&s.length){const a=undefined;e("setStates",{[t.id]:s})}e("setCountry",{...t,hasStatesIso:!1})}catch(s){}},async createHubToken({commit:e}){try{const t=undefined;e("addHubToken",await(0,o.Ei)())}catch(t){(0,f.Po)(t)}},async fetchUserSettings({commit:e,getters:t}){if(!t.hasRunningActions("fetchUserSettings")){e("addRunningActions","fetchUserSettings");try{const t=undefined;e("setSettings",await(0,c.nS)())}catch(s){}e("removeRunningActions","fetchUserSettings")}},async deleteHubTokenAction({commit:e},t){let s;try{var a;s=await(0,o.F2)(t),null!==(a=s)&&void 0!==a&&a.success&&e("deleteHubToken",t)}catch(r){}return s},async fetchSpotifyTop({commit:e}){try{const t=await(0,m.q6)();if(t){if(t.myTopArtists){const s=(0,n.Fv)(t.myTopArtists,h.W4);e("set",s,{root:!0}),e("setSpotifyTopArtists",s.result)}if(t.myTopTracks){const s=(0,n.Fv)(t.myTopTracks,h.zA);e("set",s,{root:!0}),e("setSpotifyTopTracks",s.result)}}}catch(t){}},async fetchSpotifyTopArtists({commit:e}){try{const t=await(0,m.$d)(),s=(0,n.Fv)(t,h.W4);e("set",s,{root:!0}),e("setSpotifyTopArtists",s.result)}catch(t){}},async fetchSpotifyTopTracks({commit:e}){try{const t=await(0,m.Zo)(),s=(0,n.Fv)(t,h.zA);e("set",s,{root:!0}),e("setSpotifyTopTracks",s.result)}catch(t){}},async fetchSpotifyBio({commit:e},t){try{const s=await(0,m.U1)(t);if(s.topArtists){const t=(0,n.Fv)(s.topArtists,h.W4);e("set",t,{root:!0}),e("setSpotifyBioTopArtists",t.result)}else e("setSpotifyBioTopArtists",null);e("setSpotifyBioAnthem",s.anthem),e("setSpotifyBioName",s.displayName)}catch(s){}},async fetchSpotifySearch({commit:e},t){if(t)try{const s=await(0,m.MO)(t),a=(0,n.Fv)(s,h.zA);e("set",a,{root:!0}),e("setSpotifyTopTracks",a.result)}catch(s){}},async sendSpotifyArtists({commit:e},t){let s;try{var a;s=await(0,m.tf)(t),null!==(a=s)&&void 0!==a&&a.success&&e("setSpotifyBioTopArtists",t)}catch(r){(0,f.Po)(r)}return s&&s.success},async sendSpotifyAnthem(e,t){try{const e=await(0,m.JT)(t);return e&&e.success}catch(s){(0,f.Po)(s)}return!1},async saveAutoMessage({},e){try{return await(0,o._p)(e)}catch(t){(0,f.Po)(t)}return!1},async fetchAutoMessageTemplate({commit:e}){const t=await(0,o.Zt)();return e("setAutoMessages",t),t},async deleteAutoMessageTemplate({commit:e},t){let s;try{var a;s=await(0,o.vY)(t),null!==(a=s)&&void 0!==a&&a.success&&e("deleteAutoMessage",t)}catch(r){}return s},async updateUserSettingsMessages({commit:e},t){try{const s=await(0,o.Hz)(t);return s&&e("setSettings",s),!0}catch(s){(0,f.Po)(s)}return!1},async disableGoogle({commit:e}){try{const t=undefined;(await(0,c.z6)({network:"google"})).success&&e("deleteGoogle")}catch(t){(0,f.Po)(t)}},async addOpenSeaWallet({dispatch:e},t){try{const{success:s}=await(0,d.$z)(t);s&&await e("fetchUserSettings")}catch(s){(0,f.Po)(s)}},async deleteOpenSeaWallet({commit:e,dispatch:t}){try{const{success:s}=await(0,d.m_)();s&&(e("clearOpenSeaAssets"),t("auth/fetchUserMe",null,{root:!0}),t("fetchUserSettings"))}catch(s){(0,f.Po)(s)}},async fetchOpenSeaAssets({commit:e,state:t},s=!1){try{e("setOpenSeaIsLoading",!0);const a=undefined;e("addOpenSeaAssets",s?await(0,d.bm)({offset:t.openSea.assets.length,limit:9}):await(0,d.GK)({offset:t.openSea.assets.length,limit:9}))}catch(a){(0,f.Po)(a)}finally{e("setOpenSeaIsLoading",!1)}},async setOpenSeaAvatar({dispatch:e},t){try{const{success:s}=await e("users/patchUser",{avatar:{opensea:t}},{root:!0});if(s)return e("auth/fetchUserMe",null,{root:!0}),!0}catch(s){return(0,f.Po)(s),!1}},async setOpenSeaNfts({commit:e,dispatch:t,rootGetters:s},a){try{const r=await(0,d.Pt)({ids:a});if(r.success){const a=undefined;return e("users/setHasNft",{userId:s["auth/authUser"].id,hasNft:r.hasNft},{root:!0}),e("clearOpenSeaAssets"),await t("fetchOpenSeaAssets",!0),!0}}catch(r){return(0,f.Po)(r),!1}},async resetObsKey({commit:e}){try{const t=await(0,o.ar)();t.streamingObsKey&&e("setSettings",t)}catch(t){(0,f.Po)(t)}},async generateStreamingToken({commit:e},t){try{const s=undefined;e("setSettings",await(0,o.ar)(t))}catch(s){(0,f.Po)(s)}},async fetchMessageSettingsNotifications({commit:e}){try{const t=undefined;e("setMessageSettingsNotifications",await(0,o.Xg)("message"))}catch(t){}}}},556208:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return y},getters:function(){return p},mutations:function(){return g},shopifyProductSchema:function(){return u},shopifyProductsListSchema:function(){return m},state:function(){return f}});var a=s(682492),r=s.n(a),i=s(333948),n=s(782677),o=s(990733);const d=({userId:e})=>o.ZP.get(`${o.tW}/users/${e}/shopify/stores`).then((({data:e})=>e)),c=e=>o.ZP.delete(`${o.tW}/shopify/stores/${e}`).then((e=>e.data)),l=(e,t={})=>o.ZP.get(`${o.tW}/users/${e}/shopify/products${(0,o.XP)(t)}`).then((e=>e.data)),u=new n.fK.Entity("shopifyProducts"),m=new n.fK.Array(u),h=()=>({loading:!1,stores:[],shopifyProducts:{},shopifyProductsIds:[]}),f={loading:!1,stores:[],shopifyProducts:{},shopifyProductsIds:[]},p={shopifyProducts:e=>e.shopifyProductsIds.map((t=>e.shopifyProducts[t])).filter((e=>e))},g={setShopifyStores(e,t=[]){e.stores=t},setLoading(e,t){e.loading=t},addShopifyStore(e,t){e.stores.push(t)},removeShopifyStore(e,t){e.stores=e.stores.filter((e=>e.id!==t))},setShopifyProducts(e,{data:t={},more:s=!1}={}){var a;null!=t&&null!==(a=t.entities)&&void 0!==a&&a.shopifyProducts&&(e.shopifyProducts=r()({},e.shopifyProducts,t.entities.shopifyProducts)),e.shopifyProductsIds=[...new Set([...s?e.shopifyProductsIds:[],...(null==t?void 0:t.result)||[]])]},logout(e){Object.assign(e,{loading:!1,stores:[],shopifyProducts:{},shopifyProductsIds:[]})}},y={fetchShopifyStores:async({commit:e,rootState:t},{userId:s}={})=>{e("setLoading",!0),e("setShopifyStores");try{s=s||t.auth.user;const a=await d({userId:s});Array.isArray(a)&&a.length&&e("setShopifyStores",a)}catch(a){}e("setLoading",!1)},deleteShopifyStore:async({commit:e},t)=>{try{await c(t)&&e("removeShopifyStore",t)}catch(s){}},async fetchShopifyProducts({commit:e,rootState:t},{userId:s,...a}){a.marker||e("setShopifyProducts");try{const{list:r,hasMore:i,marker:o}=await l(s||t.auth.user,a);if(Array.isArray(r)&&r.length){const t=undefined;e("setShopifyProducts",{data:(0,n.Fv)(r,m),more:!!a.marker})}return{hasMore:i,marker:o}}catch(r){}return{hasMore:!1,marker:null}}}},325928:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return M},getters:function(){return C},mutations:function(){return L},state:function(){return k}});var a=s(845220),r=s.n(a),i=s(227361),n=s.n(i),o=s(333948),d=s.n(o),c=s(141817),l=s.n(c),u=s(727484),m=s.n(u),h=s(782677),f=s(53189),p=s(999023),g=s(243168),y=s(310569),v=s(815984);const{$emit:S,EVENTS:P}=(0,v.Z)(),w=()=>Promise.all([s.e(19849),s.e(95623),s.e(45223),s.e(20478),s.e(5898),s.e(83268),s.e(11094),s.e(2681)]).then(s.bind(s,412619)),b=()=>s.e(82986).then(s.bind(s,482986)),I=()=>({isOpened:!1,isOpenedWithConnecting:!1,isOpenedInErrorReadyState:!1,isConnected:!1,reconnectError:!1,countOnlineRequests:0,toastsThrottle:0,lastEventTime:0}),k={isOpened:!1,isOpenedWithConnecting:!1,isOpenedInErrorReadyState:!1,isConnected:!1,reconnectError:!1,countOnlineRequests:0,toastsThrottle:0,lastEventTime:0},C={socketOpened:e=>e.isOpened,socketOpenedWithConnection:e=>e.isOpenedWithConnecting,socketOpenedWithErrorState:e=>e.isOpenedInErrorReadyState,socketConnected:e=>e.isConnected,socketReconnectError:e=>e.reconnectError,countOnlineRequests:e=>e.countOnlineRequests,socketLastEventTime:e=>e.lastEventTime};let T;const L={SOCKET__ONCONNECTING(e){e.isOpened=!1,e.isOpenedWithConnecting=!1,e.isOpenedInErrorReadyState=!1,e.isConnected=!1,e.lastEventTime=0,e.reconnectError=!1,e.countOnlineRequests=0,e.toastsThrottle=0},SOCKET_ONOPEN(e,t){const{readyState:s,OPEN:a,CONNECTING:r}=t.currentTarget;if(s===a)return e.isOpened=!0,void(e.isOpenedWithConnecting=!1);s!==r?(e.isOpenedInErrorReadyState=s,e.isOpenedWithConnecting=!1):e.isOpenedWithConnecting=!0},SOCKET__CONNECTED(e){e.isConnected=!0,e.isOpenedWithConnecting=!1},SOCKET_ONCLOSE(e){e.isOpened=!1,e.isConnected=!1,e.reconnectError=!1,e.lastEventTime=0,e.openedWithErrorState=null,e.isOpenedWithConnecting=!1},SOCKET_ONERROR(){},SOCKET_RECONNECT(){},SOCKET_RECONNECT_ERROR(e){e.reconnectError=!0},incCountOnlineRequests(e){e.countOnlineRequests+=1},decrCountOnlineRequests(e){e.countOnlineRequests-=1},setToastsThrottle(e,t){e.toastsThrottle=t},updateLastEventTime(e){e.lastEventTime=Date.now()},logout(e){Object.assign(e,{isOpened:!1,isOpenedWithConnecting:!1,isOpenedInErrorReadyState:!1,isConnected:!1,reconnectError:!1,countOnlineRequests:0,toastsThrottle:0,lastEventTime:0})}},M={async SOCKET_ONMESSAGE({commit:e,dispatch:t,rootState:s,rootGetters:a,state:i},o){if(null!=o&&o.data){const{data:I}=o,k=f.default.$route.name;let C;try{C=JSON.parse(I)}catch(v){Sentry.captureException(v)}const L=document.activeElement&&document.activeElement.tagName&&("INPUT"===document.activeElement.tagName&&"text"===document.activeElement.type||"TEXTAREA"===document.activeElement.tagName);if(C){if([6,7].includes(C.error))return t("auth/fetchUserAuthToken",{},{root:!0}),void f.default.$socket.close();"function"==typeof doPong&&doPong(C);const o=a["auth/authUserId"],I=a["auth/authUser"];if(e("updateLastEventTime"),C.connected&&e("SOCKET__CONNECTED"),void 0!==C.online&&(e("users/setOnline",C.online,{root:!0}),e("decrCountOnlineRequests")),C.account_connect&&t("users/addConnectedAccount",{userData:{connectedUser:C.account_connect.user,canConnectOfAccount:C.account_connect.canConnect}},{root:!0}),C.account_disconnect&&e("users/removeConnectedAccount",{userId:o,accountId:C.account_disconnect.userId,userData:{canConnectOfAccount:C.account_disconnect.canConnect,success:!0}},{root:!0}),C.account_switch)try{const e=await(0,p.MD)(),{id:t}=e;null!==t&&t===C.account_switch.user_id||(window.showPreloader(),f.default.$emit("removeAllBeforeUnloadListeners"),f.default.$nextTick((()=>{window.location.reload()})))}catch(v){}if(C.api2_chat_message){var d;const a=C.api2_chat_message,i=+a.id,c={...a,id:i},l=c.fromUser||c.toUser;l&&(c.chatId=l.id),l.id=+l.id;const u=!!c.toUser;delete c.toUser,c.fromUser||(c.fromUser={id:o}),"Chat"===k&&+n()(f.default,"$route.params.chatId",0)==+l.id&&(c.needMarkChatAsRead=!0);const m=(0,h.Fv)(c,g.w1);e("set",m,{root:!0}),await t("users/getUsersIfNeeded",{entities:{users:{[l.id]:{_views:["m"]}}}},{root:!0});const p=m.result,{currentFiltersIds:y}=s.usersLists,v=n()(l,"listsStates",!1),S=!v||v.some((e=>y[0]===e.id&&e.hasUser)),P=!(!a.isTip&&y.includes("who_tipped")&&a.isFromQueue&&y.includes("priority"));!s.chats.chats.includes(l.id)&&P&&S&&e("chats/addChats",{ids:[l.id]},{root:!0}),(!c.isFromQueue||c.isFromQueue&&"Chat"===k&&+n()(f.default,"$route.params.chatId",0)==+c.fromUser.id)&&t("chats/newMessageFromSocket",{id:l.id,messageIds:p,add:!0,before:!1,ownMsg:u,isSocket:!0,listsStates:l.listsStates||[]},{root:!0}),e("chats/setChatTyping",{chatId:l.id,status:!1},{root:!0}),e("chats/setLastMessage",{chatId:l.id,messageId:p,ownMsg:u,isNew:c.isNew},{root:!0});const w=n()(a,"fromUser.id",null);!a.isFromQueue||r()(w)||r()(o)||w!==o||f.default.$root.$emit("updateScheduledMessage",a),e("chats/setNewMessageIds",l.id,{root:!0});const b=s.schedule.items.find((({entity:e})=>e.id===i)),I=s.schedule.dayItems.find((({entity:e})=>e.id===i)),T=(b&&!b.entity.isMediaReady||I&&!I.entity.isMediaReady)&&a.isMediaReady,L=null===(d=a.media)||void 0===d?void 0:d.some((({hasError:e})=>e));["MyQueue","Feed"].includes(k)&&(T||L)&&(e("schedule/updateScheduledEvent",a,{root:!0}),e("schedule/setItemsByDate",{},{root:!0}),e("schedule/updateDayItemScheduledEvent",a,{root:!0}))}if(C.chat_queue_finish){const s=+C.chat_queue_finish.id;C.chat_queue_finish.isCanceled?t("chats/delMessagesQueue",{id:s},{root:!0}):C.chat_queue_finish.isDone&&t("chats/fetchMessagesQueue",{},{root:!0}),t("schedule/fetchEventsCounters",{params:{"filter[publishDate]":m()().format("YYYY-MM-DD")}},{root:!0}),e("schedule/messagePublished",s,{root:!0}),e("schedule/setItemsByDate",{},{root:!0}),f.default.$root.$emit("updateChatsList")}if(void 0!==C.sflSyncInProcess&&"MyQueue"===k&&f.default.$root.$emit("sflSyncProcessFinished"),void 0!==C.chat_messages&&e("users/setChatMessagesCount",{userId:s.auth.user,chatMessagesCount:C.chat_messages},{root:!0}),void 0!==C.count_priority_chat&&e("users/setChatPriorityCount",{userId:s.auth.user,countPriorityChat:C.count_priority_chat},{root:!0}),void 0!==C.unread_tips&&e("users/setUnreadTips",{userId:s.auth.user,value:C.unread_tips},{root:!0}),C.chat_queue_update&&f.default.$root.$emit("update_queue"),void 0!==C.chat_message_delete){const s=a["chats/getMessage"](C.chat_message_delete),r=s&&s.chatId,i=!!s&&s.isPinned;if(e("chats/deleteMessageById",C.chat_message_delete,{root:!0}),r&&i){e("chats/setChatMessagesPinnedCount",{chatId:r,value:!1},{root:!0});const s=a["chats/getChat"](r);s&&0===s.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0})}}if(void 0!==C.chat_message_like&&e("chats/setMessageIsLiked",{messageId:C.chat_message_like,value:!0},{root:!0}),void 0!==C.chat_message_unlike&&e("chats/setMessageIsLiked",{messageId:C.chat_message_unlike,value:!1},{root:!0}),void 0!==C.addShopifyStore&&e("shopify/addShopifyStore",C.addShopifyStore,{root:!0}),void 0!==C.dropShopifyStore&&e("shopify/removeShopifyStore",C.dropShopifyStore.id,{root:!0}),void 0!==C.messages&&e("users/setUserNotificationsCount",{userId:s.auth.user,notificationsCount:C.messages,hasSystemNotifications:C.hasSystemNotifications},{root:!0}),C.new_message){const{new_message:a}=C,r=[a.type,y.C6].includes(s.users.notificationsType);s.users.notificationsType&&(await t("users/getUsersIfNeeded",{entities:{users:{[a.user.id]:{_views:["m"]}}}},{root:!0}),k.includes("Notifications")&&r&&e("users/setNotifications",{notifications:[{...a,id:+a.id}],more:!1,unread:!0},{root:!0}),e("users/setNotificationsCountsByType",a.type,{root:!0})),r&&(e("users/setUserNotificationsCount",{userId:s.auth.user,notificationsCount:s.users.notificationsCounts.all},{root:!0}),t("users/setNotificationsReadByType",s.users.notificationsType,{root:!0}))}if(void 0!==C.typing&&(T&&clearInterval(T),e("chats/setChatTyping",{chatId:C.typing.id,status:!0},{root:!0}),T=setTimeout((()=>{e("chats/setChatTyping",{chatId:C.typing.id,status:!1},{root:!0})}),5e3)),void 0!==C.stream){const{stream:t}=C,s=+t.id;return void("Feed"===k&&e("schedule/updateReminder",{id:s,fields:{price:t.price,description:t.description,scheduledAt:t.scheduledAt,startedAt:t.startedAt}},{root:!0}))}if(void 0!==C.stream_remove){const{stream_remove:t}=C,s=+t.id;return e("schedule/removeFromReminder",s,{root:!0}),void e("streams/removeItem",s,{root:!0})}if(void 0!==C.stream_start){const r=C.stream_start,i=+r.userId,n=+r.stream_id;if(e("users/setUserField",{userId:i,field:"hasStream",status:!0},{root:!0}),("Profile"===k||"ProfileInner"===k)&&a["users/userId"]===i||"Feed"===k||"Purchased"===k||"Blurred"===k||"StreamingChat"===k&&i===o){if(await t("streams/fetchUserStream",i,{root:!0}),e("streamsScheduled/removeIds",[n],{root:!0}),"StreamingChat"===k){const{local:e,streamingChatEnabled:r}=s.streaming;if(!e.stream.id&&!r){const e=undefined,s=a["streams/streamsByUserId"][i];s&&s.isActive&&(s.user=a["users/getUser"](s.user),await t("streaming/enableStreamingChat",s,{root:!0}))}}"Feed"===k&&e("schedule/updateReminder",{id:n,fields:{isActive:!0}},{root:!0})}return}if(void 0!==C.stream_update){const{stream_update:a}=C,r=s.live.streams;"Feed"===k&&e("schedule/updateReminder",{id:a.id,fields:{price:a.price,description:a.description,scheduledAt:a.scheduledAt,startedAt:a.startedAt}},{root:!0}),e("streams/updateItem",a,{root:!0}),"Live"===k&&r[a.user.id]&&(+a.primaryPartnerUserId==+a.user.id?t("live/setStreamData",a,{root:!0}):t("live/setUserStreamData",a,{root:!0}));const{local:i,partners:n}=s.streaming;if(+a.id==+i.stream.id)t("streaming/setStreamData",a,{root:!0});else if(n[a.user.id]){const e=+a.primaryPartnerUserId==+a.user.id?"primary":"partner";t("streaming/setPartnerUserStreamData",{instance:a.user.id,streamData:a,partnerType:e,applyTips:!0},{root:!0})}return}if(void 0!==C.stream_stop){var c;const a=C.stream_stop,r=+a.stream_user_id,i=+a.stream_id;t("streams/removeStreamFromFeed",i,{root:!0}),e("users/setUserField",{userId:r,field:"hasStream",status:!1},{root:!0});const n=s.live.streams;n[r]&&"beforeStart"===n[r].streamState&&e("live/setStreamState",{value:"stopped",instance:r},{root:!0});const{streamingChatEnabled:d,local:l}=s.streaming;d&&r===o&&i===(null===(c=l.stream)||void 0===c?void 0:c.id)&&t("streaming/disableStreamingChat",{},{root:!0}),r===o&&i&&f.default.$bvToast.hide(`ScheduledStreamNotificationToast_${i}`);const u=undefined;return void(s.schedule.reminders.find((e=>e.id===i))&&t("schedule/fetchReminders",{},{root:!0}))}if(void 0!==C.stream_comment){const e=C.stream_comment,{local:r}=s.streaming,i=a["live/primary"],n=a["streaming/primary"],o=s.streaming.mode||s.live.mode,d={id:e.comment_id,text:e.comment,user:e.user,isPrivate:!!e.isPrivate};switch(o){case"live":case"dual-live":+e.stream_user_id==+i.user.id&&t("live/addComment",d,{root:!0});break;case"streaming":case"dual-streaming":r.stream.id&&+e.stream_user_id==+n.user.id&&t("streaming/addComment",d,{root:!0})}return}if(void 0!==C.stream_comment_error){const e=C.stream_comment_error;switch(e.errorType){case"bad_words":f.default.$bvToast.toast(f.default.$root.$t("message.stream_comment_error_restricted_message",{WORDS:e.badWords.join(", ")}),y.TQ);break;case"empty_comment":f.default.$bvToast.toast(f.default.$root.$t("message.stream_comment_error_empty_message"),y.TQ)}return}if(void 0!==C.stream_tips){const r=C,{stream_tips:i}=r;if(i.stream_user_id=+i.stream_user_id,i.stream_id=+i.stream_id,!["Streaming","Live","StreamingChat"].includes(k))return;if(!i.amount)return;const{local:n}=s.streaming,d=undefined;let c;switch(s.streaming.mode||s.live.mode){case"live":case"dual-live":({streams:c}=s.live),c[i.stream_user_id]&&(e("live/setStreamStream",{stream:{tipsSumm:+parseFloat(r.tips_summ).toFixed(2)},instance:i.stream_user_id},{root:!0}),t("live/addTipsComment",i,{root:!0}),+r.is_show_tips_goal&&t("live/setTipGoal",{data:{isShowTipGoal:!!+r.is_show_tips_goal,description:r.tips_goal,progress:+r.tips_goal_progress,sum:+r.tips_goal_sum},instance:i.stream_user_id},{root:!0}));break;case"streaming":+n.stream.id==+i.stream_id&&+n.user.id==+o&&(t("streaming/addTips",i,{root:!0}),+n.stream.id==+i.stream_id&&e("streaming/setLocalStream",{tipsSumm:+parseFloat(r.tips_summ).toFixed(2)},{root:!0}),e("streaming/setTipGoal",{sum:+r.tips_goal_sum,progress:+r.tips_goal_progress,description:r.tips_goal},{root:!0}));break;case"dual-streaming":c=a["streaming/streams"],c[i.stream_user_id]&&(t("streaming/addTips",i,{root:!0}),+n.stream.id==+i.stream_id?(e("streaming/setLocalStream",{tipsSumm:+parseFloat(r.tips_summ).toFixed(2)},{root:!0}),e("streaming/setTipGoal",{sum:+r.tips_goal_sum,progress:+r.tips_goal_progress,description:r.tips_goal},{root:!0})):(e("streaming/setPartnerStream",{stream:{tipsSumm:+parseFloat(+r.tips_summ||+r.tips_goal_progress).toFixed(2)},instance:i.stream_user_id},{root:!0}),+r.tips_goal_sum>0&&e("streaming/setPartnerTipGoal",{data:{isShowTipGoal:!!+r.is_show_tips_goal,sum:+r.tips_goal_sum,progress:+r.tips_goal_progress,description:r.tips_goal},instance:i.stream_user_id},{root:!0})))}return}if(void 0!==C.stream_look){const{stream_look:a}=C,r=s.streaming.mode||s.live.mode,{streams:i}=s.live,{local:n}=s.streaming;switch(r){case"live":case"dual-live":if(!i[a.stream_user_id])return;+a.user.id==+o&&e("live/setStream",{stream:{streamLookApproved:!0},instance:a.stream_user_id},{root:!0}),e("live/setTotalViewers",a.total,{root:!0}),t("live/joinUser",a.user,{root:!0});break;case"streaming":case"dual-streaming":if(+a.stream_user_id!=+n.user.id)return;e("streaming/setInviteToCoStreamCounter",{userId:a.user.id,action:"init"},{root:!0}),+a.user.id!=+n.user.id&&(e("streaming/setViewersCount",a.total,{root:!0}),t("streaming/joinUser",a.user,{root:!0}))}return}if(void 0!==C.stream_unlook){const{stream_unlook:r}=C,i=s.streaming.mode||s.live.mode,n=a["live/primary"],{local:o}=s.streaming;switch(e("streaming/setIsCoStreamRequested",!1,{root:!0}),i){case"live":case"dual-live":if(!n||+n.user.id!=+r.stream_user_id)return;t("live/leaveUser",r.user,{root:!0}),+n.user.id==+r.stream_user_id&&e("live/setTotalViewers",r.total,{root:!0});break;case"streaming":case"dual-streaming":if(+r.stream_user_id!=+o.user.id)return;+r.user.id!=+o.user.id&&(e("streaming/setViewersCount",r.total,{root:!0}),t("streaming/leaveUser",r.user,{root:!0}))}return}if(void 0!==C.stream_like){const{stream_like:e}=C,{local:r}=s.streaming,i=a["live/primary"];r.stream.id&&t("streaming/addLike",{x:e.x,y:e.y,streamUserId:+e.stream_user_id},{root:!0}),i&&t("live/addLike",{x:e.x,y:e.y,streamUserId:+e.stream_user_id},{root:!0})}if(void 0!==C.stream_helper){const{streamId:t,helperUserIds:r}=C.stream_helper,{local:i}=s.streaming,n=a["streaming/partnersArray"],{streams:o}=s.live;(i.stream.id==t||n.some((e=>e.stream.id==t)))&&e("streaming/updateStreamHelpers",r,{root:!0}),Object.values(o).some((e=>e.stream.id==t))&&e("live/updateStreamHelpers",r,{root:!0})}if(void 0!==C.co_stream){const{co_stream:e}=C;if("request"===e.status){const{local:t,viewers:a,users:r}=s.streaming,i=a.ids.find((t=>t===+e.userId));r[i]&&+e.streamId==t.stream.id&&f.default.$root.$emit("show:co-stream:request",{user:r[i],streamId:t.stream.id})}if("invite"===e.status){const t=a["live/primary"],s=null==t?void 0:t.user;t.stream.id===Number(e.streamId)&&s.id===Number(e.userId)&&f.default.$root.$emit("show:co-streamer:invite",{user:s,streamId:t.stream.id})}if("accept"===e.status){var l,u;const s=a["live/primary"];null!=s&&null!==(l=s.stream)&&void 0!==l&&l.id&&null!=s&&null!==(u=s.user)&&void 0!==u&&u.id&&s.stream.id===+(null==e?void 0:e.streamId)&&s.user.id===+(null==e?void 0:e.userId)&&t("live/switchToDualStreaming",{},{root:!0})}if("decline"===e.status){const{streamId:t,userId:s}=e;f.default.$root.$emit("show:co-stream:decline",{userId:s,streamId:t})}}if(void 0!==C.muted){const t=C.muted.user_id,{state:s}=C.muted,a=undefined;e("chats/setMuted",{id:t,status:+s},{root:!0}),e("users/setUserField",{userId:t,field:"canReceiveChatMessage",status:!s},{root:!0})}if(void 0!==C.post_expire&&e("posts/deletePost",C.post_expire,{root:!0}),void 0!==C.post_published){const a=+C.post_published.id,r=+C.post_published.user_id;if(C.post_published.show_posts_in_feed&&t("posts/postPublished",{id:a,userId:r},{root:!0}),r===o){const r=s.schedule.items.some((({entity:e})=>e.id===a)),i=s.schedule.dayItems.some((({entity:e})=>e.id===a)),n=s.savedForLater.itemsSFL.some((({entity:e})=>e.id===a));"Feed"===k&&r&&(e("schedule/clearAgendaItems",{},{root:!0}),t("schedule/fetchEventsDetailed",{params:{limit:4,"filter[publishDate]":m()().format("YYYY-MM-DD")}},{root:!0})),"MyQueue"===k&&(r||i)&&(t("schedule/fetchEventsCounters",{params:{"filter[publishDate]":m()().format("YYYY-MM-DD")}},{root:!0}),e("schedule/postPublished",a,{root:!0}),e("schedule/setItemsByDate",{},{root:!0})),"SavedForLater"===k&&n&&e("savedForLater/postPublished",a,{root:!0})}}if(void 0!==C.post_updated){const e=+C.post_updated;["Feed","Post","Profile","ProfileInner","PostsEdit"].includes(k)&&t("posts/fetchPost",{id:e,onlyExisted:!0},{root:!0}),t("schedule/updatePost",e,{root:!0}),t("savedForLater/updateSFLPost",e,{root:!0})}if(void 0!==C.post_fundraising_updated&&e("posts/updatePost",C.post_fundraising_updated,{root:!0}),C.toasts&&!L&&!document.hidden){const{toasts:s}=C;if(["Streaming","Live","StreamingChat"].includes(k))return;s.forEach((async s=>{var a,r;null!==(a=s.data)&&void 0!==a&&null!==(r=a.relatedUser)&&void 0!==r&&r.id&&await t("users/getUsersIfNeeded",{entities:{users:{[s.data.relatedUser.id]:{_views:["m"]}}}},{root:!0});const n=+new Date;if(i.toastsThrottle&&i.toastsThrottle+5e3>n)return;e("setToastsThrottle",n);const o="streams_reminder"===s.type,d=f.default.$createElement,c=undefined;let l=(await w()).default,u=s,m={...y.TQ};if(o){const e=undefined;l=(await b()).default,u={scheduledAt:s.data.replacements["{STREAM_PUBLISH_DATE}"],id:+s.data.replacements["{STREAM_ID}"],description:s.data.replacements["{STREAM_DESCRIPTION}"],media:{files:{thumb:{url:s.data.replacements["{STREAM_COVER}"]}}}};const t=`ScheduledStreamNotificationToast_${u.id}`;m={...m,id:t,noAutoHide:!0,toastClass:"m-without-timer"},f.default.$bvToast.hide(t)}const h=d(l,{props:{toast:u}});f.default.$bvToast.toast([h],m)}))}if(C.logout&&o&&!s.auth.logoutInProgress)try{const s=await(0,p.MD)(),{id:a}=s;null!==a&&a===C.user_id||(e("auth/setLogoutInProgress",!0,{root:!0}),f.default.$router.push({name:"Feed",params:{isLogout:!0}}),t("logout",{},{root:!0}))}catch(v){}C.has_new_alerts&&t("users/fetchAlert",{},{root:!0}),C.has_new_hints&&"Feed"===k&&(e("hints/resetUserHints",{},{root:!0}),t("hints/fetchHints",{},{root:!0}));const M=o;if(void 0!==C.creditBalance&&e("users/setUserField",{userId:M,field:"creditBalance",status:C.creditBalance},{root:!0}),void 0!==C.isRealCardConnected&&(e("users/setUserField",{userId:M,field:"isRealCardConnected",status:C.isRealCardConnected},{root:!0}),e("users/setUserField",{userId:M,field:"isPaymentCardConnected",status:C.isRealCardConnected},{root:!0})),void 0!==C.payoutLegalApproveState){const s="approved"===C.payoutLegalApproveState;e("users/setUserField",{userId:M,field:"payoutLegalApproveState",status:C.payoutLegalApproveState},{root:!0}),e("users/setUserField",{userId:M,field:"payoutLegalApproveRejectReason",status:C.payoutLegalApproveRejectReason},{root:!0}),e("users/setUserField",{userId:M,field:"payoutType",status:C.payoutType},{root:!0}),e("users/setUserField",{userId:M,field:"hasStripe",status:C.hasStripe},{root:!0}),e("users/setUserField",{userId:M,field:"canEarn",status:C.canEarn},{root:!0}),s&&t("auth/fetchUserMe",null,{root:!0})}if(void 0!==C.canReceiveManualPayout&&e("users/setUserField",{userId:M,field:"canReceiveManualPayout",status:C.canReceiveManualPayout},{root:!0}),void 0!==C.needUpdateBanking&&e("users/setUserField",{userId:M,field:"needUpdateBanking",status:C.needUpdateBanking},{root:!0}),void 0!==C.canReceiveStripePayout&&e("users/setUserField",{userId:M,field:"canReceiveStripePayout",status:C.canReceiveStripePayout},{root:!0}),void 0!==C.needIVApprove&&e("users/setUserField",{userId:M,field:"needIVApprove",status:C.needIVApprove},{root:!0}),void 0!==C.showIvButton&&f.default.$root.$emit("msg",{showIvButton:C.showIvButton}),void 0!==C.paymentLocalUniqueId&&f.default.$root.$emit(`msg::paymentLocalUniqueId::${C.paymentLocalUniqueId}`,C.timestamp),void 0!==C.faceIdOtp&&f.default.$root.$emit("msg::faceIdOtp",C.faceIdOtp),void 0!==C.forceFaceIdOtp&&e("users/setUserField",{userId:M,field:"forceFaceOtp",status:C.forceFaceIdOtp},{root:!0}),void 0!==C.confirmed_email&&(e("users/setUserField",{userId:M,field:"isEmailChecked",status:C.confirmed_email===I.email},{root:!0}),e("users/deleteUserHint","email_verification",{root:!0})),C.releaseForm&&f.default.$root.$emit("msg",{releaseForm:C.releaseForm}),void 0!==C.guestAssigned&&e("releaseForms/setUsersFromGuest",C.guestAssigned,{root:!0}),void 0!==C.ivStatus&&(f.default.$root.$emit("msg",{ivStatus:C.ivStatus}),e("users/setUserField",{userId:M,field:"ivStatus",status:C.ivStatus},{root:!0})),void 0!==C.isAgeVerified&&(f.default.$root.$emit("msg",{isAgeVerified:C.isAgeVerified}),e("users/setUserField",{userId:M,field:"isAgeVerified",status:C.isAgeVerified},{root:!0})),void 0!==C.ageVerificationRequired&&(f.default.$root.$emit("msg",{ageVerificationRequired:C.ageVerificationRequired}),!C.ageVerificationRequired&&null!=I&&I.ageVerificationRequired&&f.default.$root.$emit("authUser::age::verified"),e("users/setUserField",{userId:M,field:"ageVerificationRequired",status:C.ageVerificationRequired},{root:!0})),void 0!==C.ivCountry&&(f.default.$root.$emit("msg",{ivCountry:C.ivCountry}),e("users/setUserField",{userId:M,field:"ivCountry",status:C.ivCountry},{root:!0})),void 0!==C.ivFailReason&&(f.default.$root.$emit("msg",{ivFailReason:C.ivFailReason}),e("users/setUserField",{userId:M,field:"ivFailReason",status:C.ivFailReason},{root:!0})),void 0!==C.stories){const e=C.stories.length?C.stories[0]:{};t("stories/storySocketUpdate",e,{root:!0})}if(C.hide_stories_user){const t=+n()(C,"hide_stories_user.user_id");if(!t)return;e("users/setUserField",{userId:t,field:"hasStories",status:!1},{root:!0}),e("users/setUserField",{userId:t,field:"hasNotViewedStory",status:!1},{root:!0}),e("users/setUserField",{userId:t,field:"canLookStory",status:!1},{root:!0}),e("stories/hideUserStories",{userId:t},{root:!0})}if(C.unhide_stories_user){const e=+n()(C,"unhide_stories_user.user_id");if(!e)return;t("users/fetchUser",{id:e},{root:!0}),"Feed"===k&&t("stories/addUserStoriesOnFeed",e,{root:!0}),"Profile"===k&&s.users.currentUser===e&&(t("stories/fetchUserStories",e,{root:!0}),t("stories/fetchUserHighlights",{userId:e,place:"profile"},{root:!0}))}if(void 0!==C.template){const t={...C.template};e("settings/setAutoMessage",t,{root:!0})}if(C.price_changed&&+C.price_changed.user_id!==o&&t("subscribes/fetchSubscribes",{limit:0,type:"changed",more:!0},{root:!0}),void 0!==C.subscribed){const{subscribed:e}=C;if(["Streaming","StreamingChat"].includes(k)){const{local:a,viewers:r}=s.streaming;a.stream.id&&r.ids.find((t=>t===+e.user.id))&&t("streaming/addSubscribedComment",e.user,{root:!0})}}if(C.tickets_comment_count){const{id:t,count:s}=C.tickets_comment_count;e("static/setTicket",{id:t,ticket:{hasNewReplies:!!s,commentCount:s}},{root:!0})}if(void 0!==C.hasNewTicketReplies&&e("users/setUserField",{userId:M,field:"hasNewTicketReplies",status:C.hasNewTicketReplies},{root:!0}),C.queueStats){const{id:t,viewedCount:s,sentCount:a}=C.queueStats;e("massMessagesStat/setMessage",{id:t,viewedCount:s,sentCount:a},{root:!0})}if(void 0!==C.ageVerificationSession&&e("users/setUserField",{userId:M,field:"ageVerificationSession",status:C.ageVerificationSession},{root:!0}),void 0!==C.block_user){const r=+C.block_user.subscriber_id,i=+C.block_user.user_id;if(o===i){e("users/toggleUsersBlockedBy",{userId:r,value:!0},{root:!0});const s=a["chats/getChat"](r);s&&s.countPinnedMessages>0&&t("users/updateChatPinnedCount",{status:-1},{root:!0}),e("chats/deleteChat",r,{root:!0})}o===r&&(e("users/unsetUser",i,{root:!0}),s.users.currentUser===i&&(e("users/setCurrentUser",null,{root:!0}),e("users/setProfileDataLoadingError",!0,{root:!0})),"Chat"===k&&f.default.$route.params&&+f.default.$route.params.chatId===i&&t("chats/fetchChat",i,{root:!0}))}if(void 0!==C.writable_chat){const e=+C.writable_chat.user_id;t("chats/fetchChat",e,{root:!0}),t("users/fetchUser",{id:e},{root:!0})}if(void 0!==C.readonly_chat){const e=+C.readonly_chat.user_id;t("chats/fetchChat",e,{root:!0}),t("users/fetchUser",{id:e},{root:!0})}void 0!==C.faceId&&(C.faceId.result?f.default.$root.$emit("confirmSecurityCheck"):C.faceId.message&&alert(C.faceId.messaged)),void 0!==C.require_terms&&e("users/setUserField",{userId:M,field:"requireTerms",status:C.require_terms},{root:!0}),void 0!==C.update_pinned_chats_counter&&e("users/setUserField",{userId:o,field:"countPinnedChat",status:C.update_pinned_chats_counter},{root:!0}),void 0!==C.need_a_tag_count&&e("users/setUserField",{userId:o,field:"needTagCount",status:C.need_a_tag_count},{root:!0}),Array.isArray(C.sync_duplicated_release_forms)&&"TagsRequired"===k&&C.sync_duplicated_release_forms.forEach((({entity_id:t})=>{e("posts/deletePost",t,{root:!0})})),void 0!==C.isPaywallPassed&&e("users/setUserField",{userId:o,field:"isPaywallPassed",status:C.isPaywallPassed},{root:!0}),void 0!==C.newTagsCount&&e("users/setUserField",{userId:o,field:"newTagsCount",status:C.newTagsCount},{root:!0}),void 0!==C.alternativePaid&&S(P.PAYMENT_PAY_SERVICE_POPUP.PAID,C.alternativePaid),void 0!==C.is_performer&&e("init/setNeededReload",!0,{root:!0})}}}}},487979:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return f},getters:function(){return m},mutations:function(){return h},state:function(){return u}});var a=s(333948),r=s.n(a),i=s(865273),n=s(990733),o=s(927598),d=s(727484),c=s.n(d);const l=()=>({balances:{},stripeBalances:{},earnings:[],disputes:[],payoutRequests:[],documentsVat:[],stripeData:{currentStep:0,lastPayoutId:null,hasMore:!0},payoutStatistics:{},earningsLoading:!1,payoutRequestsLoading:!1,documentsVatLoading:!1,disputesMarker:void 0,earningsMarker:void 0}),u={balances:{},stripeBalances:{},earnings:[],disputes:[],payoutRequests:[],documentsVat:[],stripeData:{currentStep:0,lastPayoutId:null,hasMore:!0},payoutStatistics:{},earningsLoading:!1,payoutRequestsLoading:!1,documentsVatLoading:!1,disputesMarker:void 0,earningsMarker:void 0},m={},h={setEarningsLoading(e,t){e.earningsLoading=t},setPayoutRequestsLoading(e,t){e.payoutRequestsLoading=t},setDocumentsVatLoading(e,t){e.documentsVatLoading=t},setBalances(e,{balances:t,isStripe:s}){s?e.stripeBalances=t:e.balances=t},setEarnings(e,{items:t=[],more:s=!1}={}){e.earnings=s?[...e.earnings,...t]:[...t],e.earnings=(0,o.Z)(e.earnings)},setPayoutRequests(e,{items:t,more:s}){e.payoutRequests=s?[...e.payoutRequests,...t]:[...t]},setDocumentsVat(e,{items:t,more:s}){e.documentsVat=s?[...e.documentsVat,...t]:[...t]},setStripeData(e,{lastPayoutId:t,hasMore:s,currentStep:a}){e.stripeData.lastPayoutId=t,e.stripeData.hasMore=s,void 0!==a&&(e.stripeData.currentStep=a)},setPayoutStatistics(e,t){e.payoutStatistics=t},setDisputes(e,{items:t=[],more:s=!1}={}){e.disputes=s?[...new Set([...e.disputes,...t])]:t},setDisputesMarker(e,t){e.disputesMarker=t},setEarningsMarker(e,t){e.earningsMarker=t},logout(e){Object.assign(e,{balances:{},stripeBalances:{},earnings:[],disputes:[],payoutRequests:[],documentsVat:[],stripeData:{currentStep:0,lastPayoutId:null,hasMore:!0},payoutStatistics:{},earningsLoading:!1,payoutRequestsLoading:!1,documentsVatLoading:!1,disputesMarker:void 0,earningsMarker:void 0})}},f={async fetchBalances({commit:e},{isStripe:t=!1}={}){let s;try{s=await(0,i.$m)(t)}catch(a){s={}}return e("setBalances",{balances:s,isStripe:t}),s},async fetchEarnings({commit:e},{limit:t=n.P9,more:s=!1}={}){e("setEarningsLoading",!0),s||(e("setEarnings"),e("setEarningsMarker"));try{const{list:a,nextMarker:r,hasMore:n}=await(0,i.M5)({limit:t,marker:u.earningsMarker});if(Array.isArray(a))return a.length&&e("setEarnings",{items:a,more:s}),e("setEarningsMarker",r),e("setEarningsLoading",!1),n}catch(a){}e("setEarningsLoading",!1)},async fetchPayoutRequests({commit:e},{limit:t,offset:s,more:a}={}){let r=[];e("setPayoutRequestsLoading",!0),a||e("setPayoutRequests",{items:r,more:a});try{if(s%t==0){const e=undefined;r=(await(0,i.E8)({limit:t,offset:s})).list}}catch(n){}return e("setPayoutRequests",{items:r,more:a}),e("setPayoutRequestsLoading",!1),r},async fetchPayoutRequestsStripe({state:e,commit:t},{limit:s,more:a}={}){let r=[];if(t("setPayoutRequestsLoading",!0),a||(t("setPayoutRequests",{items:r,more:a}),t("setStripeData",{lastPayoutId:null,hasMore:!0,currentStep:0})),e.stripeData.hasMore)try{const a=await(0,i.eq)({limit:s,currentStep:e.stripeData.currentStep,lastPayoutId:e.stripeData.lastPayoutId});r=a.list;const{lastPayoutId:n=null,hasMore:o=!1,currentStep:d=0}=a;t("setStripeData",{lastPayoutId:n,hasMore:o,currentStep:d})}catch(n){}return t("setPayoutRequests",{items:r,more:a}),t("setPayoutRequestsLoading",!1),r},async fetchPayoutStatistics({commit:e},{start:t,end:s}={}){let a;try{const e=undefined;a=(await(0,i.Nv)(t,s,c()().format("Z"))).list}catch(r){a={}}return e("setPayoutStatistics",a),a},async updateWithdrawalPeriod({commit:e,rootGetters:t},{withdrawalPeriod:s,isStripe:a=!1}={}){const r=undefined;if((await(0,i.Nb)({withdrawalPeriod:s,isStripe:a})).success){const r=undefined,i=undefined;e("users/setUserField",{userId:t["auth/authUserId"],field:a?"withdrawalStripePeriod":"withdrawalPeriod",status:s},{root:!0})}},sendPayoutRequest:(e,t)=>(0,i.$p)(t),async fetchPayoutDisputes({commit:e,state:t},{limit:s,more:a}={}){try{a||(e("setDisputes"),e("setDisputesMarker"));const r=await(0,i.Ju)({limit:s,offset:t.disputes.length,marker:t.disputesMarker});return r&&r.list&&r.list.length?(e("setDisputesMarker",r.marker),e("setDisputes",{items:r.list,more:a}),r.list):[]}catch(r){return[]}},async fetchPayoutsReceive({commit:e,rootGetters:t}){const s=t["auth/authUserId"];try{const t=await(0,i._5)();if(t&&"object"==typeof t){const{canReceiveManualPayout:a,isVerifiedReason:r,needUpdateBanking:i,needVerifyPayoutData:n}=t;return void 0!==a&&e("users/setUserField",{userId:s,field:"canReceiveManualPayout",status:a},{root:!0}),void 0!==r&&e("users/setUserField",{userId:s,field:"isVerifiedReason",status:r},{root:!0}),void 0!==i&&e("users/setUserField",{userId:s,field:"needUpdateBanking",status:i},{root:!0}),void 0!==n&&e("users/setUserField",{userId:s,field:"needVerifyPayoutData",status:n},{root:!0}),t}}catch(a){}return{}},async fetchDocumentsVat({commit:e},{limit:t,offset:s,more:a}={}){let r=[];e("setDocumentsVatLoading",!0),a||e("setDocumentsVat",{items:r,more:a});try{if(s%t==0){const e=undefined;r=(await(0,i.PF)({limit:t,offset:s})).list}}catch(n){}return e("setDocumentsVat",{items:r,more:a}),e("setDocumentsVatLoading",!1),r}}},225720:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var a=s(333948),r=s.n(a),i=s(354487),n=s(999023),o=s(782677),d=s(243168),c=s(172462),l=s(990733);const u=()=>({content:{...(window.STATIC_PAGES||[]).filter((e=>"anchor"!==e.type)).map((e=>"help"===e.url?"faq":e.url)).reduce(((e,t)=>({...e,[t]:{}})),{})},searchContent:null,loading:!1,supportTickets:{},ticketsIds:{all:[],closed:[],open:[],solved:[]},ticketsCount:{all:0,closed:0,open:0,solved:0},repliesIds:{},ticketReplies:{}}),m=u(),h={getContentByName:e=>t=>e.content[t]||{},supportTicketsIds:e=>(t="all")=>e.ticketsIds[t]&&e.ticketsIds[t].length?e.ticketsIds[t].filter((s=>"all"===t||e.supportTickets[s].status===t)):[],supportTicket:e=>t=>e.supportTickets[t],ticketReplies:e=>t=>e.repliesIds[t]?e.repliesIds[t].map((t=>e.ticketReplies[t])):[],ticketRepliesIds:e=>t=>e.repliesIds[t]||[],ticketReply:e=>t=>e.ticketReplies[t]},f={setContent(e,{content:t,name:s}){e.content[s]=t},setSearchContent(e,t){e.searchContent=t},setLoading(e,t){e.loading=t},reset(e,t){e.content[t]=null},resetSearchContent(e){e.searchContent=null},setTicketsIds(e,{ids:t=[],more:s=!1,before:a=!1,status:r="all"}){e.ticketsIds[r]=s?a?[...t,...e.ticketsIds[r]]:[...e.ticketsIds[r],...t]:t,e.ticketsIds[r]=[...new Set(e.ticketsIds[r])].filter((e=>!!e))},setTicketsCount(e,{count:t,more:s=!1,status:a="all"}){s?e.ticketsCount[a]+=t:e.ticketsCount[a]=t},setTicket(e,{id:t,ticket:s={}}){e.supportTickets[t]={...e.supportTickets[t]||{},...s}},logout(e){Object.assign(e,u())}},p={async getContent({commit:e},t){e("setLoading",!0),e("setContent",{content:null,name:t});try{const s=undefined;e("setContent",{content:await(0,i.L5)(t),name:t}),e("setLoading",!1)}catch(s){e("setLoading",!1),e("setContent",{content:{text:"Page not found"},name:t})}},async getSearchContent({commit:e},t){e("setLoading",!0);try{const s=undefined;e("setSearchContent",await(0,i.yC)(t)),e("setLoading",!1)}catch(s){e("setLoading",!1)}},contactUs:({commit:e},t)=>(e("setLoading",!0),(0,i.hz)(t).then((t=>(e("setLoading",!1),t))).catch((t=>(e("setLoading",!1),t)))),reset({commit:e}){e("reset")},resetSearchContent({commit:e}){e("resetSearchContent")},async getUsersTickets({commit:e,state:t},{more:s=!1,status:a,order:r}={}){s||(e("setTicketsIds",{status:a}),e("setTicketsCount",{status:a}));const{cancelToken:i,Cancel:c}=(0,l.Yz)("getTickets");try{const c=await(0,n.$g)({offset:t.ticketsCount[a||"all"],status:a,order:r,cancelToken:i});if(c&&c.list&&c.list.length){const t=c.list.reduce(((e,t)=>t.lastComment?{...e,[t.id]:[t.lastComment.id]}:e),{}),r=(0,o.Fv)(c.list,d.oF);e("set",{...r,entities:{...r.entities,repliesIds:t}},{root:!0}),e("setTicketsCount",{status:a,count:r.result.length,more:s}),e("setTicketsIds",{status:a,ids:r.result,more:s})}return c&&c.hasMore}catch(u){if(u instanceof c)throw u;return!1}},async getUsersTicketById({commit:e},{id:t}){e("setLoading",!0);try{const s=await(0,n.nR)({id:t});if(s){const t=(0,o.Fv)([s],d.oF),a={...s.lastComment&&{[s.id]:[s.lastComment.id]}};e("set",{...t,entities:{...t.entities,repliesIds:a}},{root:!0}),e("setTicketsCount",{status:s.status,count:t.result.length,more:!0}),e("setTicketsIds",{status:s.status,ids:t.result,more:!0})}return e("setLoading",!1),s}catch(s){return e("setLoading",!1),s}},postUsersTickets:({commit:e},t)=>(e("setLoading",!0),(0,n.HU)(t).then((t=>{if(e("setLoading",!1),t&&t.success){const s=(0,o.Fv)(t.ticket,d.e_);e("set",s,{root:!0}),e("setTicketsCount",{status:"open",count:1,more:!0}),e("setTicketsIds",{ids:[s.result],before:!0,more:!0,status:"open"})}return t})).catch((t=>(e("setLoading",!1),t)))),async replyOnTicket({commit:e,state:t},{id:s,data:a}){e("setLoading",!0);try{const r=await(0,n.Fw)(s,a),i=(0,o.Fv)(r,d.qn),c=i.result;return e("set",{...i,entities:{...i.entities,repliesIds:{[s]:[...new Set([...t.repliesIds[s]||[],c])]}}},{root:!0}),e("setTicket",{id:s,ticket:{commentCount:t.supportTickets[s].commentCount+1}}),e("setLoading",!1),r}catch(r){throw e("setLoading",!1),r}},async getTicketReplies({commit:e,state:t,getters:s},{id:a,more:r=!1}){try{const i=r?s.ticketRepliesIds(a).length:0,c=await(0,n.vn)({id:a,offset:i});if(c&&c.list&&c.list.length){const i=(0,o.Fv)(c.list,d.CF);e("set",i,{root:!0});const n=i.result,l=s.supportTicket(a),u=l&&l.lastComment&&l.lastComment.id,m=t.repliesIds[a],h=m?m.filter((e=>e!==u)):[];e("set",{entities:{repliesIds:{[a]:[...new Set([...r?h:[],...n,...u?[u]:[]])]}}},{root:!0}),t.supportTickets[a].commentCount<n.length&&e("setTicket",{id:a,ticket:{commentCount:n.length}})}return c&&c.hasMore}catch(i){return!1}},async solveTicket({commit:e},t){try{e("setLoading",!0);const s=await(0,n.J5)(t);e("setLoading",!1),s&&s.success&&e("setTicket",{id:t,ticket:{status:"solved"}})}catch(s){e("setLoading",!1),(0,c.Po)(s)}},async reopenTicket({commit:e,state:t,rootGetters:s},{id:a,data:r}){try{e("setLoading",!0);const i=await(0,n.dW)({id:a,data:r});if(e("setLoading",!1),i&&i.success){e("setTicket",{id:a,ticket:{status:"open",commentCount:t.supportTickets[a].commentCount+1}});const i=s["auth/authUser"],n=(0,o.Fv)({id:Math.random().toString(36).substr(2,9),body:r.message,createdAt:new Date,user:{name:i.name,avatar:i.avatar}},d.qn);e("set",n,{root:!0});const c=n.result;e("set",{entities:{repliesIds:{[a]:[...new Set([...t.repliesIds[a]||[],c])]}}},{root:!0})}}catch(i){e("setLoading",!1),(0,c.Po)(i)}},async checkIsCreateAllowed({commit:e,state:t,dispatch:s},{source:a,subject:r}){try{e("setLoading",!0);const t={...a&&{source:a},...r&&{subject:r}},s=await(0,n.YK)(t);return e("setLoading",!1),s}catch(i){if(400===i.status&&i.data.ticket){const a=undefined;return t.supportTickets[i.data.ticket.id]||await s("getUsersTicketById",{id:i.data.ticket.id}),e("setLoading",!1),i.data}return e("setLoading",!1),{success:!1}}}}},798427:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return pe},getters:function(){return he},mutations:function(){return fe},state:function(){return me}});var a=s(333948),r=s(21703),i=s(727484),n=s.n(i),o=s(201646),d=s.n(o),c=s(207124),l=s.n(c),u=s(350356),m=s.n(u),h=s(370178),f=s.n(h),p=s(990733);const g=({startDate:e,endDate:t,limit:s,by:a,filter:r,cancelToken:i})=>{const n={startDate:e,endDate:t,limit:s,by:a};r&&(n.filter=r);const o=(0,p.XP)(n),d=`${p.tW}/users/me/profile/stats${o}`;return p.ZP.get(d,{cancelToken:i}).then((e=>e.data))},y=({offset:e,startDate:t,endDate:s,limit:a,cancelToken:r})=>{const i=(0,p.XP)({offset:e,startDate:t,endDate:s,limit:a}),n=`${p.tW}/promotions${i}`;return p.ZP.get(n,{cancelToken:r}).then((e=>e.data))},v=({offset:e,startDate:t,endDate:s,limit:a,cancelToken:r})=>{const i=(0,p.XP)({offset:e,startDate:t,endDate:s,limit:a}),n=`${p.tW}/trials/stats${i}`;return p.ZP.get(n,{cancelToken:r}).then((e=>e.data))},S=({startDate:e,endDate:t,cancelToken:s})=>{const a=(0,p.XP)({startDate:e,endDate:t,stats:1}),r=`${p.tW}/promotions/chart${a}`;return p.ZP.get(r,{cancelToken:s}).then((e=>e.data))},P=({startDate:e,endDate:t,cancelToken:s})=>{const a=(0,p.XP)({startDate:e,endDate:t,stats:1}),r=`${p.tW}/trials/chart${a}`;return p.ZP.get(r,{cancelToken:s}).then((e=>e.data))},w=({startDate:e,endDate:t,cancelToken:s})=>{const a=(0,p.XP)({startDate:e,endDate:t,withTotal:!0,filter:{total_count:"total_count",total_amount:"total_amount",subscribes_count:"subscribes_count",subscribes_amount:"subscribes_amount",tips_count:"tips_count",tips_amount:"tips_amount",messages_count:"messages_count",messages_amount:"messages_amount",post_count:"post_count",post_amount:"post_amount",stream_count:"stream_count",stream_amount:"stream_amount",tips_profile_count:"tips_profile_count",tips_profile_amount:"tips_profile_amount",tips_chat_count:"tips_chat_count",tips_chat_amount:"tips_chat_amount",tips_post_count:"tips_post_count",tips_post_amount:"tips_post_amount",tips_stream_count:"tips_stream_count",tips_stream_amount:"tips_stream_amount",tips_story_count:"tips_story_count",tips_story_amount:"tips_story_amount"}}),r=`${p.tW}/earnings/chart${a}`;return p.ZP.get(r,{cancelToken:s}).then((e=>e.data))},b=({startDate:e,endDate:t,cancelToken:s})=>{const a=(0,p.XP)({startDate:e,endDate:t,withTotal:!0,filter:{total_amount:"total_amount",subscribes_amount:"subscribes_amount",tips_amount:"tips_amount",post_amount:"post_amount",messages_amount:"messages_amount",ref_amount:"ref_amount",stream_amount:"stream_amount"}}),r=`${p.tW}/earnings/chart${a}`;return p.ZP.get(r,{cancelToken:s}).then((e=>e.data))},I=({startDate:e,endDate:t,cancelToken:s,by:a,withTotal:r})=>{const i=(0,p.XP)({startDate:e,endDate:t,withTotal:r,filter:{[a]:a,posts:"posts"}}),n=`${p.tW}/posts/chart${i}`;return p.ZP.get(n,{cancelToken:s}).then((e=>e.data))},k=({startDate:e,endDate:t,cancelToken:s,withTotal:a,by:r})=>{const i=(0,p.XP)({startDate:e,endDate:t,withTotal:a,filter:{[r]:r,stories:"stories"}}),n=`${p.tW}/stories/chart${i}`;return p.ZP.get(n,{cancelToken:s}).then((e=>e.data))},C=({startDate:e,endDate:t,cancelToken:s,withTotal:a,by:r})=>{const i=(0,p.XP)({startDate:e,endDate:t,withTotal:a,filter:{[r]:r,duration:"duration"}}),n=`${p.tW}/streams/chart${i}`;return p.ZP.get(n,{cancelToken:s}).then((e=>e.data))},T=({startDate:e,endDate:t,cancelToken:s,fieldBy:a=null})=>{const r={startDate:e,endDate:t};a&&(r.by=a);const i=(0,p.XP)(r),n=`${p.tW}/users/me/stats/overview${i}`;return p.ZP.get(n,{cancelToken:s}).then((e=>e.data))},L=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,p.XP)({startDate:t,endDate:s}),r=`${p.tW}/users/me/stats/top/story${a}`;return p.ZP.get(r,{cancelToken:e}).then((e=>e.data))},M=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,p.XP)({startDate:t,endDate:s}),r=`${p.tW}/users/me/stats/top/stream${a}`;return p.ZP.get(r,{cancelToken:e}).then((e=>e.data))},$=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,p.XP)({startDate:t,endDate:s}),r=`${p.tW}/users/me/stats/top/post${a}`;return p.ZP.get(r,{cancelToken:e}).then((e=>e.data))},A=({cancelToken:e,startDate:t,endDate:s,by:a,offset:r})=>{const i=(0,p.XP)({startDate:t,endDate:s,by:a,offset:r}),n=`${p.tW}/posts/top${i}`;return p.ZP.get(n,{cancelToken:e}).then((e=>e.data))},_=e=>{if(!e)throw new Error("streamId is not defined");const t=(0,p.XP)({withChart:!0}),s=`${p.tW}/posts/${e}/stats${t}`;return p.ZP.get(s).then((e=>e.data))},F=e=>{if(!e)throw new Error("story id is not defined");const t=(0,p.XP)({withChart:!0}),s=`${p.tW}/stories/${e}/stats${t}`;return p.ZP.get(s).then((e=>e.data))},E=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,p.XP)({startDate:t,endDate:s}),r=`${p.tW}/users/me/stats/top/fan${a}`;return p.ZP.get(r,{cancelToken:e}).then((e=>e.data))},D=({streamId:e,limit:t,offset:s})=>{const a=(0,p.XP)({withFinishedViewers:!0,onlyCurrentStreamTips:!0,limit:t,offset:s}),r=`${p.tW}/streams/${e}/viewers${a}`;return p.ZP.get(r).then((e=>e.data))},U=({streamId:e,limit:t,offset:s})=>{const a=(0,p.XP)({withFinishedViewers:!0,onlyCurrentStreamTips:!0,onlyWithTips:!0,limit:t,offset:s}),r=`${p.tW}/streams/${e}/viewers${a}`;return p.ZP.get(r).then((e=>e.data))},R=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,p.XP)({startDate:t,endDate:s}),r=`${p.tW}/users/me/stats/top/mass-message${a}`;return p.ZP.get(r,{cancelToken:e}).then((e=>e.data))},O=({cancelToken:e,startDate:t,endDate:s,by:a,offset:r=0})=>{const i=(0,p.XP)({startDate:t,endDate:s,by:a,offset:r}),n=`${p.tW}/subscriptions/subscribers/latest${i}`;return p.ZP.get(n,{cancelToken:e}).then((e=>e.data))},x=({cancelToken:e,startDate:t,endDate:s,by:a,offset:r=0})=>{const i=(0,p.XP)({startDate:t,endDate:s,by:a,offset:r}),n=`${p.tW}/subscriptions/subscribers/top${i}`;return p.ZP.get(n,{cancelToken:e}).then((e=>e.data))},B=({cancelToken:e,startDate:t,endDate:s,by:a,offset:r=0})=>{const i=(0,p.XP)({startDate:t,endDate:s,by:a,offset:r}),n=`${p.tW}/stories/top${i}`;return p.ZP.get(n,{cancelToken:e}).then((e=>e.data))},j=({cancelToken:e,startDate:t,endDate:s,by:a})=>{const r=(0,p.XP)({startDate:t,endDate:s,by:a}),i=`${p.tW}/subscriptions/subscribers/chart${r}`;return p.ZP.get(i,{cancelToken:e}).then((e=>e.data))},W=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,p.XP)({startDate:t,endDate:s,withTotal:!0,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),r=`${p.tW}/payouts/chart${a}`;return p.ZP.get(r,{cancelToken:e}).then((e=>e.data))},Z=({cancelToken:e,startDate:t,endDate:s,limit:a=10,offset:r=0,by:i="purchases"})=>{const n=(0,p.XP)({startDate:t,endDate:s,limit:a,offset:r,by:i}),o=`${p.tW}/messages/queue/top${n}`;return p.ZP.get(o,{cancelToken:e}).then((e=>e.data))},q=({cancelToken:e,startDate:t,endDate:s,limit:a=10,offset:r=0,by:i="purchases"})=>{const n=(0,p.XP)({startDate:t,endDate:s,limit:a,offset:r,by:i}),o=`${p.tW}/streams/top${n}`;return p.ZP.get(o,{cancelToken:e}).then((e=>e.data))},N=({startDate:e,endDate:t,cancelToken:s,withTotal:a,by:r})=>{const i=(0,p.XP)({startDate:e,endDate:t,withTotal:a,filter:{[r]:r,messages:"messages"}}),n=`${p.tW}/messages/queue/chart${i}`;return p.ZP.get(n,{cancelToken:s}).then((e=>e.data))},V=({startDate:e,cancelToken:t,marker:s=null,type:a,tipsSource:r})=>{const i=(0,p.XP)({startDate:e,marker:s,type:a,tipsSource:r}),n=`${p.tW}/payouts/transactions${i}`;return p.ZP.get(n,{cancelToken:t}).then((e=>e.data))},H=({startDate:e,endDate:t,cancelToken:s,offset:a=0,marker:r=null})=>{const i=(0,p.XP)({startDate:e,endDate:t,offset:a,marker:r}),n=`${p.tW}/payouts/requests${i}`;return p.ZP.get(n,{cancelToken:s}).then((e=>e.data))},z=({startDate:e,endDate:t,cancelToken:s,offset:a=0,marker:r=null})=>{const i=(0,p.XP)({startDate:e,endDate:t,offset:a,marker:r}),n=`${p.tW}/payouts/requests/referral${i}`;return p.ZP.get(n,{cancelToken:s}).then((e=>e.data))},G=({startDate:e,endDate:t,cancelToken:s,withTotal:a=1})=>{const r=(0,p.XP)({startDate:e,endDate:t,withTotal:a,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),i=`${p.tW}/payouts/referrals/chart${r}`;return p.ZP.get(i,{cancelToken:s}).then((e=>e.data))},X=({startDate:e,endDate:t,cancelToken:s,withTotal:a=!0})=>{const r=(0,p.XP)({startDate:e,endDate:t,withTotal:a,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),i=`${p.tW}/payouts/chargebacks/chart${r}`;return p.ZP.get(i,{cancelToken:s}).then((e=>e.data))},Y=({startDate:e,endDate:t,cancelToken:s,withTotal:a=!0})=>{const r=(0,p.XP)({startDate:e,endDate:t,withTotal:a,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),i=`${p.tW}/payouts/vat/chart${r}`;return p.ZP.get(i,{cancelToken:s}).then((e=>e.data))},K=({storyId:e,limit:t,offset:s})=>{const a=(0,p.XP)({onlyWithTips:!0,limit:t,offset:s}),r=`${p.tW}/stories/${e}/viewers${a}`;return p.ZP.get(r).then((e=>e.data))},Q=({storyId:e,limit:t,offset:s})=>{const a=(0,p.XP)({limit:t,offset:s}),r=`${p.tW}/stories/${e}/viewers${a}`;return p.ZP.get(r).then((e=>e.data))},J=({startDate:e,endDate:t,cancelToken:s,offset:a=0,marker:r=null,onlyPerformers:i=0})=>{const n=(0,p.XP)({startDate:e,endDate:t,offset:a,marker:r,onlyPerformers:i}),o=`${p.tW}/users/me/referrals${n}`;return p.ZP.get(o,{cancelToken:s}).then((e=>e.data))},ee=({id:e,kind:t,limit:s,offset:a,format:r="infinite"})=>{const i={limit:s,offset:a,format:r};i.filter="trial"===t?{trial_id:e}:{promoId:e};const n=(0,p.XP)(i),o=`${p.tW}/subscriptions/subscribers${n}`;return p.ZP.get(o).then((e=>e.data))},te=({limit:e,lastPayoutId:t,cancelToken:s})=>{const a=(0,p.XP)({limit:e,lastPayoutId:t}),r=`${p.tW}/payouts/requests/stripe${a}`;return p.ZP.get(r,{cancelToken:s}).then((e=>e.data))},se=({cancelToken:e})=>{const t=(0,p.XP)({monthlyTotal:1}),s=`${p.tW}/earnings/chart${t}`;return p.ZP.get(s,{cancelToken:e}).then((e=>e.data))};var ae=s(865273),re=s(408481),ie=s(999023),ne=s(782677),oe=s(243168),de=s(58086),ce=s(172462);n().extend(d()),n().extend(f()),n().extend(l()),n().extend(m());const le=()=>({overviewBlock:{charts:{data:{},loading:!1,monthlyTotal:[],monthlyTotalLoading:!1},loading:!1,data:{},post:{},messages:{},streaming:{},visitors:{},topPost:{loading:!1,data:{},postStat:{data:null,loading:!1}},topMessage:{loading:!1,data:{}},topStream:{loading:!1,data:{},streamStat:{data:null,loading:!1}},topStory:{loading:!1,data:{}},topFan:{loading:!1,data:{},dataFull:null},statistic:{loading:!1,data:null,byDateloading:!1,dataByDate:null}},statementsBlock:{sidebar:{charts:{data:null,loading:!1}},earnings:{data:null,loading:!1,marker:null,hasMore:!1},payoutRequests:{data:null,delta:0,total:0,loading:!1,marker:null,hasMore:!1,chart:null,chartLoading:!1},payoutRequestsStripe:{data:null,lastPayoutId:null,hasMore:!1,loading:!1},disputes:{data:null,loading:!1,marker:null,hasMore:!1,delta:0,total:0,ratio:0,chart:null,chartLoading:!1},referrals:{data:null,loading:!1,marker:null,hasMore:!1,delta:0,total:0,chart:null,chartLoading:!1},referredCreators:{data:null,loading:!1,hasMore:!1,marker:null},referredUsers:{data:null,loading:!1,hasMore:!1,marker:null},vatDocuments:{delta:0,total:0,chart:null,chartLoading:!1}},engagementBlock:{posts:{loading:!1,hasMore:!1,data:[],chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},messages:{loading:!1,items:[],hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},streams:{loading:!1,items:[],hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},stories:{loading:!1,hasMore:!1,items:[],chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},storyStat:{data:null,loading:!1}},summaryInfo:{loading:!1,data:null}},reachBlock:{profileVisitors:{data:[],loading:!1,chart:{loading:!1,data:null,total:null},topCountries:{loading:!1,data:null},summaryInfo:{loading:!1,data:null}},promotions:{data:null,loading:!1,hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},claimsList:{data:null}},trials:{data:null,loading:!1,hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},claimsList:{data:null}},topSources:{loading:!1,data:null},campaigns:{summaryInfo:{loading:!1,data:null}}},fansBlock:{subscriptions:{loading:!1,users:[],hasMore:!1,chart:null,chartLoading:!1},topFans:{loading:!1,users:[],hasMore:!1,chart:null,chartLoading:!1},summaryInfo:{loading:!1,data:null}},timePeriod:{},startDateModel:null,isLoading:!1,common:{streamViewers:{list:[],loading:!1},streamTippers:{list:[]},storyViewers:{list:[]},storyTippers:{list:[]}}});function ue(e,t){if(e){const s={},a={},r={};Object.keys(e).map((t=>{s[t]=e[t].chart,a[t]=e[t].total,r[t]=e[t].delta})),t.total=a,t.chart=s,t.delta=r}else t.total=null,t.chart=null,t.delta=null}const me={overviewBlock:{charts:{data:{},loading:!1,monthlyTotal:[],monthlyTotalLoading:!1},loading:!1,data:{},post:{},messages:{},streaming:{},visitors:{},topPost:{loading:!1,data:{},postStat:{data:null,loading:!1}},topMessage:{loading:!1,data:{}},topStream:{loading:!1,data:{},streamStat:{data:null,loading:!1}},topStory:{loading:!1,data:{}},topFan:{loading:!1,data:{},dataFull:null},statistic:{loading:!1,data:null,byDateloading:!1,dataByDate:null}},statementsBlock:{sidebar:{charts:{data:null,loading:!1}},earnings:{data:null,loading:!1,marker:null,hasMore:!1},payoutRequests:{data:null,delta:0,total:0,loading:!1,marker:null,hasMore:!1,chart:null,chartLoading:!1},payoutRequestsStripe:{data:null,lastPayoutId:null,hasMore:!1,loading:!1},disputes:{data:null,loading:!1,marker:null,hasMore:!1,delta:0,total:0,ratio:0,chart:null,chartLoading:!1},referrals:{data:null,loading:!1,marker:null,hasMore:!1,delta:0,total:0,chart:null,chartLoading:!1},referredCreators:{data:null,loading:!1,hasMore:!1,marker:null},referredUsers:{data:null,loading:!1,hasMore:!1,marker:null},vatDocuments:{delta:0,total:0,chart:null,chartLoading:!1}},engagementBlock:{posts:{loading:!1,hasMore:!1,data:[],chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},messages:{loading:!1,items:[],hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},streams:{loading:!1,items:[],hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},stories:{loading:!1,hasMore:!1,items:[],chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},storyStat:{data:null,loading:!1}},summaryInfo:{loading:!1,data:null}},reachBlock:{profileVisitors:{data:[],loading:!1,chart:{loading:!1,data:null,total:null},topCountries:{loading:!1,data:null},summaryInfo:{loading:!1,data:null}},promotions:{data:null,loading:!1,hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},claimsList:{data:null}},trials:{data:null,loading:!1,hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},claimsList:{data:null}},topSources:{loading:!1,data:null},campaigns:{summaryInfo:{loading:!1,data:null}}},fansBlock:{subscriptions:{loading:!1,users:[],hasMore:!1,chart:null,chartLoading:!1},topFans:{loading:!1,users:[],hasMore:!1,chart:null,chartLoading:!1},summaryInfo:{loading:!1,data:null}},timePeriod:{},startDateModel:null,isLoading:!1,common:{streamViewers:{list:[],loading:!1},streamTippers:{list:[]},storyViewers:{list:[]},storyTippers:{list:[]}}},he={isAllPeriod:({timePeriod:e,startDateModel:t})=>{const{startDate:s,endDate:a}=e;return!!(s&&t&&a)&&(t.isSame(s,"day")&&(a.isToday()||a.isYesterday()))}},fe={setOverviewBlockData(e,t){e.overviewBlock.data=t},setOverviewBlockLoading(e,t){e.overviewBlock.loading=t},setProfileStatData(e,t){e.reachBlock.profileVisitors.data=t},setProfileStatLoading(e,t){e.reachBlock.profileVisitors.loading=t},setPromotionsData(e,t){e.reachBlock.promotions.hasMore=t.hasMore,e.reachBlock.promotions.data=[...e.reachBlock.promotions.data||[],...t.items]},setTrialsData(e,t){e.reachBlock.trials.hasMore=t.hasMore,e.reachBlock.trials.data=[...e.reachBlock.trials.data||[],...t.items]},resetPromotionsData(e){e.reachBlock.promotions.hasMore=!1,e.reachBlock.promotions.data=[],e.reachBlock.promotions.loading=!1},setPromotionsLoading(e,t){e.reachBlock.promotions.loading=t},resetTrialsData(e){e.reachBlock.trials.hasMore=!1,e.reachBlock.trials.data=[],e.reachBlock.trials.loading=!1},setTrialsLoading(e,t){e.reachBlock.trials.loading=t},setPromotionsChartData(e,t){ue(t,e.reachBlock.promotions)},setPromotionsChartLoading(e,t){e.reachBlock.promotions.chartLoading=t},setTrialsChartData(e,t){ue(t,e.reachBlock.trials)},setTrialsChartLoading(e,t){e.reachBlock.trials.chartLoading=t},setTopStreamData(e,t){e.overviewBlock.topStream.data=t},setTopMessageData(e,t){e.overviewBlock.topMessage.data=t},setTopStreamLoading(e,t){e.overviewBlock.topStream.loading=t},setTopStoryLoading(e,t){e.overviewBlock.topStory.loading=t},setTopStoryData(e,t){e.overviewBlock.topStory.data=t},setTopPostData(e,t){e.overviewBlock.topPost.data=t},setTopPostLoading(e,t){e.overviewBlock.topPost.loading=t},setTopFanData(e,t){e.overviewBlock.topFan.data=t},setTopFanDataFull(e,t){e.overviewBlock.topFan.dataFull=t},setTopFanLoading(e,t){e.overviewBlock.topFan.loading=t},setTopMessageLoading(e,t){e.overviewBlock.topMessage.loading=t},setTimePeriod(e,{startDate:t,endDate:s,type:a="custom"}){let r=t,i=s||n()().add(-1,"day").endOf("day");const{startDateModel:o}=e;o&&(r=t.isAfter(o)?t:o,i=o.isBefore(i)?i:n()()),e.timePeriod={startDate:r,endDate:i,startDateFormatted:r.format("YYYY-MM-DD HH:mm:ss"),endDateFormatted:n()(i).isToday()?n()(i).utc().format("YYYY-MM-DD HH:mm:ss"):i.format("YYYY-MM-DD HH:mm:ss"),type:a}},setStartDateModel(e,t){e.startDateModel=n()(t)},setStreamViewers(e,{list:t,more:s}){e.common.streamViewers.list=s?[...e.common.streamViewers.list,...t]:t},setStreamViewersLoading(e,t){e.common.streamViewers.loading=t},setStreamTippers(e,{list:t,more:s}){e.common.streamTippers.list=s?[...e.common.streamTippers.list,...t]:t},setStreamStat(e,t){e.overviewBlock.topStream.streamStat.data={viewersCount:+t.stream_look_count,viewers:[...t.stream_look_all||[]],viewersChartData:[...t.stream_look_chart||[]],likesCount:+t.stream_like_count,likes:[...t.stream_like_all||[]],likeChartData:[...t.stream_like_chart||[]],commentsCount:+t.stream_comment_count,comments:[...t.stream_comment_all||[]],commentsChartData:[...t.stream_comment_chart||[]],tipsCount:+t.stream_tip_count,tips:[...t.stream_tip_all||[]],tipsChartData:[...t.stream_tip_chart||[]],tipSum:+t.stream_tip_sum,duration:n().duration(t.stream_duration,"seconds").format(de.Z.getDurationFormat(t.stream_duration))}},setPostStat(e,t){e.overviewBlock.topPost.postStat.data={viewersCount:+t.lookCount,viewersUniqueCount:+t.uniqueLookCount,viewers:t.lookAll||{},viewersChartData:[...t.lookChart||[]],likesCount:+t.likeCount,likes:t.likeAll||{},likeChartData:[...t.likeChart||[]],commentsCount:+t.commentCount,comments:t.commentAll||{},commentsChartData:[...t.commentChart||[]],tipsCount:+t.tipCount,tipsSum:+t.tipSum,tips:t.tipAll||{},tipsChartData:[...t.tipChart||[]],tipSumChartData:[...t.tipSumChart||[]],tipSum:+(t.tipSum||0),purchasedSumm:+(t.purchasedSumm||0),purchasedCount:+t.purchasedCount,purchasesChartData:[...t.purchasesChart||[]],lookDuration:t.lookDuration,lookDurationAverage:t.lookDurationAverage,uniqueLookCount:t.uniqueLookCount,uniqueLookChartData:t.uniqueLookChart}},setStoryStat(e,t){e.engagementBlock.stories.storyStat.data={storyComments:t.storyCommentAll||{},storyCommentsCount:+t.storyCommentCount,storyCommentsChartData:[...t.storyCommentChart||[]],storyLikes:t.storyLikeAll||{},storyLikesCount:+t.storyLikeCount,storyLikesChartData:[...t.storyLikeChart||[]],storyViewers:t.lookAll||{},storyViewersCount:+t.storyLookCount,storyViewersChartData:[...t.storyLookChart||[]],storyTips:t.storyTipAll||{},storyTipsChartData:[...t.storyTipChart||[]],storyTipCount:+(t.storyTipCount||0),storyTipSum:+(t.storyTipSum||0),storyTipSumData:[...t.storyTipSumChart||[]]}},setReachProfileVisitorsSummary(e,t){e.reachBlock.profileVisitors.summaryInfo.data=t},setReachProfileVisitorsSummaryLoading(e,t){e.reachBlock.profileVisitors.summaryInfo.loading=t},setReachPromotionsSummary(e,t){e.reachBlock.promotions.summaryInfo.data=t},setReachPromotionsSummaryLoading(e,t){e.reachBlock.promotions.summaryInfo.loading=t},setReachTrialsSummaryLoading(e,t){e.reachBlock.trials.summaryInfo.loading=t},setReachCampaignsSummaryLoading(e,t){e.reachBlock.campaigns.summaryInfo.loading=t},setReachTrialsSummary(e,t){e.reachBlock.trials.summaryInfo.data=t},setReachCampaignsSummary(e,t){e.reachBlock.campaigns.summaryInfo.data=t},setReachProfileVisitorsChartData(e,t){e.reachBlock.profileVisitors.chart.data=t},setReachProfileVisitorsChartLoading(e,t){e.reachBlock.profileVisitors.chart.loading=t},setReachTopSourcesData(e,t){e.reachBlock.topSources.data=t},setReachTopSourcesLoading(e,t){e.reachBlock.topSources.loading=t},setReachProfileVisitorsTopCountriesData(e,t){e.reachBlock.profileVisitors.topCountries.data=t},setReachProfileVisitorsTopCountriesLoading(e,t){e.reachBlock.profileVisitors.topCountries.loading=t},setFansBlockSummary(e,t){e.fansBlock.summaryInfo.data=t},setFansBlockSummaryLoading(e,t){e.fansBlock.summaryInfo.loading=t},setEngagementPostsSummaryLoading(e,t){e.engagementBlock.posts.summaryInfo.loading=t},setEngagementPostsSummary(e,t){e.engagementBlock.posts.summaryInfo.data=t},setEngagementStoriesSummaryLoading(e,t){e.engagementBlock.stories.summaryInfo.loading=t},setEngagementStoriesSummary(e,t){e.engagementBlock.stories.summaryInfo.data=t},setEngagementStreamSummaryLoading(e,t){e.engagementBlock.streams.summaryInfo.loading=t},setEngagementStreamSummary(e,t){e.engagementBlock.streams.summaryInfo.data=t},setEngagementMessagesSummary(e,t){e.engagementBlock.messages.summaryInfo.data=t},setEngagementMessagesSummaryLoading(e,t){e.engagementBlock.messages.summaryInfo.loading=t},setEngagementsStoriesLoading(e,t){e.engagementBlock.stories.loading=t},setEngagementsStories(e,{items:t,hasMore:s,addMore:a}){e.engagementBlock.stories.hasMore=s,e.engagementBlock.stories.items=a?[...e.engagementBlock.stories.items,...t]:t},setEngagementPostsLoading(e,t){e.engagementBlock.posts.loading=t},setEngagementPostsData(e,{list:t,more:s}){e.engagementBlock.posts.data=s?[...e.engagementBlock.posts.data,...t]:t},setEngagementPostsHasMore(e,t){e.engagementBlock.posts.hasMore=t},setPostsChartData(e,t){ue(t,e.engagementBlock.posts)},setPostsChartDataLoading(e,t){e.engagementBlock.posts.chartLoading=t},setStoriesChartData(e,t){ue(t,e.engagementBlock.stories)},setStoriesChartDataLoading(e,t){e.engagementBlock.stories.chartLoading=t},setStreamsChartData(e,t){ue(t,e.engagementBlock.streams)},setStreamsChartDataLoading(e,t){e.engagementBlock.streams.chartLoading=t},resetStoryStat(e){e.engagementBlock.stories.storyStat.data=null},setStoryStatLoading(e,t){e.engagementBlock.stories.storyStat.loading=t},resetStreamStat(e){e.overviewBlock.topStream.streamStat.data=null},resetPostStat(e){e.overviewBlock.topPost.postStat.data=null},setStreamStatLoading(e,t){e.overviewBlock.topStream.streamStat.loading=t},setPostStatLoading(e,t){e.overviewBlock.topPost.postStat.loading=t},addFansSubscriptions(e,{users:t,hasMore:s,sectionName:a}){const r=e.fansBlock[a].users.map((e=>e.id)),i=t.filter((e=>!r.includes(e.id)));e.fansBlock[a].users=[...e.fansBlock[a].users,...i],e.fansBlock[a].hasMore=s},setTopFansSubscriptionsLoading(e,t){e.fansBlock.topFans.loading=t},setFansSubscriptions(e,{users:t,hasMore:s,sectionName:a}){e.fansBlock[a].users=t,e.fansBlock[a].hasMore=s},setFansSubscriptionsLoading(e,t){e.fansBlock.subscriptions.loading=t},setChartFansSubscriptions(e,t){e.fansBlock.subscriptions.chart=t},setChartFansSubscriptionsLoading(e,t){e.fansBlock.subscriptions.chartLoading=t},setStatementsChartsData(e,t){e.statementsBlock.sidebar.charts.data=t},setStatementsChartsDataLoading(e,t){e.statementsBlock.sidebar.charts.loading=t},setChartStatementsPayoutRequests(e,t){t?(e.statementsBlock.payoutRequests.total=t.total,e.statementsBlock.payoutRequests.delta=t.delta,e.statementsBlock.payoutRequests.chart={"Paid out":t.chartAmount,Invoices:t.chartCount}):(e.statementsBlock.payoutRequests.total=0,e.statementsBlock.payoutRequests.delta=0,e.statementsBlock.payoutRequests.chart=null)},setChartStatementsPayoutRequestsLoading(e,t){e.statementsBlock.payoutRequests.chartLoading=t},setStatementsPayoutRequestsStripeLoading(e,t){e.statementsBlock.payoutRequestsStripe.loading=t},setEngagementMessages(e,{items:t,hasMore:s,more:a}){e.engagementBlock.messages.items=a?[...e.engagementBlock.messages.items,...t]:t,e.engagementBlock.messages.hasMore=s},setEngagementMessagesChart(e,t){ue(t,e.engagementBlock.messages)},setEngagementMessagesChartLoading(e,t){e.engagementBlock.messages.chartLoading=t},unsendEngagementMassMessage(e,t){e.engagementBlock.messages.items=e.engagementBlock.messages.items.map((e=>e.id===t?{...e,isCanceled:!0,canUnsend:!1}:e))},setEngagementStreams(e,{items:t,hasMore:s,addMore:a}){e.engagementBlock.streams.hasMore=s,e.engagementBlock.streams.items=a?[...e.engagementBlock.streams.items,...t]:t},setEngagementMessagesLoading(e,t){e.engagementBlock.messages.loading=t},setEngagementStreamsLoading(e,t){e.engagementBlock.streams.loading=t},setStatementsEarningsLoading(e,t){e.statementsBlock.earnings.loading=t},setStatementsEarnings(e,t){e.statementsBlock.earnings.data=t.list,e.statementsBlock.earnings.hasMore=t.hasMore},addStatementsEarnings(e,t){e.statementsBlock.earnings.data=e.statementsBlock.earnings.data.concat(t.list),e.statementsBlock.earnings.hasMore=t.hasMore},setStatementsEarningsMarker(e,t){e.statementsBlock.earnings.marker=t},setStatementsPayoutRequestsLoading(e,t){e.statementsBlock.payoutRequests.loading=t},setStatementsPayoutRequests(e,t){e.statementsBlock.payoutRequests.data=t,e.statementsBlock.payoutRequests.hasMore=Boolean(t.length)&&t.length===p.P9},setStatementsPayoutRequestsStripe(e,t){const{hasMore:s,lastPayoutId:a,list:r,isAdd:i}=t;e.statementsBlock.payoutRequestsStripe.data=i?e.statementsBlock.payoutRequestsStripe.data.concat(r):r,e.statementsBlock.payoutRequestsStripe.lastPayoutId=a,e.statementsBlock.payoutRequestsStripe.hasMore=s},addStatementsPayoutRequests(e,t){e.statementsBlock.payoutRequests.data=e.statementsBlock.payoutRequests.data.concat(t),e.statementsBlock.payoutRequests.hasMore=Boolean(t.length)&&t.length===p.P9},setStatementsPayoutRequestsMarker(e,t){e.statementsBlock.payoutRequests.marker=t},setStatementsDisputesLoading(e,t){e.statementsBlock.disputes.loading=t},setStatementsDisputesChartLoading(e,t){e.statementsBlock.disputes.chartLoading=t},setStatementsDisputesChart(e,t){t?(e.statementsBlock.disputes.total=t.total,e.statementsBlock.disputes.delta=t.delta,e.statementsBlock.disputes.ratio=t.ratio,e.statementsBlock.disputes.chart={"Charged back":t.chartAmount,Disputes:t.chartCount}):(e.statementsBlock.disputes.total=0,e.statementsBlock.disputes.delta=0,e.statementsBlock.disputes.ratio=0,e.statementsBlock.disputes.chart=null)},setStatementsReferralsChartLoading(e,t){e.statementsBlock.referrals.chartLoading=t},setStatementsReferralsChart(e,t){t?(e.statementsBlock.referrals.total=t.total,e.statementsBlock.referrals.delta=t.delta,e.statementsBlock.referrals.chart={Earnings:t.chartAmount,Referrals:t.chartCount}):(e.statementsBlock.referrals.total=0,e.statementsBlock.referrals.delta=0,e.statementsBlock.referrals.chart=null)},setStatementsVatChartLoading(e,t){e.statementsBlock.referrals.chartLoading=t},setStatementsVatChart(e,t){t?(e.statementsBlock.vatDocuments.total=t.total,e.statementsBlock.vatDocuments.delta=t.delta,e.statementsBlock.vatDocuments.chart={"VAT refund":t.chartAmount,Invoices:t.chartCount}):(e.statementsBlock.vatDocuments.total=0,e.statementsBlock.vatDocuments.delta=0,e.statementsBlock.vatDocuments.chart=null)},setStatementsDisputes(e,t){e.statementsBlock.disputes.data=t,e.statementsBlock.disputes.hasMore=Boolean(t.length)&&t.length===p.P9},addStatementsDisputes(e,t){e.statementsBlock.disputes.data=e.statementsBlock.disputes.data.concat(t),e.statementsBlock.disputes.hasMore=Boolean(t.length)&&t.length===p.P9},setStatementsDisputesMarker(e,t){e.statementsBlock.disputes.marker=t},setStatementsReferralsLoading(e,t){e.statementsBlock.referrals.loading=t},setStatementsReferrals(e,t){e.statementsBlock.referrals.data=t,e.statementsBlock.referrals.hasMore=Boolean(t.length)&&t.length===p.P9},setStatementsReferredCreatorsLoading(e,t){e.statementsBlock.referredCreators.loading=t},setStatementsReferredCreators(e,{items:t,hasMore:s,addMore:a}){e.statementsBlock.referredCreators.data=a?[...e.statementsBlock.referredCreators.data,...t]:t,e.statementsBlock.referredCreators.hasMore=s},setStatementsReferredCreatorsMarker(e,t){e.statementsBlock.referredCreators.marker=t},setStatementsReferredUsersLoading(e,t){e.statementsBlock.referredUsers.loading=t},setStatementsReferredUsers(e,{items:t,hasMore:s,addMore:a}){e.statementsBlock.referredUsers.data=a?[...e.statementsBlock.referredUsers.data,...t]:t,e.statementsBlock.referredUsers.hasMore=s},setStatementsReferredUsersMarker(e,t){e.statementsBlock.referredUsers.marker=t},addStatementsReferrals(e,t){e.statementsBlock.referrals.data=e.statementsBlock.referrals.data.concat(t),e.statementsBlock.referrals.hasMore=Boolean(t.length)&&t.length===p.P9},setStatementsReferralsMarker(e,t){e.statementsBlock.referrals.marker=t},setStoryTippers(e,{list:t,more:s}){e.common.storyTippers.list=s?[...e.common.storyTippers.list,...t]:t},setStoryViewers(e,{list:t,more:s}){e.common.storyViewers.list=s?[...e.common.storyViewers.list,...t]:t},setClaims(e,{list:t,more:s}){e.reachBlock.promotions.claimsList.data=s?[...e.reachBlock.promotions.claimsList.data,...t]:t},setOverviewEarningsStatisticsByDateLoading(e,t){e.overviewBlock.statistic.byDateloading=t},setOverviewEarningsStatistics(e,t){e.overviewBlock.statistic.data=t},setOverviewEarningsStatisticsByDate(e,t){e.overviewBlock.statistic.dataByDate=t},setOverviewEarningsStatisticsLoading(e,t){e.overviewBlock.charts.loading=t},setOverviewChartsData(e,t){e.overviewBlock.charts.data=t},setMonthlyTotalStatisticsData(e,t){e.overviewBlock.charts.monthlyTotal=t},setMonthlyTotalStatisticsLoading(e,t){e.overviewBlock.charts.monthlyTotalLoading=t},logout(e){Object.assign(e,{overviewBlock:{charts:{data:{},loading:!1,monthlyTotal:[],monthlyTotalLoading:!1},loading:!1,data:{},post:{},messages:{},streaming:{},visitors:{},topPost:{loading:!1,data:{},postStat:{data:null,loading:!1}},topMessage:{loading:!1,data:{}},topStream:{loading:!1,data:{},streamStat:{data:null,loading:!1}},topStory:{loading:!1,data:{}},topFan:{loading:!1,data:{},dataFull:null},statistic:{loading:!1,data:null,byDateloading:!1,dataByDate:null}},statementsBlock:{sidebar:{charts:{data:null,loading:!1}},earnings:{data:null,loading:!1,marker:null,hasMore:!1},payoutRequests:{data:null,delta:0,total:0,loading:!1,marker:null,hasMore:!1,chart:null,chartLoading:!1},payoutRequestsStripe:{data:null,lastPayoutId:null,hasMore:!1,loading:!1},disputes:{data:null,loading:!1,marker:null,hasMore:!1,delta:0,total:0,ratio:0,chart:null,chartLoading:!1},referrals:{data:null,loading:!1,marker:null,hasMore:!1,delta:0,total:0,chart:null,chartLoading:!1},referredCreators:{data:null,loading:!1,hasMore:!1,marker:null},referredUsers:{data:null,loading:!1,hasMore:!1,marker:null},vatDocuments:{delta:0,total:0,chart:null,chartLoading:!1}},engagementBlock:{posts:{loading:!1,hasMore:!1,data:[],chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},messages:{loading:!1,items:[],hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},streams:{loading:!1,items:[],hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},stories:{loading:!1,hasMore:!1,items:[],chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},storyStat:{data:null,loading:!1}},summaryInfo:{loading:!1,data:null}},reachBlock:{profileVisitors:{data:[],loading:!1,chart:{loading:!1,data:null,total:null},topCountries:{loading:!1,data:null},summaryInfo:{loading:!1,data:null}},promotions:{data:null,loading:!1,hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},claimsList:{data:null}},trials:{data:null,loading:!1,hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},claimsList:{data:null}},topSources:{loading:!1,data:null},campaigns:{summaryInfo:{loading:!1,data:null}}},fansBlock:{subscriptions:{loading:!1,users:[],hasMore:!1,chart:null,chartLoading:!1},topFans:{loading:!1,users:[],hasMore:!1,chart:null,chartLoading:!1},summaryInfo:{loading:!1,data:null}},timePeriod:{},startDateModel:null,isLoading:!1,common:{streamViewers:{list:[],loading:!1},streamTippers:{list:[]},storyViewers:{list:[]},storyTippers:{list:[]}}})}},pe={async fetchStatOverview({commit:e,state:t}){e("setOverviewBlockLoading",!0);const{cancelToken:s,Cancel:a}=(0,p.Yz)("fetchStatOverview"),{endDateFormatted:r,startDateFormatted:i}=t.timePeriod;let n;try{n=await T({startDate:i,endDate:r,cancelToken:s}),e("setOverviewBlockData",n),e("setOverviewBlockLoading",!1)}catch(o){if(!(o instanceof a))throw o}finally{e("setOverviewBlockLoading",!1)}return n},async fetchEngagementStreamSummary({commit:e}){e("setEngagementStreamSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,p.Yz)("fetchEngagementStreamSummary"),{endDateFormatted:a,startDateFormatted:r}=me.timePeriod;let i;try{return i=await T({startDate:r,endDate:a,cancelToken:t,fieldBy:"streams"}),i&&i.streams&&e("setEngagementStreamSummary",i.streams),e("setEngagementStreamSummaryLoading",!1),i}catch(n){if(!(n instanceof s))throw n;return e("setEngagementStreamSummaryLoading",!1),i}},async fetchEngagementStoriesSummary({commit:e}){e("setEngagementStoriesSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,p.Yz)("fetchEngagementStoriesSummary"),{endDateFormatted:a,startDateFormatted:r}=me.timePeriod;let i;try{return i=await T({startDate:r,endDate:a,cancelToken:t,fieldBy:"story"}),i&&i.stories&&e("setEngagementStoriesSummary",i.stories),e("setEngagementStoriesSummaryLoading",!1),i}catch(n){if(!(n instanceof s))throw n;return e("setEngagementStoriesSummaryLoading",!1),i}},async fetchEngagementPostsSummary({commit:e}){e("setEngagementPostsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,p.Yz)("fetchEngagementPostsSummary"),{endDateFormatted:a,startDateFormatted:r}=me.timePeriod;let i;try{return i=await T({startDate:r,endDate:a,cancelToken:t,fieldBy:"posts"}),i&&i.posts&&e("setEngagementPostsSummary",i.posts),e("setEngagementPostsSummaryLoading",!1),i}catch(n){if(!(n instanceof s))throw n;return e("setEngagementPostsSummaryLoading",!1),i}},async fetchReachProfileVisitorsSummary({commit:e}){e("setReachProfileVisitorsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,p.Yz)("fetchReachProfileVisitorsSummary"),{endDateFormatted:a,startDateFormatted:r}=me.timePeriod;let i;try{return i=await T({startDate:r,endDate:a,cancelToken:t,fieldBy:"visitors"}),i&&i.visitors&&e("setReachProfileVisitorsSummary",i.visitors),e("setReachProfileVisitorsSummaryLoading",!1),i}catch(n){if(!(n instanceof s))throw n;return e("setReachProfileVisitorsSummaryLoading",!1),i}},async fetchReachCampaignsSummary({commit:e}){e("setReachCampaignsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,p.Yz)("fetchReachCampaignsSummary"),{endDateFormatted:a,startDateFormatted:r}=me.timePeriod;let i;try{i=await T({startDate:r,endDate:a,cancelToken:t,fieldBy:"campaign"}),i&&i.campaigns&&e("setReachCampaignsSummary",i.campaigns)}catch(n){if(!(n instanceof s))throw n}finally{e("setReachCampaignsSummaryLoading",!1)}return i},async fetchReachPromotionsSummary({commit:e}){e("setReachPromotionsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,p.Yz)("fetchReachPromotionsSummary"),{endDateFormatted:a,startDateFormatted:r}=me.timePeriod;let i;try{return i=await T({startDate:r,endDate:a,cancelToken:t,fieldBy:"promo"}),i&&i.promo&&e("setReachPromotionsSummary",i.promo),e("setReachPromotionsSummaryLoading",!1),i}catch(n){if(!(n instanceof s))throw n;return e("setReachPromotionsSummaryLoading",!1),i}},async fetchReachTrialsSummary({commit:e}){e("setReachTrialsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,p.Yz)("fetchReachTrialsSummary"),{endDateFormatted:a,startDateFormatted:r}=me.timePeriod;let i;try{var n;return i=await T({startDate:r,endDate:a,cancelToken:t,fieldBy:"trials"}),null!==(n=i)&&void 0!==n&&n.trials&&e("setReachTrialsSummary",i.trials),e("setReachTrialsSummaryLoading",!1),i}catch(o){if(!(o instanceof s))throw o;return e("setReachTrialsSummaryLoading",!1),i}},async fetchFansBlockSummary({commit:e}){e("setFansBlockSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,p.Yz)("fetchFansBlockSummary"),{endDateFormatted:a,startDateFormatted:r}=me.timePeriod;let i;try{return i=await T({startDate:r,endDate:a,cancelToken:t,fieldBy:"fans"}),i&&i.fans&&e("setFansBlockSummary",i.fans),i}catch(n){if(!(n instanceof s))throw n;return i}finally{e("setFansBlockSummaryLoading",!1)}},async fetchProfileStat({commit:e},{limit:t=10,by:s="total"}={}){e("setProfileStatData",void 0),e("setProfileStatLoading",!0);const{startDateFormatted:a,endDateFormatted:r}=me.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchProfileStat");try{const n=await g({limit:t,by:s,startDate:a,endDate:r,cancelToken:i});return e("setProfileStatData",n),e("setProfileStatLoading",!1),n}catch(o){if(!(o instanceof n))throw o;return void e("setProfileStatLoading",!1)}},async fetchReachProfileVisitorsChart({commit:e},{by:t="total"}={}){e("setReachProfileVisitorsChartData",void 0),e("setReachProfileVisitorsChartLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=me.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchReachProfileVisitorsChart");try{const i=await g({by:t,filter:["chart"],startDate:s,endDate:a,cancelToken:r});return e("setReachProfileVisitorsChartData",i),e("setReachProfileVisitorsChartLoading",!1),i}catch(n){if(!(n instanceof i))throw n;return void e("setReachProfileVisitorsChartLoading",!1)}},async fetchReachTopSources({commit:e},{limit:t=10,by:s="total"}={}){e("setReachTopSourcesData",void 0),e("setReachTopSourcesLoading",!0);const{startDateFormatted:a,endDateFormatted:r}=me.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchReachTopSources");try{const n=await g({limit:t,by:s,filter:["topDomains"],startDate:a,endDate:r,cancelToken:i});return e("setReachTopSourcesData",n),e("setReachTopSourcesLoading",!1),n}catch(o){if(!(o instanceof n))throw o;return void e("setReachTopSourcesLoading",!1)}},async fetchReachProfileVisitorsTopCountries({commit:e},{limit:t=10,by:s="total"}={}){e("setReachProfileVisitorsTopCountriesData",void 0),e("setReachProfileVisitorsTopCountriesLoading",!0);const{startDateFormatted:a,endDateFormatted:r}=me.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchReachProfileVisitorsTopCountries");try{const n=await g({limit:t,by:s,filter:["topCountries"],startDate:a,endDate:r,cancelToken:i});return e("setReachProfileVisitorsTopCountriesData",n),e("setReachProfileVisitorsTopCountriesLoading",!1),n}catch(o){if(!(o instanceof n))throw o;return void e("setReachProfileVisitorsTopCountriesLoading",!1)}},async fetchPromotions({commit:e},{limit:t=10,offset:s=0}={}){e("setPromotionsLoading",!0);const{startDateFormatted:a,endDateFormatted:r}=me.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchPromotions");try{const n=await y({limit:t,offset:s,startDate:a,endDate:r,cancelToken:i});return e("setPromotionsData",n),e("setPromotionsLoading",!1),n}catch(o){if(!(o instanceof n))throw o;return void e("setPromotionsLoading",!1)}},async fetchTrials({commit:e},{limit:t=10,offset:s=0}={}){e("setTrialsLoading",!0);const{startDateFormatted:a,endDateFormatted:r}=me.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchTrials");try{const n=await v({limit:t,offset:s,startDate:a,endDate:r,cancelToken:i});return e("setTrialsData",n),e("setTrialsLoading",!1),n}catch(o){if(!(o instanceof n))throw o;return void e("setTrialsLoading",!1)}},async fetchPromotionsChart({commit:e}){e("setPromotionsChartData",null),e("setPromotionsChartLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=me.timePeriod,{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchPromotionsChart");try{const r=await S({startDate:t,endDate:s,cancelToken:a});return e("setPromotionsChartData",r),e("setPromotionsChartLoading",!1),r}catch(i){if(!(i instanceof r))throw i;return void e("setPromotionsChartLoading",!1)}},async fetchTrialsChart({commit:e}){e("setTrialsChartData",null),e("setTrialsChartLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=me.timePeriod,{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchTrialsChart");try{const r=await P({startDate:t,endDate:s,cancelToken:a});return e("setTrialsChartData",r),e("setTrialsChartLoading",!1),r}catch(i){if(!(i instanceof r))throw i;return void e("setTrialsChartLoading",!1)}},async fetchPostsChart({commit:e},{by:t}){e("setPostsChartData",null),e("setPostsChartDataLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=me.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchPostsChart");try{const i=await I({startDate:s,endDate:a,cancelToken:r,withTotal:!0,by:t});return e("setPostsChartData",i),i}catch(n){if(!(n instanceof i))throw n;return}finally{e("setPostsChartDataLoading",!1)}},async fetchStoriesChart({commit:e},{by:t}){e("setStoriesChartData",null),e("setStoriesChartDataLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=me.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchStoriesChart");try{const i=await k({startDate:s,endDate:a,cancelToken:r,withTotal:!0,by:t});return e("setStoriesChartData",i),i}catch(n){if(!(n instanceof i))throw n;return}finally{e("setStoriesChartDataLoading",!1)}},async fetchStreamsChart({commit:e},{by:t}){e("setStreamsChartData",null),e("setStreamsChartDataLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=me.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchStreamsChart");try{const i=await C({startDate:s,endDate:a,cancelToken:r,withTotal:!0,by:t});return e("setStreamsChartData",i),i}catch(n){if(!(n instanceof i))throw n;return}finally{e("setStreamsChartDataLoading",!1)}},async fetchStartDateModel({commit:e,state:t}){var s;let a;try{a=await(0,ie.OL)()}catch(r){console.error(r)}if(null!==(s=a)&&void 0!==s&&s.startDate){e("setStartDateModel",a.startDate);const s=n()(a.startDate),{startDate:r,endDate:i}=t.timePeriod;r&&r.isBefore(s)&&e("setTimePeriod",{startDate:s,endDate:i,type:"day"})}return a},async fetchTopStream({commit:e}){e("setTopStreamLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=me.timePeriod,{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchTopStream");try{const r=await M({cancelToken:a,startDate:t,endDate:s});return e("setTopStreamData",r),e("setTopStreamLoading",!1),r}catch(i){if(!(i instanceof r))throw i;return void e("setTopStreamLoading",!1)}},async fetchTopStory({commit:e}){e("setTopStoryLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=me.timePeriod,{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchTopStory");try{const r=await L({cancelToken:a,startDate:t,endDate:s});return e("setTopStoryData",r),e("setTopStoryLoading",!1),r}catch(i){if(!(i instanceof r))throw i;return void e("setTopStoryLoading",!1)}},async fetchTopPosts({commit:e,state:t},s){e("setEngagementPostsLoading",!0),0===s.offset&&(e("setEngagementPostsData",{list:[],more:!1}),e("setEngagementPostsHasMore",!1));const{startDateFormatted:a,endDateFormatted:r}=t.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchTopPosts");try{const t=await A({cancelToken:i,startDate:a,endDate:r,...s}),n=t.items||[];if(n){const t=undefined;e("set",(0,ne.Fv)(n,oe.eI),{root:!0})}return e("setEngagementPostsData",{list:n.map((e=>e.id)),more:!!s.offset}),e("setEngagementPostsHasMore",t.hasMore),e("setEngagementPostsLoading",!1),t}catch(o){if(!(o instanceof n))throw o;return void e("setEngagementPostsLoading",!1)}},async fetchTopPost({commit:e}){e("setTopPostLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=me.timePeriod,{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchTopPost");try{const r=await $({cancelToken:a,startDate:t,endDate:s}),i=Object.values(r||{}).filter((e=>!!e));if(i){const t=undefined;e("set",(0,ne.Fv)(i,oe.eI),{root:!0})}return e("setTopPostData",Object.keys(r).reduce(((e,t)=>(e[t]=r[t]?r[t].id:null,e)),{})),e("setTopPostLoading",!1),r}catch(i){if(!(i instanceof r))throw i;return void e("setTopPostLoading",!1)}},async fetchTopMessage({commit:e}){e("setTopMessageLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=me.timePeriod,{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchTopMessage");let i;try{i=await R({cancelToken:a,startDate:t,endDate:s}),e("setTopMessageData",i)}catch(n){if(!(n instanceof r))throw n}finally{e("setTopMessageLoading",!1)}return i},async fetchTopFan({commit:e}){e("setTopFanLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=me.timePeriod,{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchTopFan");try{const r=await E({cancelToken:a,startDate:t,endDate:s}),i={},n=Object.keys(r).filter((e=>!!r[e])).map((e=>(i[e]=r[e].id,r[e]))),o=(0,ne.Fv)(n,oe.Xd);return e("setTopFanDataFull",r),e("set",o,{root:!0}),e("setTopFanData",i),e("setTopFanLoading",!1),r}catch(i){if(!(i instanceof r))throw i;return void e("setTopFanLoading",!1)}},async fetchStreamViewersStat({commit:e},{streamId:t,offset:s=0,limit:a=10,more:r=!1}){e("setStreamViewersLoading",!0);try{const i=await D({streamId:t,limit:a,offset:s});if(Array.isArray(null==i?void 0:i.list)&&i.list.length){const t=(0,ne.Fv)(i.list,oe.Xd);e("set",t,{root:!0}),e("setStreamViewers",{list:t.result,more:r})}return e("setStreamViewersLoading",!1),i}catch(i){}return e("setStreamViewersLoading",!1),{}},async fetchStreamTippers({commit:e},{streamId:t,offset:s=0,limit:a=10,more:r=!1}){try{const i=await U({streamId:t,offset:s,limit:a});if(Array.isArray(null==i?void 0:i.list)){const t=(0,ne.Fv)(i.list,oe.Xd);e("set",t,{root:!0}),e("setStreamTippers",{list:t.result,more:r})}return i}catch(i){return{}}},async fetchStreamStat({commit:e},t){e("setStreamStatLoading",!0);try{const s=await(0,re.a9)({id:t});return e("setStreamStat",s),e("setStreamStatLoading",!1),s}catch(s){return e("setStreamStatLoading",!1),{}}},resetStreamStat({commit:e}){e("setStreamViewers",{list:[],more:!1}),e("resetStreamStat"),e("setStreamViewersLoading",!1),e("setStreamStatLoading",!1)},async fetchPostStat({commit:e},t){e("setPostStatLoading",!0);try{const s=await _(t);return e("setPostStat",s),e("setPostStatLoading",!1),s}catch(s){return e("setPostStatLoading",!1),{}}},resetPostStat({commit:e}){e("resetPostStat"),e("setPostStatLoading",!1)},resetStoryStat({commit:e}){e("resetStoryStat"),e("setStoryStatLoading",!1)},async fetchEngagementsStories({commit:e},{by:t,offset:s=0,addMore:a=!1,limit:r=10}){e("setEngagementsStoriesLoading",!0),a||e("setEngagementsStories",{items:[],addMore:a,hasMore:!1});const{startDateFormatted:i,endDateFormatted:n}=me.timePeriod,{cancelToken:o,Cancel:d}=(0,p.Yz)("fetchEngagementsStories");let c={items:[],hasMore:!1,addMore:!1};try{c=await B({cancelToken:o,startDate:i,endDate:n,limit:r,offset:s,by:t}),"object"==typeof c&&e("setEngagementsStories",{...c,addMore:a})}catch(l){if(!(l instanceof d))throw l}finally{e("setEngagementsStoriesLoading",!1)}return c},async fetchStoryStat({commit:e},t){e("setStoryStatLoading",!0);try{const s=await F(t);return e("setStoryStat",s),e("setStoryStatLoading",!1),s}catch(s){return e("setStoryStatLoading",!1),{}}},async fetchTopFansSubscriptions({commit:e},{by:t,offset:s}){s||e("setTopFansSubscriptionsLoading",!0);const{startDateFormatted:a,endDateFormatted:r}=me.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchTopFansSubscriptions");let o;try{if(o=await x({cancelToken:i,startDate:a,endDate:r,by:t,offset:s}),o){const t=undefined;e(s?"addFansSubscriptions":"setFansSubscriptions",{...o,sectionName:"topFans"})}}catch(d){if(!(d instanceof n))throw d}finally{s||e("setTopFansSubscriptionsLoading",!1)}return o},async fetchFansSubscriptions({commit:e},{by:t,offset:s}){s||e("setFansSubscriptionsLoading",!0);const{startDateFormatted:a,endDateFormatted:r}=me.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchFansSubscriptions");let o;try{if(o=await O({cancelToken:i,startDate:a,endDate:r,by:t,offset:s}),o){const t=undefined;e(s?"addFansSubscriptions":"setFansSubscriptions",{...o,sectionName:"subscriptions"})}}catch(d){if(!(d instanceof n))throw d}finally{s||e("setFansSubscriptionsLoading",!1)}return o},async fetchChartFansSubscriptions({commit:e},{by:t}){e("setChartFansSubscriptions",null),e("setChartFansSubscriptionsLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=me.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchChartFansSubscriptions");let n;try{n=await j({cancelToken:r,startDate:s,endDate:a,by:t}),n&&e("setChartFansSubscriptions",n)}catch(o){if(!(o instanceof i))throw o}finally{e("setChartFansSubscriptionsLoading",!1)}return n},async fetchChartStatementsPayoutRequests({commit:e}){e("setChartStatementsPayoutRequests",null),e("setChartStatementsPayoutRequestsLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=me.timePeriod,{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchChartStatementsPayoutRequests");let i;try{i=await W({cancelToken:a,startDate:t,endDate:s}),i&&e("setChartStatementsPayoutRequests",i)}catch(n){if(!(n instanceof r))throw n}finally{e("setChartStatementsPayoutRequestsLoading",!1)}return i},async fetchEngagementMassMessages({commit:e},{by:t,offset:s=0}){e("setEngagementMessagesLoading",!0);const{startDateFormatted:a,endDateFormatted:r}=me.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchEngagementMassMessages");let o;0===s&&e("setEngagementMessages",{items:[],hasMore:!1,more:!!s});try{o=await Z({cancelToken:i,startDate:a,endDate:r,by:t,offset:s}),o&&e("setEngagementMessages",{...o,more:!!s})}catch(d){if(!(d instanceof n))throw d}finally{e("setEngagementMessagesLoading",!1)}return o},async fetchEngagementStreams({commit:e},{by:t,offset:s=0,addMore:a=!1,limit:r=10}){e("setEngagementStreamsLoading",!0),a||e("setEngagementStreams",{items:[],addMore:a,hasMore:!1});const{startDateFormatted:i,endDateFormatted:n}=me.timePeriod,{cancelToken:o,Cancel:d}=(0,p.Yz)("fetchEngagementStreams");let c={items:[],hasMore:!1,addMore:!1};try{c=await q({cancelToken:o,startDate:i,endDate:n,limit:r,offset:s,by:t}),"object"==typeof c&&e("setEngagementStreams",{...c,addMore:a})}catch(l){if(!(l instanceof d))throw l}finally{e("setEngagementStreamsLoading",!1)}return c},async fetchEngagementMessagesChart({commit:e},{by:t}){e("setEngagementMessagesChartLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=me.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchEngagementMessagesChart");try{const i=await N({cancelToken:r,startDate:s,endDate:a,withTotal:!0,by:t});i&&e("setEngagementMessagesChart",i)}catch(n){if(!(n instanceof i))throw n}finally{e("setEngagementMessagesChartLoading",!1)}},async fetchStatementsEarnings({commit:e,state:t},{type:s,tipsSource:a}={}){e("setStatementsEarningsLoading",!0);const{data:r,marker:i}=t.statementsBlock.earnings,{startDateFormatted:n,endDate:o}=t.timePeriod,{cancelToken:d,Cancel:c}=(0,p.Yz)("fetchStatementsEarnings"),l=r&&r.length;let u;try{var m;if(u=await V({marker:l?i:o.unix(),cancelToken:d,startDate:n,limit:p.P9,type:s,tipsSource:a}),Array.isArray(null===(m=u)||void 0===m?void 0:m.list)){const t=undefined;e(l?"addStatementsEarnings":"setStatementsEarnings",u),e("setStatementsEarningsMarker",u.nextMarker)}else(0,ce.oj)({error:new Error("typeof response is incorrect"),extra:{result:u}})}catch(h){if(!(h instanceof c))throw h}finally{e("setStatementsEarningsLoading",!1)}return u},async fetchStatementsCharts({commit:e}){e("setStatementsChartsData",null),e("setStatementsChartsDataLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=me.timePeriod,{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchStatementsCharts");try{const r=await w({startDate:t,endDate:s,cancelToken:a});return e("setStatementsChartsData",r),r}catch(i){if(!(i instanceof r))throw i;return}finally{e("setStatementsChartsDataLoading",!1)}},async fetchStatementsPayoutRequests({commit:e,state:t},s=0){e("setStatementsPayoutRequestsLoading",!0),s||(e("setStatementsPayoutRequests",[]),e("setStatementsPayoutRequestsMarker",null));const{startDateFormatted:a,endDateFormatted:r}=t.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchStatementsPayoutRequests");let o;try{const{marker:n}=t.statementsBlock.payoutRequests;if(o=await H({offset:s,marker:n,cancelToken:i,startDate:a,endDate:r,limit:p.P9}),o){const t=undefined;e(s?"addStatementsPayoutRequests":"setStatementsPayoutRequests",o.list),e("setStatementsPayoutRequestsMarker",o.marker)}}catch(d){if(!(d instanceof n))throw d}finally{e("setStatementsPayoutRequestsLoading",!1)}return o},async fetchStatementsPayoutRequestsStripe({commit:e,state:t}){e("setStatementsPayoutRequestsStripeLoading",!0);const{cancelToken:s,Cancel:a}=(0,p.Yz)("fetchStatementsPayoutRequestsStripe");let r;const i={cancelToken:s,limit:p.P9},{lastPayoutId:n}=t.statementsBlock.payoutRequestsStripe;n&&(i.lastPayoutId=n);try{r=await te(i),r&&e("setStatementsPayoutRequestsStripe",{...r,isAdd:Boolean(n)})}catch(o){if(!(o instanceof a))throw o}finally{e("setStatementsPayoutRequestsStripeLoading",!1)}return r},async fetchStatementsDisputes({commit:e,state:t},s=0){e("setStatementsDisputesLoading",!0),s||(e("setStatementsDisputes",[]),e("setStatementsDisputesMarker",null));const{startDateFormatted:a,endDateFormatted:r}=t.timePeriod,{cancelToken:i,Cancel:n}=(0,p.Yz)("fetchStatementsDisputes");let o;try{const{marker:n}=t.statementsBlock.disputes;if(o=await(0,ae.K3)({offset:s,marker:n,cancelToken:i,startDate:a,endDate:r,limit:p.P9}),o){const t=undefined;e(s?"addStatementsDisputes":"setStatementsDisputes",o.list),e("setStatementsDisputesMarker",o.marker)}}catch(d){if(!(d instanceof n))throw d}finally{e("setStatementsDisputesLoading",!1)}return o},async fetchStatementsReferrals({commit:e},t=0){e("setStatementsReferralsLoading",!0),t||(e("setStatementsReferrals",[]),e("setStatementsReferralsMarker",null));const{startDateFormatted:s,endDateFormatted:a}=me.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchStatementsReferrals");let n;try{const{marker:i}=me.statementsBlock.referrals;if(n=await z({marker:i,offset:t,cancelToken:r,startDate:s,endDate:a,limit:p.P9}),n){const s=undefined;e(t?"addStatementsReferrals":"setStatementsReferrals",n.list),e("setStatementsReferralsMarker",n.marker)}}catch(o){if(!(o instanceof i))throw o}finally{e("setStatementsReferralsLoading",!1)}return n},async fetchStatementsReferredCreators({commit:e},t=0){e("setStatementsReferredCreatorsLoading",!0),t||(e("setStatementsReferrals",[]),e("setStatementsReferralsMarker",null));const{startDateFormatted:s,endDateFormatted:a}=me.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchStatementsReferredCreators");let n;try{const{marker:i}=me.statementsBlock.referredCreators;n=await J({marker:i,offset:t,cancelToken:r,startDate:s,endDate:a,limit:p.P9,onlyPerformers:1}),n&&(e("setStatementsReferredCreators",{items:n.list,hasMore:n.hasMore,addMore:!!t}),e("setStatementsReferredCreatorsMarker",n.marker))}catch(o){if(!(o instanceof i))throw o}finally{e("setStatementsReferredCreatorsLoading",!1)}return n},async fetchStatementsReferredUsers({commit:e},t=0){e("setStatementsReferredUsersLoading",!0),t||(e("setStatementsReferrals",[]),e("setStatementsReferralsMarker",null));const{startDateFormatted:s,endDateFormatted:a}=me.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchStatementsReferredUsers");let n;try{const{marker:i}=me.statementsBlock.referredUsers;if(n=await J({marker:i,offset:t,cancelToken:r,startDate:s,endDate:a,limit:p.P9}),n){const s=undefined;e("set",(0,ne.Fv)(n.list,oe.Xd),{root:!0}),e("setStatementsReferredUsers",{items:n.list,hasMore:n.hasMore,addMore:!!t}),e("setStatementsReferredUsersMarker",n.marker)}}catch(o){if(!(o instanceof i))throw o}finally{e("setStatementsReferredUsersLoading",!1)}return n},async fetchEngagementMessagesSummary({commit:e}){e("setEngagementMessagesSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,p.Yz)("fetchEngagementMessagesSummary"),{endDateFormatted:a,startDateFormatted:r}=me.timePeriod;let i;try{return i=await T({startDate:r,endDate:a,cancelToken:t,fieldBy:"messages"}),i&&e("setEngagementMessagesSummary",i.massMessages||null),i}catch(n){if(!(n instanceof s))throw n;return i}finally{e("setEngagementMessagesSummaryLoading",!1)}},async fetchStatementsDisputesChart({commit:e,state:t}){e("setStatementsDisputesChartLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=t.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchStatementsDisputesChart");let n;try{n=await X({cancelToken:r,startDate:s,endDate:a}),n&&e("setStatementsDisputesChart",n)}catch(o){if(!(o instanceof i))throw o}finally{e("setStatementsDisputesChartLoading",!1)}return n},async fetchStatementsReferralsChart({commit:e,state:t}){e("setStatementsReferralsChartLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=t.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchStatementsReferralsChart");let n;try{n=await G({cancelToken:r,startDate:s,endDate:a}),n&&e("setStatementsReferralsChart",n)}catch(o){if(!(o instanceof i))throw o}finally{e("setStatementsReferralsChartLoading",!1)}return n},async fetchStatementsVatChart({commit:e,state:t}){e("setStatementsVatChartLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=t.timePeriod,{cancelToken:r,Cancel:i}=(0,p.Yz)("fetchStatementsVatChart");let n;try{n=await Y({cancelToken:r,startDate:s,endDate:a}),n&&e("setStatementsVatChart",n)}catch(o){if(!(o instanceof i))throw o}finally{e("setStatementsVatChartLoading",!1)}return n},async fetchStoryTippers({commit:e},{storyId:t,offset:s=0,limit:a=10,more:r=!1}){try{const i=await K({storyId:t,offset:s,limit:a});if(Array.isArray(null==i?void 0:i.list)){const t=(0,ne.Fv)(i.list,oe.Xd);e("set",t,{root:!0}),e("setStoryTippers",{list:t.result,more:r})}return i}catch(i){return{}}},async fetchStoryViewers({commit:e},{storyId:t,offset:s=0,limit:a=10,more:r=!1}){try{const i=await Q({storyId:t,offset:s,limit:a});if(Array.isArray(null==i?void 0:i.list)){const t=(0,ne.Fv)(i.list,oe.Xd);e("set",t,{root:!0}),e("setStoryViewers",{list:t.result,more:r})}return i}catch(i){return{}}},async fetchClaims({commit:e},{claim:t,offset:s=0,limit:a=10,more:r=!1,format:i="infinite"}){try{const{id:n,kind:o}=t,d=await ee({id:n,kind:o,offset:s,limit:a,format:i});if(Array.isArray(null==d?void 0:d.list)&&d.list.length){const t=(0,ne.Fv)(d.list,oe.Xd);e("set",t,{root:!0}),e("setClaims",{list:t.result,more:r})}return d}catch(n){return{isError:!0}}},async fetchOverviewStatistics({commit:e},{startDate:t,endDate:s}={}){const{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchOverviewStatistics");e("setOverviewEarningsStatisticsLoading",!0);let i={};try{i=await b({startDate:t,endDate:s,cancelToken:a})}catch(n){if(!(n instanceof r))throw n}return e("setOverviewChartsData",i),e("setOverviewEarningsStatisticsLoading",!1),i},async fetchMonthlyTotalStatistics({commit:e}){const{cancelToken:t,Cancel:s}=(0,p.Yz)("fetchMonthlyTotalStatistics");e("setMonthlyTotalStatisticsLoading",!0);let a={};try{a=await se({cancelToken:t})}catch(r){if(!(r instanceof s))throw r}return e("setMonthlyTotalStatisticsData",a.monthlyTotal),e("setMonthlyTotalStatisticsLoading",!1),a}}},746382:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return I},getters:function(){return w},mutations:function(){return b},state:function(){return P}});var a=s(535937),r=s.n(a),i=s(944908),n=s.n(i),o=s(227361),d=s.n(o),c=s(333948),l=s.n(c),u=s(21703),m=s.n(u),h=s(749832),f=s(410697),p=s(782677),g=s(243168),y=s(172462),v=s(990733);const S=()=>({storyLoadingStatus:{},items:{},userItemIds:{},feedIds:[],archiveIds:[],archiveStoriesLoading:!1,archiveStoriesLoaded:!1,currentStoryId:null,highlightsItems:{},profileHighlights:[],modalHighlights:[],profileHighlightsLoading:!1,profileHighlightsHasMore:!0,profileHighlightsOffset:0,modalHighlightsLoading:!1,modalHighlightsHasMore:!0,modalHighlightsOffset:0,currentHighlights:null,storyBlockedViewers:[],storyAnswers:[],storyAnswersHasMore:!0,storyAnswersLoading:!1}),P={storyLoadingStatus:{},items:{},userItemIds:{},feedIds:[],archiveIds:[],archiveStoriesLoading:!1,archiveStoriesLoaded:!1,currentStoryId:null,highlightsItems:{},profileHighlights:[],modalHighlights:[],profileHighlightsLoading:!1,profileHighlightsHasMore:!0,profileHighlightsOffset:0,modalHighlightsLoading:!1,modalHighlightsHasMore:!0,modalHighlightsOffset:0,currentHighlights:null,storyBlockedViewers:[],storyAnswers:[],storyAnswersHasMore:!0,storyAnswersLoading:!1},w={myStories:(e,t,s,a)=>e.userItemIds[a["auth/authUserId"]]||[],getUserStories:e=>t=>!!t&&e.userItemIds[t]||[],getStory:e=>t=>!!t&&e.items[t]||{},getHighlights:e=>t=>!!t&&e.highlightsItems[t]||{},feedStories:e=>e.feedIds,archiveStories:e=>e.archiveIds,isAllUserStoriesWatched:e=>t=>(e.userItemIds[t]||[]).every((t=>e.items[t].isWatched)),getStoryLoadingState:e=>t=>e.storyLoadingStatus[t]},b={addStoryToUser(e,{userId:t,storyId:s}){const a=e.userItemIds[t]||[];a.includes(s)||(e.userItemIds=Object.assign({},e.userItemIds,{[t]:[...a,s]}))},addNewStory(e,{story:t}){e.items=Object.assign({},e.items,{[t.id]:t})},updateStoryById(e,{userId:t,storyId:s,fields:a={}}){if(!s||"object"!=typeof a)return;const r=s,i=a.id||s,n=Object.assign({},e.items[i],a),o=e.userItemIds[t]||[];r!==i&&(delete e.items[r],e.userItemIds[t]=o.filter((e=>e!==s)),e.userItemIds[t]=[...e.userItemIds[t],i]),e.items=Object.assign({},e.items,{[i]:n})},removeStory(e,{userId:t,storyId:s}){e.profileHighlights=e.profileHighlights.filter((t=>{const{coverStoryId:a,storiesCount:r}=e.highlightsItems[t];return a!==s||1!==r})),e.modalHighlights=e.modalHighlights.filter((t=>{const{coverStoryId:a,storiesCount:r}=e.highlightsItems[t];return a!==s||1!==r})),e.userItemIds[t]=(e.userItemIds[t]||[]).filter((e=>e!==s)),e.archiveIds=e.archiveIds.filter((e=>e!==s)),e.userItemIds[t].length||(e.feedIds=e.feedIds.filter((e=>e!==t))),e.items=r()(e.items,(({id:e})=>e!==s))},setFeedStories(e,t){e.feedIds=t},setArchiveLoading(e,t){e.archiveStoriesLoading=t},setArchiveLoaded(e,t){e.archiveStoriesLoaded=t},setArchiveStories(e,{stories:t,offset:s}){e.archiveIds=s?[...e.archiveIds,...t]:t},setUserStories(e,{userId:t,stories:s}){const a=(e.userItemIds[t]||[]).filter((e=>"string"==typeof e));e.userItemIds=Object.assign({},e.userItemIds,{[t]:[...s,...a]})},likeStory(e,{id:t,value:s}){e.items[t]={...e.items[t],isLiked:s}},setProfileHighlightsLoading(e,t){e.profileHighlightsLoading=t},setModalHighlightsLoading(e,t){e.modalHighlightsLoading=t},setProfileHighlights(e,{highlights:t=[],hasMore:s=!0,reset:a=!0}){e.profileHighlightsHasMore=s,e.profileHighlights=a?t:n()([...e.profileHighlights,...t])},setModalHighlights(e,{highlights:t=[],hasMore:s=!0,reset:a=!0}){e.modalHighlightsHasMore=s,e.modalHighlights=a?t:n()([...e.modalHighlights,...t])},setProfileHighlightsOffset(e,t){e.profileHighlightsOffset=t},setModalHighlightsOffset(e,t){e.modalHighlightsOffset=t},resetProfileHighlights(e){e.profileHighlights=[],e.profileHighlightsOffset=0,e.profileHighlightsHasMore=!0},resetModalHighlights(e){e.modalHighlights=[],e.modalHighlightsOffset=0,e.modalHighlightsHasMore=!0},addSavedHighlight(e,t){e.profileHighlights=[t,...e.profileHighlights]},setCurrentHighlights(e,t){e.currentHighlights=t},setCurrentStory(e,t){e.currentStoryId=t},setStoryBlockedViewers(e,t){e.storyBlockedViewers=t},setStoryAsWatched(e,{id:t}){"object"==typeof e.items[t]&&(e.items[t]={...e.items[t],isWatched:!0})},removeHighlights(e,t){e.profileHighlights=e.profileHighlights.filter((e=>e!==t))},setStoryAnswersLoading(e,t){e.storyAnswersLoading=t},setStoryAnswers(e,{answers:t,hasMore:s}){e.storyAnswers=[...e.storyAnswers,...t],e.storyAnswersHasMore=s},resetStoryAnswers(e){e.storyAnswers=[],e.storyAnswersHasMore=!0},deleteStoryAnswer(e,t){e.storyAnswers=e.storyAnswers.filter((e=>e.id!==t))},hideUserStories(e,{userId:t}){e.userItemIds[t]=[],e.feedIds=e.feedIds.filter((e=>e!==t)),e.items=e.items.filter((e=>d()(e,"user.id")!==t))},clearArchive(e){e.archiveIds.forEach((t=>{delete e.items[t]}))},updateLoadingStatus(e,{id:t,status:s=Date.now()}){e.storyLoadingStatus=Object.assign({},e.storyLoadingStatus,{[t]:s})},logout(e){Object.assign(e,{storyLoadingStatus:{},items:{},userItemIds:{},feedIds:[],archiveIds:[],archiveStoriesLoading:!1,archiveStoriesLoaded:!1,currentStoryId:null,highlightsItems:{},profileHighlights:[],modalHighlights:[],profileHighlightsLoading:!1,profileHighlightsHasMore:!0,profileHighlightsOffset:0,modalHighlightsLoading:!1,modalHighlightsHasMore:!0,modalHighlightsOffset:0,currentHighlights:null,storyBlockedViewers:[],storyAnswers:[],storyAnswersHasMore:!0,storyAnswersLoading:!1})}},I={async fetchFeedStories({commit:e},t={}){const{cancelToken:s,Cancel:a}=(0,v.Yz)("fetchFeedStories");try{const a=await(0,h.EB)(t,s);if(a&&Array.isArray(a)){const t=(0,p.Fv)(a,g.nz),s=t.result.map((e=>t.entities.userStories[e]));e("set",t,{root:!0});const r=s.map((({user:t,stories:s})=>(e("setUserStories",{stories:s,userId:t}),t)));e("setFeedStories",r)}else e("setFeedStories",[]),(0,y.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}})}catch(r){r instanceof a||(0,y.oj)({error:r})}},async fetchUserStories({commit:e},t){e("updateLoadingStatus",{id:t,status:"pending"});try{const s=await(0,h.qn)(t);if(s&&Array.isArray(s)){const a=(0,p.Fv)(s,g.BO);e("set",a,{root:!0}),e("setUserStories",{stories:a.result,userId:t})}else e("setUserStories",{stories:[],userId:t}),(0,y.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch{e("setUserStories",{stories:[],userId:t})}e("updateLoadingStatus",{id:t})},async fetchMyStories({commit:e,rootGetters:t}){const{id:s}=t["auth/authUser"],{cancelToken:a}=(0,v.Yz)("fetchMyStories");try{const t=await(0,h.Cb)(a);if(t&&Array.isArray(t)){const a=(0,p.Fv)(t,g.BO);e("set",a,{root:!0}),e("setUserStories",{stories:a.result,userId:s})}else e("setUserStories",{stories:[],userId:s}),(0,y.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch{e("setUserStories",{stories:[],userId:s})}},resetUserStories({commit:e},t){e("setUserStories",{stories:[],userId:t})},resetMyStories({rootGetters:e,dispatch:t}){const{id:s}=e["auth/authUser"];t("resetUserStories",s)},updateStoryById({dispatch:e,commit:t},{storyId:s,userId:a,fields:r}){t("updateStoryById",{storyId:s,userId:a,fields:r}),e("updateUserHasStories",a)},async fetchArchive({commit:e},t=0){e("setArchiveLoading",!0);try{const{list:s,hasMore:a}=await(0,h.WL)(t);if(s&&Array.isArray(s)){const r=(0,p.Fv)(s,g.BO);e("set",r,{root:!0}),e("setArchiveStories",{stories:r.result,offset:t}),e("setArchiveLoaded",!a)}else e("setArchiveLoaded",!0),e("setArchiveStories",{stories:[]})}catch(s){(0,y.oj)({error:s}),e("setArchiveLoaded",!0),e("setArchiveStories",{stories:[]})}e("setArchiveLoading",!1)},resetArchive({commit:e}){e("setArchiveLoaded",!1),e("setArchiveStories",{stories:[],offset:0}),e("setArchiveLoading",!1)},async fetchStoryById({commit:e},t){e("updateLoadingStatus",{id:`story_${t}`,status:"pending"});try{const s=await(0,h.x4)(t),a=undefined;e("set",(0,p.Fv)(s,g.iT),{root:!0}),e("setCurrentStory",t)}catch(s){e("setCurrentStory",null)}e("updateLoadingStatus",{id:`story_${t}`})},async addUserStoriesOnFeed({state:e,commit:t,dispatch:s},a){s("fetchUserStories",a);const r=undefined;(e.userItemIds[a]||[]).length&&t("setFeedStories",[a,...e.feedIds])},addNewStory({commit:e,dispatch:t},{userId:s,story:a}){e("addNewStory",{story:a}),e("addStoryToUser",{userId:s,storyId:a.id}),t("updateUserHasStories",s)},watchStory({commit:e,getters:t},{id:s,userId:a}){e("setStoryAsWatched",{id:s,userId:a});const r=undefined;t.isAllUserStoriesWatched(a)&&e("users/setUserField",{userId:a,field:"hasNotViewedStory",status:!1},{root:!0}),(0,h.xg)(s)},async removeStory({commit:e,dispatch:t},{storyId:s,userId:a}){"number"==typeof s&&await(0,h.gm)(s),e("removeStory",{storyId:s,userId:a}),t("updateUserHasStories",a)},updateUserHasStories({commit:e,state:t},s){const a=undefined,r=(t.userItemIds[s]||[]).filter((e=>t.items[e].isReady)),i=!!r.length,n=r.some((e=>!t.items[e].isWatched));e("users/setUserField",{userId:s,field:"hasStories",status:i},{root:!0}),e("users/setUserField",{userId:s,field:"hasNotViewedStory",status:n},{root:!0})},async like({commit:e},{id:t}){try{e("likeStory",{id:t,value:!0});const s=await(0,h.ON)(t);s&&s.success&&e("likeStory",{id:t,value:s.isLiked})}catch(s){(0,y.Po)(s)}},async unlike({commit:e},{id:t}){try{e("likeStory",{id:t,value:!1});const s=await(0,h.Af)(t);s&&s.success&&e("likeStory",{id:t,value:s.isLiked})}catch(s){(0,y.Po)(s)}},async comment(e,{id:t,userId:s,text:a}){let r;try{r=await(0,f.bG)(s,{text:a,storyId:t})}catch(i){(0,y.Po)(i)}return r},async saveHighlights({commit:e},t){const s=!!t.id,a=s?h.sd:h.wJ,r=await a(t),i=(0,p.Fv)(r,g.Vc);e("set",i,{root:!0}),s||e("addSavedHighlight",i.result)},patchHighlight(e,{highlightId:t,storyIds:s}){(0,h.UU)(t,{storyIds:s})},async fetchUserHighlights({state:e,commit:t},{userId:s,additive:a=!1,storyIdToCheck:r=null,place:i="profile"}){const n="profile"===i?"setProfileHighlights":"setModalHighlights",o="profile"===i?"setProfileHighlightsLoading":"setModalHighlightsLoading",d="profile"===i?"setProfileHighlightsOffset":"setModalHighlightsOffset",c="profile"===i?e.profileHighlightsHasMore:e.modalHighlightsHasMore,l=5;if(a&&!c)return;a||(t(d,0),t(n,{highlights:[],hasMore:!0,reset:!0})),t(o,!0);let u=0;a&&(u="profile"===i?e.profileHighlightsOffset:e.modalHighlightsOffset);try{const e=await(0,h.IA)({userId:s,offset:u,limit:5,storyIdToCheck:r}),{list:i,hasMore:o}=e,c=(0,p.Fv)(i,g.JJ);t("set",c,{root:!0});const l=undefined;t(n,{highlights:c.result,hasMore:o,reset:!a}),t(d,o?u+5:0)}catch(m){t(n,{highlights:[],hasMore:!1,reset:!0}),t(d,0)}t(o,!1)},async fetchHighlightsById({commit:e},t){e("setCurrentHighlights",null);const{cancelToken:s}=(0,v.Yz)("fetchHighlightsById");e("updateLoadingStatus",{id:`highlights_${t}`,status:"pending"});try{const a=await(0,h.Bd)(t,s);if(a){const t=(0,p.Fv)(a,g.Vc);e("set",t,{root:!0}),e("setCurrentHighlights",t.result)}else(0,y.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}})}catch(a){}e("updateLoadingStatus",{id:`highlights_${t}`})},async removeHighlights({commit:e},t){await(0,h.d_)(t),e("removeHighlights",t),e("updateHighlightsOffset",0)},resetCurrentHighlights({commit:e}){e("setCurrentHighlights",null)},resetStoryAnswers({commit:e}){e("resetStoryAnswers"),e("setStoryAnswersLoading",!1)},async fetchStoryAnswers({dispatch:e,commit:t},s){const{storyId:a,offset:r,limit:i}=s;t("setStoryAnswersLoading",!0);let n={};try{const{cancelToken:e}=(0,v.Yz)("fetchStoryAnswers");n=await(0,h.ix)({storyId:a,offset:r,limit:i,cancelToken:e})}catch(o){}return n&&"object"==typeof n&&n.list&&n.list.length&&(await e("users/getUsersIfNeeded",{entities:{users:n.list.reduce(((e,{userId:t})=>({...e,[t]:{_views:["m"]}})),{})}},{root:!0}),t("setStoryAnswers",{answers:n.list,hasMore:n.hasMore})),t("setStoryAnswersLoading",!1),n},async fetchStoryBlockedViewers({commit:e}){e("setStoryBlockedViewers",[]);try{const t=await(0,h.ke)();if(t&&"object"==typeof t&&t.length){const s=(0,p.Fv)(t,g.C_);e("set",s,{root:!0}),e("setStoryBlockedViewers",s.result)}}catch(t){}},async sendAnswer(e,{storyId:t,text:s}){try{return await(0,h.j6)(t,s),{status:!0}}catch(a){return{status:!1,errorText:d()(a,"data.error.message")}}},async deleteStoryAnswer({commit:e},t){try{const s=await(0,h.ZO)(t);s&&!s.err&&e("deleteStoryAnswer",t)}catch(s){}},reportStory({state:e,dispatch:t,commit:s},a){const{userId:r}=e.items[a];s("removeStory",{storyId:a,userId:r}),t("updateUserHasStories",r)},async createStory(e,t){const s=await(0,h.DZ)(t),{result:a,entities:r}=(0,p.Fv)(s,g.iT);return r.stories[a]},storySocketUpdate({dispatch:e,commit:t,getters:s,rootGetters:a},r={}){const i=a["auth/authUserId"],{id:n,userId:o,expiredAt:d}=r,c=(0,p.Fv)(r,g.iT);if(o!==i)t("stories/addStoryToUser",{userId:o,storyId:n},{root:!0}),t("set",c,{root:!0});else{const a=c.entities.stories[c.result],r=s.getStory(n);a.src&&r.src&&a.src!==r.src&&a.src.split("?")[0]===r.src.split("?")[0]&&(c.entities.stories[c.result].src=r.src),t("set",c,{root:!0}),d&&t("stories/addStoryToUser",{userId:o,storyId:n},{root:!0}),e("updateUserHasStories",o)}}}},982049:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return A},getters:function(){return M},mutations:function(){return $},state:function(){return L}});var a=s(227361),r=s.n(a),i=s(170735),n=s.n(i),o=s(291966),d=s.n(o),c=s(333948),l=s.n(c),u=s(346314),m=s.n(u),h=s(141817),f=s.n(h),p=s(53189),g=s(782677),y=s(243168),v=s(408481),S=s(734416),P=s(857775),w=s(872308),b=s(181528);const I=!0,k=(e,t)=>{e.users={...e.users,[t.id]:{...e.users[t.id],...t}}},C=()=>({type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isShowTips:!1,tipsSumm:0,isOpened:!1,commentsCount:0,viewerAvailableStreamTypes:null},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null,openseaInfo:{}},timer:"0:00",streamState:"beforeStart",videoPlaying:!1,volume:1,muted:!1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,comments:[],isWaiting:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1},showTapToPlay:!1,videoLoaded:!1,streamTypes:{},streamType:void 0,failoverStreamTypes:[]}),T=()=>({mode:"",local:{stream:{id:0,description:"",rawDescription:"",tipsSumm:0,isShowTips:!1,commentsCount:0},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},start:0,duration:"0:00",timer:"0:00",streamState:"beforeStart",mediaStreamInitialized:!1,availableStreamingServersRequestReceived:!1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1}},partners:{},primaryPartnerUserId:0,streamsOrder:[],users:{},comments:{ids:[],items:{}},hasMoreComments:!1,tippers:{},bestTipperId:void 0,likes:[],viewers:{ids:[],hasMore:!1,loading:!1},privateCommentUser:null,summary:{online:[],viewers:0,comments:0,likes:0,tips:0},streamingChatEnabled:!1,switchToLive:!1,switchFromLive:!1,switchFromDual:!1,UI:{showCommentForm:!1,showComments:!1,showStreamingViewers:!1,showStreamingActions:!1,showStreamingSummary:!1,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingSystemStats:!1,endReason:"end",showStreamInformation:!1,showStreamDescription:!1,buttonsPanel:{showOrientationLabel:!0,showStartStreamBtn:!0,startStreamBtnDisabled:!0,showMicSwitchBtn:!0,micSwitchBtnDisabled:!0,showCameraSwitchBtn:!0,cameraSwitchBtnDisabled:!0},showTipGoalModal:!1,showStreamPriceModal:!1,streamingViewersMode:"viewers",showStreamInformationModal:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,showShowTipsToggleBtn:!1,commentInputFocused:!1,streamDescriptionFocused:!1,viewMode:"grid",showServiceProblem:!1,showStreamingAvailabilityModal:!1,showServerMaintenance:!1,showReconnectingStatus:!1},mediaDevices:{isMicrophoneMuted:!1,selectedMicrophone:void 0,selectedCamera:{},cameraList:[],cameraFacingMode:""},sentryLog:{getApiUrlRequest:{},getApiUrlResponse:{},startStreamRequested:!1,startStreamReceived:!1,onStreamStart:!1,roomName:null,streamId:null,user:null,detailedSpeedResult:null,failoverAttempts:[]},streamSystemStats:{bitrate:[]},streamPrice:{price:0},tcpTestResults:void 0,streamType:void 0,failoverStarted:!1,primaryFailoverStreamTypes:S.default.primaryFailoverStreamTypes,failoverOrderedServers:[],availability:{includeListIds:[],excludeListIds:[],subscribersIds:[],scheduledSubscribedOn:"",usersCount:null},hasActiveStream:!1,hasActiveRtmpStream:!1,serverMaintenanceAt:null,failoverMode:!0,failoverRunStream:!1,isCoStreamRequested:!1,inviteToCoStreamCounter:{},tweetOptions:{send:!1,withPreview:!1,preview:null},showStreamingPauseHint:!1}),L=T(),M={streams:e=>Object.assign({},{[e.local.user.id]:e.local},e.partners),partnersIds:e=>Object.keys(e.partners).map(Number),partnersArray:(e,t)=>t.partnersIds.map((t=>e.partners[t])),primaryPartner:e=>e.partners[e.primaryPartnerUserId],primary:(e,t)=>t.isStreamer?e.local:t.primaryPartner,partner:(e,t)=>t.partnersArray[0],partner2:(e,t)=>t.partnersArray[1],partner3:(e,t)=>t.partnersArray[2],isStreamer:e=>!e.primaryPartnerUserId||e.local.user.id==e.primaryPartnerUserId,isCoStreamer:(e,t)=>!t.isStreamer,anyPartnerIsLive:(e,t)=>t.partnersArray.some((e=>"started"===e.streamState)),streamDuration:e=>e.local.duration,tipGoal:e=>e.local.tipGoal,tipGoalVisible:e=>e.local.tipGoal.sum>0,streamPriceVisible:e=>e.streamPrice.price>0,timer:(e,t)=>t.isStreamer?e.local.timer:t.primaryPartner.timer,getInviteToCoStreamCounterForUser:e=>t=>e.inviteToCoStreamCounter[t]},$={setMode(e,t){e.mode=t},setLocal(e,t){e.local={...e.local,...t}},setLocalStream(e,t){e.local.stream={...e.local.stream,...t}},setLocalStreamUser(e,t){const s={id:t.id,name:t.name,username:t.username,displayName:t.displayName,isVerified:t.isVerified,tipsEnabled:t.tipsEnabled,subscribedBy:t.subscribedBy,canEarn:t.canEarn,isPerformer:t.isPerformer,avatar:t.avatar,avatarThumbs:t.avatarThumbs,openseaInfo:t.openseaInfo};e.local.user={...e.local.user,...s}},setStreamCovers(e,{data:t,instance:s}){e.local.user.id==s?e.local.covers=Object.assign(e.local.covers,t):e.partners[s].covers=Object.assign(e.partners[s].covers,t)},setPartnerUser(e,{user:t,instance:s}){const a={id:t.id,name:t.name,username:t.username,displayName:t.displayName,isVerified:t.isVerified,tipsEnabled:t.tipsEnabled,subscribedBy:t.subscribedBy,canEarn:t.canEarn,isPerformer:t.isPerformer,avatar:t.avatar,avatarThumbs:t.avatarThumbs,openseaInfo:t.openseaInfo};e.partners[s]||p.default.$set(e.partners,s,{type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isShowTips:!1,tipsSumm:0,isOpened:!1,commentsCount:0,viewerAvailableStreamTypes:null},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null,openseaInfo:{}},timer:"0:00",streamState:"beforeStart",videoPlaying:!1,volume:1,muted:!1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,comments:[],isWaiting:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1},showTapToPlay:!1,videoLoaded:!1,streamTypes:{},streamType:void 0,failoverStreamTypes:[]}),e.partners[s].user={...e.partners[s].user,...a}},setPartnerStream(e,{stream:t,instance:s}){t&&e.partners[s]&&(e.partners[s].stream={...e.partners[s].stream,...t})},setPartner(e,{data:t,instance:s}){t&&e.partners[s]&&(e.partners[s]={...e.partners[s],...t})},removePartner(e,t){e.partners[t]&&p.default.$delete(e.partners,t)},setPrimaryPartnerUserId(e,t){t&&(e.primaryPartnerUserId=t)},setPartnerStreamVolume(e,{volume:t,instance:s}){e.partners[s].volume=t},setPartnerStreamMuted(e,{muted:t,instance:s}){e.partners[s].muted=t},setPartnerTipGoal(e,{data:t,instance:s}){e.partners[s].tipGoal={...e.partners[s].tipGoal,...t}},setUsers(e,t){e.users=t},updateStreamHelpers(e,t){e.users=Object.keys(e.users).map((s=>({...e.users[s],isStreamHelper:t.includes(+s)}))).reduce(((e,t)=>({...e,[t.id]:t})),{})},setSummary(e,t){e.summary={...e.summary,...t}},setComments(e,t){e.comments.ids=[...t.ids],e.comments.items={...t.items}},addComment(e,t){const{id:s,text:a,user:{id:r,hasStreamTips:i=!1,hasTopStreamTips:n=!1},isPrivate:o=!1,isServiceMessage:d=!1}=t;r&&(e.tippers={...e.tippers,[r]:i}),n&&(e.bestTipperId=r),k(e,t.user),e.comments.items[t.id]={id:s,text:a,userId:r,isPrivate:o,isServiceMessage:d},e.comments.ids=[...e.comments.ids,t.id]},addComments(e,t){[...t||[]].forEach((t=>{void 0===e.tippers[t.user.id]&&t.user.hasStreamTips&&(e.tippers[t.user.id]=t.user.hasStreamTips),!e.bestTipperId&&t.user.hasTopStreamTips&&(e.bestTipperId=t.user.id),e.comments.items[t.comment_id]={id:t.comment_id,text:t.comment,userId:t.user.id,isPrivate:!1},e.users[t.user.id]||k(e,t.user),e.comments.ids=[t.comment_id,...e.comments.ids]}))},removeComment(e,t){t&&(e.comments.ids=e.comments.ids.filter((e=>e!=t)),delete e.comments.items[t])},addTips(e,t){e.summary.tips+=t},addLike(e,t){t.id=e.summary.likes;const s=undefined;[e.local.user.id,...Object.keys(e.partners)].find((e=>e==t.streamUserId))&&(e.likes=[...e.likes,t],e.local.user.id==t.streamUserId&&(e.summary.likes+=1))},removeLike(e,t){e.likes=e.likes.filter((e=>e.id!==t.id))},incrementViewersCount(e,t){e.summary.viewers+=t},decrementViewersCount(e,t){e.summary.viewers-=t},setViewersCount(e,t){e.summary.viewers=t},addViewer(e,t){k(e,t),e.viewers.ids=[...e.viewers.ids,+t.id]},addViewers(e,t){const s=[];e.users={...e.users,...t.reduce(((e,t)=>(s.push(+t.id),{...e,[t.id]:t})),{})},e.viewers.ids=[...e.viewers.ids,...s]},removeViewer(e,t){e.viewers.ids=e.viewers.ids.filter((e=>e!=t.id))},setViewers(e,t){e.viewers={...e.viewers,...t}},clearViewers(e){e.viewers.ids=[],e.viewers.hasMore=!1,e.viewers.loading=!1},setStreamingChatEnabled(e,t){e.streamingChatEnabled=t},setUI(e,t){e.UI={...e.UI,...t}},setUIButtonsPanel(e,t){e.UI.buttonsPanel={...e.UI.buttonsPanel,...t}},setDefaultPartnerUserStreamState(e,t){e.partners[t]={...e.partners[t],type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isShowTips:!1,tipsSumm:0,isOpened:!1,commentsCount:0,viewerAvailableStreamTypes:null},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null,openseaInfo:{}},timer:"0:00",streamState:"beforeStart",videoPlaying:!1,volume:1,muted:!1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,comments:[],isWaiting:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1},showTapToPlay:!1,videoLoaded:!1,streamTypes:{},streamType:void 0,failoverStreamTypes:[]}},setDefaultState(e){Object.assign(e,T())},setSwitchToLive(e,t){e.switchToLive=t},setSwitchFromLive(e,t){e.switchFromLive=t},setSwitchFromDual(e,t){e.switchFromDual=t},setMediaDevices(e,t){e.mediaDevices={...e.mediaDevices,...t}},setSentryLog(e,{key:t,value:s}){t&&(e.sentryLog[t]=s)},setStreamSystemStats(e,t){e.streamSystemStats={...e.streamSystemStats,...t}},setTipGoal(e,t){e.local.tipGoal={...e.local.tipGoal,...t}},setStreamPrice(e,t){e.streamPrice={...e.streamPrice,...t}},setPrivateCommentUser(e,t){e.privateCommentUser=t?{...t}:null},setStreamsOrder(e,t){e.streamsOrder=[...t]},removeStreamsOrder(e,t){e.streamsOrder=e.streamsOrder.filter((e=>e!=t))},setStreamType(e,t){e.streamType=t},setTcpTestResults(e,t){0},setAvailability(e,{includeListIds:t=[],excludeListIds:s=[],subscribersIds:a=[],scheduledSubscribedOn:r="",usersCount:i=null}){e.availability.includeListIds=t,e.availability.excludeListIds=s,e.availability.subscribersIds=a,e.availability.scheduledSubscribedOn=r,e.availability.usersCount=i},setHasActiveStream(e,t){e.hasActiveStream=t},setHasActiveRtmpStream(e,t){e.hasActiveRtmpStream=t},setHasMoreComments(e,t){e.hasMoreComments=t},setServerMaintenanceAt(e,t){e.serverMaintenanceAt=t},setFailoverMode(e,t){e.failoverMode=t},setFailoverRunStream(e,t){e.failoverRunStream=t},setFailoverStarted(e,t){e.failoverStarted=t},setPrimaryFailoverStreamTypes(e,t){e.primaryFailoverStreamTypes=t},pushFailoverOrderedServer(e,t){e.failoverOrderedServers.push(t)},shiftFailoverOrderedServer(e){e.failoverOrderedServers.shift()},setStreamTweetOptions(e,t){e.tweetOptions={...e.tweetOptions,...t}},setIsCoStreamRequested(e,t){e.isCoStreamRequested=t},setInviteToCoStreamCounter(e,t){const{userId:s,action:a}=t;"increment"===a&&(e.inviteToCoStreamCounter[s]=e.inviteToCoStreamCounter[s]+1),"init"!==a||Object.hasOwn(e.inviteToCoStreamCounter,[s])||(e.inviteToCoStreamCounter[s]=0),"reset"===a&&(e.inviteToCoStreamCounter={})},setShowStreamingPauseHint(e,t){e.showStreamingPauseHint=t},logout(e){Object.assign(e,T())}},A={async createStreamModule({state:e,commit:t}){var s;await(0,P.cc)(e.streamType),t("setShowStreamingPauseHint",null===(s=window.streamModule)||void 0===s?void 0:s.isAffectedWithStreamActiveHook)},async createViewModules({state:e}){await Promise.all(Object.keys(e.partners).map(P.k2))},destroy({state:e,commit:t,dispatch:s}){(0,P.cT)(),e.switchToLive||(s("destroyAllPartnersStreams"),delete window.viewModule),t("setDefaultState")},destroyAllPartnersStreams({state:e,dispatch:t}){Object.keys(e.partners).forEach((e=>{t("destroyPartnerStream",e)}))},destroyPartnerStream({state:e,dispatch:t},s){e.partners[s]&&((0,P.D5)({instance:s}),t("removePartner",s))},removePartner({state:e,commit:t},s){t("removeStreamsOrder",s),e.partners[s]&&t("removePartner",s)},stopAllPartnersStreams({state:e}){Object.keys(e.partners).forEach((e=>{(0,P.Pe)(e,"stopCostreams")}))},addComment({state:e,commit:t},s){t("addComment",s),t("setSummary",{comments:e.summary.comments+1})},addTips({state:e,commit:t,rootGetters:s},a){const r={[e.local.user.id]:{id:e.local.user.id,name:(0,b.HZ)(e.local.user.name||e.local.user.username)}};if("dual-streaming"===e.mode){const t=e.partners[a.stream_user_id];t&&(r[t.user.id]=t.user)}const i=r[a.stream_user_id];if(!i)return;const n=(0,w.getStreamingTipsComment)({vm:p.default,authUser:s["auth/authUser"],fromUser:a.from_user,toUser:i,amount:a.amount_human,message:a.message}),o=undefined;t("addComment",{id:a.id,text:n,user:a.from_user,isServiceMessage:!0});const d=+parseFloat(a.amount).toFixed(2);e.local.user.id==i.id?t("addTips",d):t("setPartnerStream",{instance:i.id,stream:{tipsSumm:d}})},joinUser({state:e,getters:t,commit:s},a){if(s("addViewer",a),"dual-streaming"===e.mode&&t.isCoStreamer&&Object.keys(e.partners).includes(a.id))return;if(e.summary.viewers>20)return;const r={id:`${a.id}_${(new Date).getTime()}`,user:a,text:p.default.$t("message.has_joined_stream_comment"),isServiceMessage:!0};s("addComment",r),setTimeout((()=>{s("removeComment",r.id)}),6e4)},leaveUser({commit:e},t){e("removeViewer",t)},async addLike({commit:e},t){e("addLike",t)},async removeLike({commit:e},t){e("removeLike",t)},addSubscribedComment({commit:e},t){const s={id:`${t.id}_${(new Date).getTime()}`,user:t,text:p.default.$t("message.streaming_user_subscribed"),isServiceMessage:!0};e("addComment",s),setTimeout((()=>{e("removeComment",s.id)}),6e4)},enableStreamingChat({commit:e,dispatch:t},s){e("setStreamingChatEnabled",!0),e("setLocal",{streamState:"started"}),e("setLocalStream",{id:s.id}),t("setStreamData",s)},disableStreamingChat({commit:e}){e("setUI",{showStreamingSummary:!0}),e("setLocal",{streamState:"ended"})},setStreamData({state:e,getters:t,commit:s,dispatch:a},r={}){if("started"!==e.local.streamState)return;s("setLocalStream",{description:r.description,rawDescription:r.rawDescription,tipsSumm:+parseFloat(r.tipsSumm).toFixed(2),isShowTips:!!+r.isShowTips,commentsCount:+r.commentsCount,price:+r.price}),s("setSummary",{comments:e.local.stream.commentsCount}),e.summary.comments>e.comments.length&&s("setHasMoreComments",!0),s("setLocalStreamUser",r.user);const i=undefined;s("setTipGoal",{isShowTipGoal:!!+r.isShowTipsGoal,sum:+r.tipsGoalSum,progress:+r.tipsGoalProgress,description:r.tipsGoal});const o=r.partners||[],d=undefined;n()(t.partnersArray,o,(e=>e.user.id)).forEach((e=>{a("destroyPartnerStream",e.user.id)})),o.forEach((e=>{const t=r.primaryPartnerUserId==e.user.id?"primary":"partner";a("setPartnerUserStreamData",{instance:e.user.id,streamData:e,partnerType:t})})),a("refreshStreamsOrder"),s("setPrimaryPartnerUserId",r.primaryPartnerUserId),o.length?s("setMode","dual-streaming"):(s("setMode","streaming"),s("setSwitchFromDual",!0))},setPartnerUserStreamData({commit:e},{streamData:t,instance:s,partnerType:a="partner",applyTips:r=!1}){if(!t||!s)return;if(t.user.id!=s)return;const i=undefined;if(e("set",(0,g.Fv)({...t.user},y.IK),{root:!0}),e("setPartnerUser",{user:t.user,instance:s}),e("setPartner",{data:{type:a},instance:s}),e("setPartnerStream",{stream:{id:t.id,thumbUrl:t.thumbUrl,startedAt:t.startedAt,canJoin:t.canJoin,description:t.description,rawDescription:t.rawDescription,isOpened:!!+t.isOpened,commentsCount:+t.commentsCount,viewerAvailableStreamTypes:t.viewerAvailableStreamTypes},instance:s}),"primary"===a&&(e("setSummary",{comments:L.partners[s].stream.commentsCount}),L.summary.comments>L.comments.length&&e("setHasMoreComments",!0)),r){e("setPartnerStream",{stream:{isShowTips:!!+t.isShowTips,tipsSumm:+parseFloat(t.tipsSumm).toFixed(2)},instance:s});const a=undefined;e("setPartnerTipGoal",{data:{isShowTipGoal:!!+t.isShowTipsGoal,sum:+t.tipsGoalSum,progress:+t.tipsGoalProgress,description:t.tipsGoal},instance:s})}},addPartner({commit:e},{partner:t,type:s}){e("setPartnerUser",{user:t.user,instance:t.user.id}),e("setPartnerStream",{stream:t.stream,instance:t.user.id}),e("setPartner",{data:{type:s,streamState:t.streamState,videoPlaying:t.videoPlaying,stretchVideo:t.stretchVideo,streamType:t.streamType,streamTypes:t.streamTypes,failoverStreamTypes:t.failoverStreamTypes},instance:t.user.id}),e("setPartnerStreamVolume",{volume:t.volume,instance:t.user.id}),e("setPartnerStreamMuted",{muted:t.muted,instance:t.user.id}),e("setPartnerTipGoal",{data:{isShowTipGoal:t.tipGoal.isShowTipGoal,sum:t.tipGoal.sum,progress:t.tipGoal.progress,description:t.tipGoal.description,showTipGoalProgress:t.tipGoal.showTipGoalProgress},instance:t.user.id})},doSwitchFromLive({rootGetters:e,commit:t,dispatch:s},{livePrimary:a,partners:r,comments:i,users:n,UI:o}){const d=undefined;t("setLocalStreamUser",e["auth/authUser"]),s("addPartner",{partner:a,type:"primary"}),t("setPrimaryPartnerUserId",a.user.id),r.forEach((e=>{s("addPartner",{partner:e,type:"partner"})})),s("refreshStreamsOrder"),t("setUsers",n),t("setComments",i),t("setUI",o),t("setSwitchFromLive",!0)},toggleCommentsViewMode({state:e,commit:t}){const s=undefined;t("setUI",{commentsViewMode:"full"===e.UI.commentsViewMode?"compact":"full"})},showStreamingViewersModal({commit:e},t){t&&e("setUI",{streamingViewersMode:t}),e("setUI",{showStreamingViewers:!0})},setAllShowTipGoalProgress({getters:e,commit:t},s){t("setTipGoal",{showTipGoalProgress:s}),e.partnersIds.forEach((e=>{t("setPartnerTipGoal",{data:{showTipGoalProgress:s},instance:e})}))},refreshStreamsOrder({state:e,getters:t,commit:s}){const a=[e.local.user.id,...t.partnersIds],r=d()(e.streamsOrder,a),i=d()(a,e.streamsOrder);if(r||i){const t=undefined;s("setStreamsOrder",[...e.streamsOrder.filter((e=>!r.includes(e))),...i])}},async checkActiveStream({commit:e}){try{const t=undefined;e("setHasActiveStream",!!(await(0,v.ml)()).hasActive)}catch{e("setHasActiveStream",!1)}},async checkActiveRtmpStream({commit:e}){const t=undefined,s=(await(0,v.Km)({skip_users:"all"})).filter((e=>e.isActive));if(s.length){const t=s[0];e("setHasActiveStream",!0),e("setHasActiveRtmpStream","obs"===t.streamingPlatform)}else e("setHasActiveStream",!1),e("setHasActiveRtmpStream",!1)},async loadMoreComments({state:e,commit:t}){const s=await(0,v.W7)(e.local.stream.id,{id:e.comments.ids.length?e.comments.ids[0]:void 0,limit:20});t("addComments",s.list),t("setHasMoreComments",s.hasMore)},async updateStreamInformation({state:e,commit:t},s){const a=await(0,v.jI)({streamId:e.local.stream.id,data:s});t("setLocalStream",{description:a.description,rawDescription:a.rawDescription,isShowTips:a.isShowTips})},async fetchStreamViewers({state:e,commit:t},{more:s=!1,query:a=""}){try{s||t("clearViewers");const i=e.viewers.ids.length;t("setViewers",{loading:!0});const n=await(0,v.ip)({streamId:e.local.stream.id,offset:i,query:a});r()(n,"list.length",0)&&(t("addViewers",n.list),t("setViewers",{hasMore:n.hasMore}))}catch(i){}finally{t("setViewers",{loading:!1})}},async fetchStreamStats({state:e,commit:t}){try{const{id:s}=e.local.stream,{stream_like_count:a,stream_active_look_count:r,stream_comment_count:i,stream_tip_sum:n}=await(0,v.a9)({id:s,withChart:!1,countersOnly:!0});t("setSummary",{likes:a,viewers:r,comments:i,tips:n})}catch(s){}}}},966312:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return k},getters:function(){return b},mutations:function(){return I},state:function(){return w}});var a=s(957557),r=s.n(a),i=s(875472),n=s.n(i),o=s(393386),d=s.n(o),c=s(291966),l=s.n(c),u=s(333948),m=s.n(u),h=s(217922),f=s.n(h),p=s(782677),g=s(243168),y=s(629857),v=s(408481),S=s(990733);const P=()=>({items:{},itemIds:[]}),w={items:{},itemIds:[]},b={streams:e=>n()(e.itemIds,null,"desc").map((t=>e.items[t])),streamsByUserId:e=>n()(e.itemIds,null,"desc").reduce(((t,s)=>({...t,[e.items[s].user]:e.items[s]})),{})},I={setItemIds(e,t){e.itemIds=[...t]},removeItems(e,{ids:t}){if((null==t?void 0:t.length)>0){const s=l()(e.itemIds,t);e.itemIds=[...s],e.items=r()(e.items,t)}},updateItem(e,t){e.items[t.id]&&(e.items={...e.items,[t.id]:{...e.items[t.id],...t}})},removeItem(e,t){e.itemIds=e.itemIds.filter((e=>e!==t)),e.items=r()(e.items,t)},logout(e){Object.assign(e,{items:{},itemIds:[]})}},k={fetchStreamsFeed:async({commit:e,dispatch:t},s={})=>{let a;const{cancelToken:r}=(0,S.Yz)("fetchStreamsFeed");try{s.skip_users="all",a=await(0,y.xf)(s,r)}catch(i){}if(a)if(a.list&&a.list.length){const s=(0,p.Fv)(a.list,g.Ro);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0});const r=undefined;e("setItemIds",s.result)}else e("setItemIds",[])},async fetchUserStream({commit:e},t){let s;try{s=await(0,v.UD)(t)}catch(a){}if(s){const t=(0,p.Fv)([s],g.Ro);e("set",t,{root:!0});const a=t.result;e("setItemIds",d()(w.itemIds,a));const r=undefined;e("set",(0,p.Fv)(s.user,g.IK),{root:!0})}},async removeStreamFromFeed({state:e,commit:t},s){const a=undefined;t("removeItems",{ids:e.itemIds.filter((e=>e==s))});const r=e.itemIds.map((t=>e.items[t])).filter((e=>e.partners.some((e=>e.id==s)))),i=undefined,n=(await Promise.allSettled(r.map((e=>(0,v.UD)(e.user))))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(n.length){const s=(0,p.Fv)(n,g.Ro);t("set",s,{root:!0});const a=s.result;t("setItemIds",d()(e.itemIds,a))}}}},269186:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return l},getters:function(){return d},mutations:function(){return c},state:function(){return o}});var a=s(999023),r=s(782677),i=s(243168);const n=()=>({userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1}),o={userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1},d={pastStreams:e=>e.itemsIds.map((t=>e.items[t]))},c={setUserId(e,t){e.userId!==t&&(e.offset=0,e.itemsIds=[],e.items={}),e.userId=t},setStreams(e,t){t?(e.hasMore=t.hasMore,e.hasMore&&(e.offset+=e.limit),t.list.forEach((t=>{e.items[t.id]||e.itemsIds.push(t.id),e.items[t.id]=t}))):e.hasMore=!1},logout(e){Object.assign(e,{userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1})}},l={fetchPastStreams:async({commit:e,state:t,dispatch:s},n)=>{let o;e("setUserId",n);try{o=await(0,a.Op)({userId:n,offset:t.offset,limit:t.limit})}catch(c){}if(o){var d;if(null!==(d=o.list)&&void 0!==d&&d.length){const e=(0,r.Fv)(o.list,i.Ro);await s("users/getUsersIfNeeded",e,{root:!0})}e("setStreams",o)}else e("setStreams")}}},971708:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return l},getters:function(){return d},mutations:function(){return c},state:function(){return o}});var a=s(720144),r=s(999023),i=s(629857);const n=()=>({items:{},itemsIds:[],offset:0,limit:8,hasMore:!1}),o={items:{},itemsIds:[],offset:0,limit:8,hasMore:!1},d={scheduledStreamsHasMore:e=>e.hasMore,scheduledStreams:e=>e.itemsIds.map((t=>e.items[t])).sort(((e,t)=>new Date(e.scheduledAt)-new Date(t.scheduledAt))),mainScheduledStream:(e,t)=>t.scheduledStreams[0],scheduledStreamsCount:e=>e.itemsIds.length},c={setStreams(e,{payload:t,pages:s}={}){t?(0===e.offset&&(e.itemsIds=[],e.items={},e.hasMore=!1),s&&(e.hasMore=t.hasMore,e.hasMore&&(e.offset+=e.limit)),t.list.forEach((t=>{e.items[t.id]||e.itemsIds.push(t.id),e.items[t.id]&&a.default.delete(e.items,t.id);const s=(new Date).getTime(),r=new Date(t.scheduledAt).getTime();t.dangerTime=s>r?"expired":r-s<=18e5&&"danger",a.default.set(e.items,t.id,t)}))):(e.itemsIds=[],e.items={},e.hasMore=!1)},addStream(e,t){e.items[t.id]=t,e.itemsIds.unshift(t.id)},editStream(e,t){a.default.delete(e.items,t.id),a.default.set(e.items,t.id,t)},setReminder(e,t){e.items[t].isReminder=!0},unsetReminder(e,t){e.items[t].isReminder=!1},removeIds(e,t){t.forEach((t=>{e.itemsIds=e.itemsIds.filter((e=>e!==t))}))},resetScheduledStreams(e){Object.assign(e,{items:{},itemsIds:[],offset:0,hasMore:!1})},logout(e){Object.assign(e,{items:{},itemsIds:[],offset:0,limit:8,hasMore:!1})}},l={fetchScheduledStreams:async({commit:e,state:t},{userId:s,pages:a=!0})=>{let i;try{i=await(0,r.$F)({userId:s,offset:t.offset,limit:t.limit})}catch(n){}i&&(i.list&&i.list.length?e("setStreams",{payload:i,pages:a}):e("setStreams"))},deleteScheduledStream:async({commit:e},t)=>{let s;try{s=await(0,i.ye)(t)}catch(a){}s&&e("removeIds",[t])},setScheduledStreamReminder:async({commit:e},t)=>{let s;try{s=await(0,i.$b)(t)}catch(a){}s&&e("setReminder",t)},unsetScheduledStreamReminder:async({commit:e},t)=>{let s;try{s=await(0,i.SA)(t)}catch(a){}s&&e("unsetReminder",t)}}},79233:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return P},getters:function(){return v},mutations:function(){return S},state:function(){return y}});var a=s(682492),r=s.n(a),i=s(333948),n=s.n(i),o=s(21703),d=s.n(o),c=s(782677),l=s(243168),u=s(172462),m=s(76816),h=s(999023),f=s(201505),p=s(990733);const g=()=>({items:{},awards:{},itemIds:[],awardsIds:[],subscribersCount:null,trials:{list:[],hasMore:!1},loading:!1,minSubscriptionPrice:3,minDiscountPercent:5,subscriptionHistory:{},hasMore:!1}),y={items:{},awards:{},itemIds:[],awardsIds:[],subscribersCount:null,trials:{list:[],hasMore:!1},loading:!1,minSubscriptionPrice:3,minDiscountPercent:5,subscriptionHistory:{},hasMore:!1},v={subscribers:e=>e.itemIds,getSubscriber:e=>t=>e.items[t],subscribersAwards:e=>e.awardsIds.map((t=>({id:t,percent:e.awards[t]})))},S={setLoading(e,t){e.loading=t},setSubscribers(e,{itemIds:t=[],data:s={}}={}){const{more:a}=s;e.itemIds=a?[...new Set([...e.itemIds,...t])]:[...t]},setSubscribersCount(e,t){e.subscribersCount=t},setTrials(e,{trials:t,more:s=!1}){e.trials={list:s?[...new Set([...e.trials.list,...t.list])]:[...t.list],hasMore:t.hasMore}},setTrial(e,t){e.trials.list.unshift(t)},deleteTrialMutation(e,t){e.trials.list=e.trials.list.filter((e=>e.id!==t))},setSubscribersAwardsIds(e,{ids:t=[],more:s=!1}={}){e.awardsIds=s?[...new Set([...e.awardsIds,...t])]:[...t]},setSubscribersAwards(e,t={}){e.awards=r()({},e.awards,t)},addSubscriptionHistory(e,{userId:t,history:s}){e.subscriptionHistory={...e.subscriptionHistory,[t]:s}},setHasMore(e,t=!1){e.hasMore=t},logout(e){Object.assign(e,{items:{},awards:{},itemIds:[],awardsIds:[],subscribersCount:null,trials:{list:[],hasMore:!1},loading:!1,minSubscriptionPrice:3,minDiscountPercent:5,subscriptionHistory:{},hasMore:!1})}},P={async fetchSubscribers({commit:e},t={}){var s;const{cancelToken:a,Cancel:r}=(0,p.Yz)("fetchSubscribers");let i;e("setLoading",!0),t.more||e("setSubscribers",{itemIds:[],data:t});try{i=await(0,m.tY)(t,a)}catch(n){if(e("setLoading",!1),n instanceof r)return{isCanceled:!0}}if(e("setLoading",!1),!Array.isArray(null===(s=i)||void 0===s?void 0:s.list))return(0,u.oj)({error:new Error("typeof response is incorrect"),extra:{response:i}}),{list:[],hasMore:!1};if(e("setHasMore",i.hasMore),i.list.length){const s=(0,c.Fv)(i.list,l.Xd),a=s.result;e("set",s,{root:!0}),e("setSubscribers",{itemIds:a,data:t})}return i},async fetchSubscribersCount({commit:e},t={}){e("setSubscribersCount",null);try{const{count:s}=await(0,m.Iz)(t);void 0!==s&&e("setSubscribersCount",s)}catch(s){}},async putSubscriptionDiscount({commit:e},t={}){let s;try{var a;if(s=await(0,m.gr)(t),null!==(a=s)&&void 0!==a&&a.id){const t=undefined;e("set",(0,c.Fv)(s,l.IK),{root:!0})}}catch(r){(0,u.Po)(r)}return s},async createTrial({commit:e},t={}){try{const s=await(0,m.i2)(t);s&&e("setTrial",s)}catch(s){(0,u.Po)(s)}},async fetchTrials({commit:e},{more:t,...s}={}){e("setLoading",!0);const a={items:{},awards:{},itemIds:[],awardsIds:[],subscribersCount:null,trials:{list:[],hasMore:!1},loading:!1,minSubscriptionPrice:3,minDiscountPercent:5,subscriptionHistory:{},hasMore:!1};t||e("setTrials",{trials:a.trials});try{const a=await(0,m.mk)(s);return e("setTrials",{trials:a,more:t}),e("setLoading",!1),a}catch(r){return e("setLoading",!1),a.trials}},async deleteTrialAction({commit:e},t){let s;try{var a;s=await(0,m.l$)(t),null!==(a=s)&&void 0!==a&&a.success&&e("deleteTrialMutation",t)}catch(r){(0,u.Po)(r)}return s},async fetchSubscriber({commit:e},t){let s;try{var a;if(s=await(0,h.PR)(t,{view:"subscriber"}),null!==(a=s)&&void 0!==a&&a.id){const t=undefined;e("set",(0,c.Fv)(s,l.IK),{root:!0})}}catch(r){}return s},async fetchSubscribersAwards({commit:e},t={}){try{const{more:s}=t;s||e("setSubscribersAwardsIds");const{list:a}=await(0,m.dl)(t);let r=[];if(Array.isArray(a)&&a.length){const t={};a.forEach((s=>{const a=(0,c.Fv)(s.user,l.IK),i=a.result;e("set",a,{root:!0}),t[i]=s.percent,r=[...new Set([...r,i])]})),e("setSubscribersAwards",t),e("setSubscribersAwardsIds",{ids:r,more:s})}return r}catch(s){return[]}},async clearPersonalDiscount({dispatch:e},t){await e("putSubscriptionDiscount",{id:t,discount:0,period:1})},async sendPersonalTrial(e,t={}){try{const e=await(0,f.PK)(t);return Array.isArray(e)?e:((0,u.oj)({error:new Error("typeof response is incorrect"),extra:{response:e}}),[])}catch(s){(0,u.Po)(s)}return[]},async fetchSubscriberHistory({commit:e},t){try{const s=await(0,m.IE)(t),{list:a}=s;Array.isArray(a)?a.length&&e("addSubscriptionHistory",{userId:t,history:a}):(0,u.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){}}}},514614:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});var a=s(333948),r=s.n(a),i=s(21703),n=s.n(i),o=s(782677),d=s(243168),c=s(76816),l=s(172462),u=s(990733);const m=()=>({items:{},itemIds:[],subscribesCount:null,hasMore:!1}),h={items:{},itemIds:[],subscribesCount:null,hasMore:!1},f={subscribes:e=>e.itemIds.map((t=>e.items[t])).filter((e=>e)),getSubscribe:e=>t=>e.items[t]},p={setSubscribes(e,{itemIds:t=[],more:s=!1}={}){e.itemIds=s?[...new Set([...e.itemIds,...t])]:[...t]},setSubscribesCount(e,t){e.subscribesCount=t},setSubscribeField(e,{id:t,field:s,status:a}){e.items[t]&&(e.items[t]={...e.items[t],[s]:a})},removeSubscribe(e,t){e.itemIds=e.itemIds.filter((e=>e!==t))},setHasMore(e,t=!1){e.hasMore=t},logout(e){Object.assign(e,{items:{},itemIds:[],subscribesCount:null,hasMore:!1})}},g={async fetchSubscribes({commit:e,rootGetters:t},s={}){var a,r;const{more:i,type:n,sort:m,field:h}=s,{cancelToken:f,Cancel:p}=(0,u.Yz)("fetchSubscribes");let g;delete s.more,i||e("setSubscribes");try{g=await(0,c.mf)(s,f)}catch(S){return S instanceof p?{isCanceled:!0}:[]}if(e("setHasMore",!(null===(a=g)||void 0===a||!a.hasMore)),!Array.isArray(null===(r=g)||void 0===r?void 0:r.list))return(0,l.oj)({error:new Error("typeof response is incorrect"),extra:{response:g}}),[];if("expired"!==n||"desc"!==m||"expire_date"!==h||i||e("users/setUserField",{userId:t["auth/authUserId"],field:"hasRecentlyExpired",status:!1},{root:!0}),!g.list.length)return[];const y=(0,o.Fv)(g.list,d.Xd),v=y.result;return e("set",y,{root:!0}),"changed"!==n&&e("setSubscribes",{itemIds:v,more:i}),v},async fetchSubscribesCount({commit:e},t={}){e("setSubscribesCount",null);try{const{count:s}=await(0,c.gM)(t);void 0!==s&&e("setSubscribesCount",s)}catch(s){}},async autoprolongToggle({commit:e,state:t},{id:s,force:a=!1,place:r}){let i;try{var n;const l=t.items[s]||{},u="on"===a||(!l.renewedAt&&l.subscribePrice>0||l.subscribePrice>Math.max(l.newPrice,l.price)||!l.renewedAt&&l.price>0&&0===l.subscribePrice)&&"off"!==a;if(i=await(0,c.qT)({id:s,on:u,place:r}),null!==(n=i)&&void 0!==n&&n.id){const t=undefined;e("set",(0,o.Fv)(i,d.IK),{root:!0})}}catch(u){(0,l.Po)(u)}return i},updateSubscribe({commit:e,rootGetters:t},s){const{id:a}=s,r=t["users/getUser"](a),i={...s};if(r){const{promotions:e}=r,{promotions:t}=s;e&&!t&&(i.promotions=[])}const n=undefined;e("set",(0,o.Fv)(i,d.IK),{root:!0})}}},699560:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return c},getters:function(){return o},mutations:function(){return d},state:function(){return n}});var a=s(436968),r=s.n(a);const i=()=>({data:{}}),n={data:{}},o={getAllCodesByRouteName:e=>t=>Object.keys(e.data[t||"unknown"])},d={set(e,{routeName:t,code:s,value:a}){const i={...e.data};r()(i,[t||"unknown",s],a),e.data=i},logout(e){Object.assign(e,{data:{}})}},c={set({commit:e},t){e("set",t)}}},857107:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return X},getters:function(){return H},mutations:function(){return z},state:function(){return V}});var a=s(545578),r=s.n(a),i=s(102883),n=s.n(i),o=s(393386),d=s.n(o),c=s(478718),l=s.n(c),u=s(682492),m=s.n(u),h=s(227361),f=s.n(h),p=s(333948),g=s(21703),y=s(115306),v=s(720144),S=s(782677),P=s(53189),w=s(243168),b=s(999023),I=s(749832),k=s(76816),C=s(201505),T=s(483190),L=s(990733);const M=e=>L.ZP.post(`${L.tW}/users/social/spring`,e).then((e=>e.data)),$=()=>L.ZP.delete(`${L.tW}/users/social/spring`).then((e=>e.data)),A=e=>L.ZP.get(`${L.tW}/users${e?`/${e}`:""}/social/spring`).then((e=>e.data)),_=e=>L.ZP.get(`${L.tW}/users/social/buttons`,{cancelToken:e}).then((e=>e.data)),F=(e,t)=>L.ZP.get(`${L.tW}/users/${e}/social/buttons`,{cancelToken:t}).then((e=>e.data)),E=e=>L.ZP.post(`${L.tW}/users/social/buttons`,{buttonIds:e}).then((e=>e.data)),D=e=>L.ZP.put(`${L.tW}/users/social/buttons`,e).then((e=>e.data)),U=(e,t)=>L.ZP.put(`${L.tW}/users/social/buttons/${t}`,e).then((e=>e.data)),R=e=>L.ZP.delete(`${L.tW}/users/social/buttons/${e}`).then((e=>e.data));var O=s(8056),x=s(181528),B=s(172462),j=s(914786),W=s(738129),Z=s(310569);const q={subscriptions:{active:null,muted:null,restricted:null,expired:null,all:null,attention:null,blocked:null},subscribers:{active:null,muted:null,restricted:null,expired:null,all:null,blocked:null,activeOnline:null}},N=()=>({needResetCheckOnlines:!1,deferredOnlines:[],checkOnlines:[],items:{},notFoundUsers:[],currentUser:null,modalUser:null,modalPost:null,modalStory:null,online:[],recommendedUsers:[],recentlyExpiredUsers:[],recommendedAuthor:null,isRecommendsFree:!1,userAlert:null,blocked:[],restricted:[],search:[],searchAutocomplete:[],settingsPost:{currentCode:null,options:[]},subscriptionsCount:q,friends:{},friendsLoading:!1,links:[],userLinks:null,nfts:[],profileDataLoadingError:!1,subscriptionsCountTimestamp:0,isFetchingSubscriptionsCount:!1,notifications:[],notificationsType:"",notificationsCounts:{[Z.C6]:0,[Z.pK]:0,[Z.l$]:0,[Z.y9]:0,[Z.gM]:0,[Z.BI]:0,[Z.PT]:0,[Z.bT]:0,[Z.f_]:0,[Z.Yt]:0},notificationsOrder:[Z.C6],socialButtons:null,banners:[],isBannersLoading:!1,forceFriendsReload:!1,notificationsOffset:0,blockedOffset:0,restrictedOffset:0,customDataSaving:!1,streamSettings:{data:{},dataLoaded:!1},preLoginSubscriptionData:null}),V=N(),H={getUserBlockedState:e=>t=>(t||(t=e.currentUser),f()(e.items,[t,"isBlocked"],!1)),user:e=>e.items[e.currentUser]||{},userId:e=>e.currentUser,hasUser:e=>!!e.currentUser,getSocialButtons:e=>t=>f()(e,`socialButtons[${t}]`)||[],getUser:e=>t=>t&&+t==t&&e.items[+t]||{},findUserByUserName:e=>t=>Object.keys(e.items).map((t=>e.items[t])).find((e=>e.username===t)),getOnline:e=>e.online,getUserIds:e=>Object.keys(e.items).map(Number),getCheckOnlinesIds:e=>e.checkOnlines,searchUsers:e=>e.search,needSkipUsers:(e,t)=>s=>t.getUserIds.filter((t=>f()(e.items[t],`view.${s}`)+864e5>+new Date)),needSkipUsersNotMe:(e,t,s)=>e=>t.needSkipUsers(e).filter((e=>e!==s.auth.user)),needSkipUsersOnShort:(e,t)=>!!t.needSkipUsersNotMe("s").length,subscriptionsCountIntervalMs:(e,t,s)=>{const a=f()(s,"auth.user");if(!a||!e.items[a])return 0;const{subscribersCount:r=0}=e.items[a];switch(!0){case r>1e4:return 6e4;case r>1e3:return 3e5;default:return 6e5}}},z={toggleUsersBlockedBy(e,{userId:t,value:s}){t||(t=e.currentUser),e.items[t]&&v.default.set(e.items[t],"isBlocked",s)},setCurrentUser(e,t){e.currentUser=t},setModalUser(e,{userId:t,postId:s,storyId:a}){e.modalUser=t,e.modalPost=s,e.modalStory=a},resetCheckOnlines(e){e.needResetCheckOnlines=!0},setDefferedOnlines(e,t){e.deferredOnlines=t},setOnline(e,t){e.online=[...new Set([...t.map((e=>+e)),...e.deferredOnlines])],Object.keys(e.items).forEach((t=>{void 0===e.items[t].isOnline&&v.default.set(e.items[t],"isOnline",!1),e.items[t].isOnline!==e.online.includes(+t)&&(e.items[t].isOnline=e.online.includes(+t))})),e.deferredOnlines=[]},addOnlineUser(e,t){e.online=[...e.online,t]},removeOnlineUser(e,t){const{online:s}=e;e.online=s.filter((e=>e!==t))},setRecommendedUsers(e,t=[]){e.recommendedUsers=[...t]},removeRecommendedUser(e,t){e.recommendedUsers=e.recommendedUsers.filter((e=>e!==t))},setRecentlyExpiredUsers(e,t=[]){e.recentlyExpiredUsers=[...t]},removeRecentlyExpiredUser(e,t){e.recentlyExpiredUsers=e.recentlyExpiredUsers.filter((e=>e!==t))},setRecommendedAuthor(e,t){e.recommendedAuthor=t},setUserHiddenPosts(e,{id:t,status:s}){e.items[t]&&(e.items[t].showPostsInFeed=s)},setUserFriend(e,{authUserId:t,id:s,status:a}){const r=t||e.currentUser;e.friends[r]||v.default.set(e.friends,r,[]);const i=e.friends[r];i&&((a=a||i&&i.includes(s))?e.friends[r]=i.filter((e=>s!==e)):e.friends[r].push(s))},setNotificationsCountsByType(e,t){e.notificationsType!==Z.C6&&e.notificationsType!==t&&(e.notificationsCounts[t]+=1,e.notificationsCounts.all+=1)},calculateNotificationsCounts(e,{type:t,clear:s}={}){s?Object.keys(e.notificationsCounts).forEach((t=>{t!==Z.C6&&(e.notificationsCounts[t]=0)})):t&&t!==Z.C6?(e.notificationsCounts.all=Math.max(0,e.notificationsCounts.all-e.notificationsCounts[t]),e.notificationsCounts[t]=0):Object.keys(e.notificationsCounts).forEach((t=>{e.notificationsCounts[t]=0}))},setNotificationsReadById(e,t){const s=e.notifications.find((e=>e.id===t));s&&(s.isRead=!0)},setNotifications(e,{notifications:t=[],more:s,unread:a}={}){let i=[];i=!a||e.notificationsType!==t[0].type&&e.notificationsType!==Z.C6?s?[...e.notifications,...t]:[...t]:[...t,...e.notifications],e.notifications=r()(i,(e=>e.id))},setNotificationsOffset(e,t=0){e.notificationsOffset=t},setNotificationsType(e,t=""){e.notificationsType=t},setChatMessagesCount(e,{userId:t,chatMessagesCount:s}){e.items[t]&&(e.items[t].chatMessagesCount=s)},setChatPriorityCount(e,{userId:t,countPriorityChat:s}){e.items[t]&&(e.items[t].countPriorityChat=s)},resetChatMessagesCount(e,{userId:t,unreadMessagesCount:s}){if(e.items[t]&&e.items[t].chatMessagesCount){const{chatMessagesCount:a}=e.items[t];e.items[t].chatMessagesCount=a>s?a-s:0}},setChatMessagesCountPushNotifications(e,{userId:t}){e.items[t]&&e.items[t].chatMessagesCount&&(e.items[t].chatMessagesCount-=1)},changeUsersPostsCount(e,{decrement:t=!1}){e.items[e.currentUser]&&void 0!==e.items[e.currentUser].postsCount&&(t?e.items[e.currentUser].postsCount-=1:e.items[e.currentUser].postsCount+=1)},setChatPriorityCountPushNotifications(e,{userId:t}){e.items[t]&&e.items[t].countPriorityChat&&(e.items[t].countPriorityChat-=1)},setUserNotificationsCount(e,{userId:t,notificationsCount:s,hasSystemNotifications:a}){e.items[t]&&(e.items[t].notificationsCount=s,void 0!==a&&(e.items[t].hasSystemNotifications=a))},setUserField(e,{userId:t,field:s,status:a}){e.items[t]&&(e.items[t]={...e.items[t],[s]:a})},setUserAlert(e,t=null){e.userAlert=t},setBlockedUsers(e,{itemIds:t=[],more:s=!1}={}){e.blocked=s?[...new Set([...e.blocked,...t])]:t},setBlockedOffset(e,t=0){e.blockedOffset=t},setRestricted(e,{itemIds:t=[],more:s=!1}={}){e.restricted=s?[...new Set([...e.restricted,...t])]:t},setRestrictedOffset(e,t=0){e.restrictedOffset=t},setSearchUsers(e,{itemIds:t=[],more:s=!1}={}){e.search=s?[...new Set([...e.search,...t])]:t},setSearchAutocompleteUsers(e,t=[]){e.searchAutocomplete=t},setStreamSettings(e,{data:t,dataLoaded:s}){"object"==typeof t&&(e.streamSettings.data=t),void 0!==s&&(e.streamSettings.dataLoaded=s)},setSettingsPost(e,t){e.settingsPost=t},setSettingsPostCurrentCode(e,t){e.settingsPost.currentCode=t},setFriendsList(e,{userId:t,friends:s,more:a=!1}){e.friends[t]||v.default.set(e.friends,t,[]),e.friends[t]=a?[...e.friends[t]||[],...s]:s},setFriendsLoading(e,t){e.friendsLoading=t},addConnectedAccount(e,{userId:t,userData:s}){e.items[t]&&s&&(void 0!==s.connectedUser&&(e.items[t].connectedOfAccounts=[...new Set([...e.items[t].connectedOfAccounts,s.connectedUser.id])]),void 0!==s.canConnectOfAccount&&(e.items[t].canConnectOfAccount=s.canConnectOfAccount),void 0!==s.cantConnectOfAccountReason&&(e.items[t].cantConnectOfAccountReason=s.cantConnectOfAccountReason))},removeConnectedAccount(e,{userId:t,accountId:s,userData:a}){e.items[t]&&a&&(a.success&&(e.items[t].connectedOfAccounts=e.items[t].connectedOfAccounts.filter((e=>e!==s))),void 0!==a.canConnectOfAccount&&(e.items[t].canConnectOfAccount=a.canConnectOfAccount),void 0!==a.cantConnectOfAccountReason&&(e.items[t].cantConnectOfAccountReason=a.cantConnectOfAccountReason))},deleteBundle(e,{userId:t,bundleId:s}){e.items[t]&&(e.items[t].subscriptionBundles=e.items[t].subscriptionBundles.filter((e=>+e!=+s)))},setBundle(e,{userId:t,bundleId:s}){e.items[t]&&(e.items[t].subscriptionBundles=[...new Set([...e.items[t].subscriptionBundles,s])])},setSubscriptionsCount(e,t){e.subscriptionsCount=t},toggleRecommendsFree(e){e.isRecommendsFree=!e.isRecommendsFree},unsetUserOffer(e,{offerId:t,userId:s}){e.items[s]&&e.items[s].promoOffers&&(e.items[s].promoOffers=e.items[s].promoOffers.filter((e=>e.id!==t)))},setUserOffers(e,{userId:t,offers:s}){e.items[t]&&(e.items[t].promoOffers=s)},unsetUser(e){V.items[e]&&v.default.delete(V.items,e)},setLinks(e,t=[]){e.links=t.map((e=>({...e,url:(0,x.HZ)(e.url)})))},deleteLinks(e,t){void 0===t?e.links.splice(e.links.length-1,1):e.links.splice(t,1)},deleteLink(e,t){e.links=e.links.filter((e=>e.id!==t))},setUserLinks(e,t){e.userLinks=t},resetUserLinks(e){e.userLinks=null},setHasNft(e,{userId:t,hasNft:s}){e.items[t].openseaInfo.hasNft=s},setNfts(e,t){e.nfts=t},resetNfts(e){e.nfts=[]},updateUserCounters(e,t){if(e.items[e.currentUser])for(const[s,a]of Object.entries(t))e.items[e.currentUser][s]=a},setProfileDataLoadingError(e,t){e.profileDataLoadingError=t},setFetchingSubscriptionsCount(e,t=!1){e.isFetchingSubscriptionsCount=t},setSubscriptionsCountTimestamp(e,t=Date.now()){e.subscriptionsCountTimestamp=t},setNotificationsCounts(e,t){e.notificationsCounts=t},setNotificationsOrder(e,t){e.notificationsOrder=t},setSocialButtons(e,{id:t,buttons:s}){const a=Array.isArray(s)?s:[];e.socialButtons={...e.socialButtons,[t]:a}},setBanners(e,t=[]){e.banners=t},setBannersLoading(e,t){e.isBannersLoading=t},setForceFriendsReload(e,t){e.forceFriendsReload=t},setUnreadTips(e,{userId:t,value:s}){e.items[t]&&(e.items[t].unreadTips=s)},setCustomDataSaving(e,t){e.customDataSaving=t},setNotFoundUser(e,t){e.notFoundUsers.includes(t)||e.notFoundUsers.push(t)},setPreLoginSubscriptionData(e,t){e.preLoginSubscriptionData=t},logout(e){Object.assign(e,N())}},G={promotions:[],subscribedBy:null,currentSubscribePrice:null},X={async fetchUser({commit:e},{id:t,httpreferrer:s}){let a;try{var r;if(a=await(0,b.PR)(t,{httpreferrer:s}),null!==(r=a)&&void 0!==r&&r.id){a=m()({},G,a);const t=undefined;e("set",(0,S.Fv)(a,w.IK),{root:!0})}}catch(o){var i,n;"User not found"===(null==o||null===(i=o.data)||void 0===i||null===(n=i.error)||void 0===n?void 0:n.message)&&(e("setNotFoundUser",t),e("setProfileDataLoadingError",!0))}return a},async fetchCurrentUser({commit:e,dispatch:t},{id:s,httpreferrer:a}){const r=await t("fetchUser",{id:s,httpreferrer:a});return null!=r&&r.id&&e("setCurrentUser",r.id),r},async disableTwitter({commit:e,rootGetters:t}){try{const s=undefined;if((await(0,b.z6)()).success){const s=t["auth/authUserId"];e("setUserField",{userId:s,field:"isTwitterConnected",status:!1}),e("setUserField",{userId:s,field:"twitterUsername",status:null})}}catch(s){(0,B.Po)(s)}},async patchUserMeBySection(e,{data:t,section:s}){let a;try{a=await(0,b.lA)(t,s)}catch(r){Sentry.captureException(r)}return a},async patchUser(e,t){let s;try{s=await(0,b.y6)(t)}catch(a){return Sentry.captureException(a),a.data}return s},async changeUser({commit:e,rootGetters:t},s){const a=t["auth/authUser"];let r;try{var i;const t=["about","avatar","header","isSuggestionsOptOut","isVisibleOnline","location","name","paidFeed","recommenderReward","replyOnSubscribe","shouldReceiveLessNotifications","subscribePrice","username","website","wishlist"],n=l()(a,t);if(r=await(0,b.IF)({...n,...s}),null!==(i=r)&&void 0!==i&&i.success){const t=s.isVisibleOnline;e("setUserField",{userId:a.id,field:"isVisibleOnline",status:t}),e(1===t?"addOnlineUser":"removeOnlineUser",a.id)}}catch(n){return Sentry.captureException(n),n.data}return r},async changeUserBySection(e,{data:t,section:s}){let a;try{a=await(0,b.sV)(t,s)}catch(r){return Sentry.captureException(r),r.data}return a},async toggleRestrictUser({commit:e,state:t,dispatch:s},a){try{const{isRestricted:r,canRestrict:i,disabledRestrict:n}=t.items[a];if(!i&&!r||n)return;e("setUserField",{userId:a,field:"disabledRestrict",status:!0});const o=r?await(0,k.JR)(a):await(0,k.W3)(a);if(null!=o&&o.id){const i=undefined;e("set",(0,S.Fv)(o,w.IK),{root:!0});const n=undefined;e("setRestricted",{itemIds:r?t.restricted.filter((e=>e!==a)):t.restricted.concat(a)});let{restricted:d}=t.subscriptionsCount.subscribers;if(null!==d){const s=undefined;e("setSubscriptionsCount",{...t.subscriptionsCount,subscribers:{...t.subscriptionsCount.subscribers,restricted:Math.max(0,r?d-=1:d+=1)}})}["Chat","Chats"].includes(P.default.$route.name)&&s("chats/fetchChat",a,{root:!0})}}catch(r){(0,B.Po)(r)}e("setUserField",{userId:a,field:"disabledRestrict",status:!1})},async toggleHiddenPosts({commit:e,state:t},s){const{showPostsInFeed:a}=t.items[s];try{const t=a?await(0,k._8)(s):await(0,k.Fu)(s);null!=t&&t.success&&e("setUserHiddenPosts",{id:s,status:!a})}catch(r){Sentry.captureException(r)}},async unFriendUser({commit:e,rootGetters:t,dispatch:s},a){try{const r=await(0,b.g5)(a);if(null!=r&&r.success){const r=t["auth/authUser"],i=t["auth/authUserId"]||t["users/userId"],n=undefined;(V.friends[i]||[]).length>9?await s("fetchFriendsList",{userId:r.id}):e("setUserFriend",{authUserId:r.id,id:a,status:!1}),e("setUserField",{userId:r.id,field:"friendsList",status:r.friendsList.filter((e=>a!==e))})}}catch(r){(0,B.Po)(r)}},async fetchRecommendedUsers({commit:e,state:t,dispatch:s}){try{const a=await(0,b.tL)({firstFeedPostUserId:t.recommendedAuthor,state:t.isRecommendsFree?"free":void 0});if(Array.isArray(a))if(a.length){const t=(0,S.Fv)(a,w.Xd);await s("getUsersIfNeeded",t),e("set",t,{root:!0}),e("setRecommendedUsers",t.result)}else e("setRecommendedUsers");else(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}})}catch(a){}},async deleteRecommendedUser({commit:e},t){try{const s=await(0,b.RA)(t);null!=s&&s.success&&e("removeRecommendedUser",t)}catch(s){(0,B.Po)(s)}},async fetchRecentlyExpiredUsers({commit:e,dispatch:t}){try{const s=await(0,k.eT)();if(Array.isArray(s))if(s.length){const a=(0,S.Fv)(s,w.Xd);await t("getUsersIfNeeded",a),e("set",a,{root:!0}),e("setRecentlyExpiredUsers",a.result)}else e("setRecentlyExpiredUsers");else(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){}},async fetchNotifications({commit:e,dispatch:t,state:s},{type:a,relatedUser:r,more:i}={}){i||(e("setNotificationsOffset"),e("setNotifications"));const{cancelToken:n,Cancel:o}=(0,L.Yz)("fetchNotifications");try{const o=await(0,b.TH)({limit:L.P9,offset:s.notificationsOffset,type:a===Z.C6?void 0:a,relatedUser:r,skipUsers:"all",cancelToken:n});if(o&&"object"==typeof o){const{hasMore:a=!1,list:r=[]}=o;if(Array.isArray(r)&&r.length){const s=(0,S.Fv)(r,w.vU);await t("getUsersIfNeeded",{entities:{users:Object.keys(s.entities.users).reduce(((e,t)=>({...e,[t]:{...s.entities.users[t],_views:["m"]}})),{})}}),e("set",s,{root:!0}),e("setNotifications",{notifications:r,more:i})}return e("setNotificationsOffset",s.notificationsOffset+L.P9),{hasMore:a}}return(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:o}}),{hasMore:!1}}catch(d){if(d instanceof o)return{isCanceled:!0}}return{isError:!0}},async setNotificationsReadByType({commit:e},t=Z.C6){try{const s=await(0,b.Gp)(t===Z.C6?"":t);s&&"object"==typeof s?s.counters&&e("setNotificationsCounts",s.counters):(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){Sentry.captureException(s)}},async setNotificationsReadById({commit:e},t){try{const s=await(0,b.NS)(t);if(s&&"object"==typeof s)return s.counters&&e("setNotificationsCounts",s.counters),void(s.success&&e("setNotificationsReadById",t));(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){Sentry.captureException(s)}},async createPromotion({commit:e,rootGetters:t},s){try{const a=await(0,C.kb)(s);if(null!=a&&a.length){const s=t["auth/authUser"],r=s.id,i=undefined;e("setUserField",{userId:r,field:"promotions",status:f()(s,"promotions",[]).filter((e=>e.hasRelatedPromo)).length>1?a:n()(a,f()(s,"promotions",[]),((e,t)=>e.type===t.type))})}}catch(a){(0,B.Po)(a)}},async finishPromotion({commit:e,rootGetters:t,rootState:s},a){try{var r;const i=await(0,C.yK)(a),n=t["auth/authUser"],o=s.init.currentDate;if(null!=i&&i.success&&null!=n&&null!==(r=n.promotions)&&void 0!==r&&r.length){const t=n.promotions.find((e=>e.id===a)),s=n.promotions.filter((e=>e.hasRelatedPromo)).length>1;t&&e("setUserField",{userId:n.id,field:"promotions",status:s?[...n.promotions.map((e=>({...e,finishedAt:o,canClaim:!1})))]:[...n.promotions.filter((e=>e.id!==t.id)),{...t,finishedAt:o,canClaim:!1}]})}}catch(i){(0,B.Po)(i)}},async deletePromotion({commit:e,rootGetters:t},s){try{const a=await(0,C.S4)(s);if(null!=a&&a.success){const a=t["auth/authUser"],r=f()(a,"promotions",[]).filter((e=>e.id!==s)),i=f()(a,"promotions",[]).filter((e=>e.hasRelatedPromo)).length>1;e("setUserField",{userId:a.id,field:"promotions",status:i?[]:r})}}catch(a){(0,B.Po)(a)}},async fetchAlert({commit:e}){try{const{cancelToken:t}=(0,L.Yz)("fetchAlert"),s=await(0,b.uH)(t);null!=s&&s.id&&e("setUserAlert",s)}catch(t){}},async removeAlert({commit:e,state:t},s){try{const{isPersonal:a}=t.userAlert||{},r=!1===a?await(0,b.cW)(s):await(0,b.gj)(s);null!=r&&r.success&&e("setUserAlert")}catch(a){Sentry.captureException(a)}},async toggleBlockUser({commit:e,state:t,dispatch:s,rootState:a,rootGetters:r},i){try{const{disabledBlock:n}=t.items[i];if(n)return;e("setUserField",{userId:i,field:"disabledBlock",status:!0});let{isBlocked:o}=t.items[i];o=!0===o,P.default.$root.$emit("bv::hide::modal","ModalSubscribersItem");const d=o?await(0,b.zv)(i):await(0,b.rf)(i);if(null!=d&&d.success){if(["Profile",...W.tJ,...W.vc,...W.Xg].includes(P.default.$route.name)){const t=r["usersLists/getUsersListsWithSystemLists"],{user:a,user:{listsStates:i}}=d;t.forEach((t=>{if(i.some((e=>e.id===t.id&&e.hasUser))){const{users:s=[]}=t;if(o&&s.includes(a.id))return;const r={...t,users:o?[a.id,...s].slice(0,3):s.filter((e=>a.id!==e)),usersCount:o?t.usersCount+1:t.usersCount>0?t.usersCount-1:0,postsCount:o?t.postsCount+((null==a?void 0:a.postsCount)||0):t.postsCount-((null==a?void 0:a.postsCount)||0)<0?0:t.postsCount-((null==a?void 0:a.postsCount)||0)};e("usersLists/updateUsersList",r,{root:!0})}})),s("fetchSubscriptionsCount")}if(["Subscribes","SubscribesByType"].includes(P.default.$route.name)){const t=a.subscribes.subscribesCount||0;e("subscribes/setSubscribesCount",Math.max(0,o?t+1:t-1),{root:!0})}if(["Subscribers","SubscribersByType"].includes(P.default.$route.name)){const t=a.subscribers.subscribersCount||0;e("subscribers/setSubscribersCount",Math.max(0,o?t+1:t-1),{root:!0})}if(d.user){const t=(0,S.Fv)(d.user,w.IK);e("set",t,{root:!0})}else s("fetchCurrentUser",{id:i});const{isPerformer:n}=r["auth/authUser"];if(e("setRestricted",{itemIds:t.restricted.filter((e=>e!==i))}),o)e("setBlockedUsers",{itemIds:t.blocked.filter((e=>e!==i))});else if(n){const n=r["auth/authUserId"],o=n||t.currentUser,d=t.friends[o]||[];["Profile"].includes(P.default.$route.name)&&d.length>9?await s("fetchFriendsList",{userId:n}):["Profile"].includes(P.default.$route.name)?e("setUserFriend",{authUserId:n,id:i}):(e("setUserFriend",{authUserId:n,id:i}),e("setForceFriendsReload",!0),e("usersLists/setUsersListUsers",{userIds:a.usersLists.itemsUsersList.filter((e=>e!==i))},{root:!0}))}const c=j.Z.getItem("recentUsersSearches");c&&j.Z.setItem("recentUsersSearches",c.split(",").filter((e=>+e&&!Number.isNaN(+e)&&+e!==i)).join(",")),d.hideChat&&["Chat","Chats"].includes(P.default.$route.name)&&(e("chats/deleteChat",i,{root:!0}),"Chat"===P.default.$route.name&&P.default.$router.replace({name:"Chats"}))}}catch(n){(0,B.Po)(n)}e("setUserField",{userId:i,field:"disabledBlock",status:!1})},async toggleHideStoryFromUser({commit:e,state:t},s){try{var a;let r,{isStoryBlockedUser:i}=t.items[s];r=i?await(0,I.H)(s):await(0,I.oh)(s),null!==(a=r)&&void 0!==a&&a.success&&(i=!i,e("setUserField",{userId:s,field:"isStoryBlockedUser",status:i}))}catch(r){Sentry.captureException(r)}},async connectSpotify({commit:e,rootGetters:t},{accessToken:s,tokenExpiration:a,refreshToken:r}){try{const i=undefined;if((await(0,T.mp)({accessToken:s,tokenExpiration:a,refreshToken:r})).success){const s=undefined;e("setUserField",{userId:t["auth/authUser"].id,field:"isSpotifyConnected",status:!0})}}catch(i){(0,B.Po)(i)}},async disconnectSpotify({commit:e,rootGetters:t}){try{const s=undefined;if((await(0,b.z6)({network:"spotify"})).success){const s=undefined;e("setUserField",{userId:t["auth/authUser"].id,field:"isSpotifyConnected",status:!1})}}catch(s){(0,B.Po)(s)}},async socialButtonsGet({commit:e,rootGetters:t}){try{const{cancelToken:s}=(0,L.Yz)("fetchSocialButton"),a=await _(s),r=undefined;e("setSocialButtons",{id:t["auth/authUser"].id,buttons:a})}catch(s){}},async socialButtonsGetByUser({commit:e},t){try{const{cancelToken:s}=(0,L.Yz)("fetchSocialButton"),a=undefined;e("setSocialButtons",{id:t,buttons:await F(t,s)})}catch(s){}},async socialButtonsSort({commit:e,rootGetters:t},{newIdx:s,oldSort:a,newSort:r}){const i=t["auth/authUser"],n={id:i.id,buttons:a},o={id:i.id,buttons:r};try{e("setSocialButtons",o);const t=undefined;(await E(s)).error&&e("setSocialButtons",n)}catch(d){e("setSocialButtons",n),(0,B.Po)(d)}},async socialButtonsCreate({commit:e,rootGetters:t},s){try{const a=await D(s),r=undefined;return e("setSocialButtons",{id:t["auth/authUser"].id,buttons:a}),a}catch(a){return(0,B.Po)(a),{error:a}}},async socialButtonsUpdate({commit:e,rootGetters:t},{buttonObj:s,id:a}){try{const r=await U(s,a),i=undefined;return e("setSocialButtons",{id:t["auth/authUser"].id,buttons:r}),r}catch(r){return(0,B.Po)(r),{error:r}}},async socialButtonsDelete({rootGetters:e,commit:t,state:s},a){try{const r=undefined;if((await R(a)).success){const r=e["auth/authUser"],i=s.socialButtons[r.id].filter((e=>e.id!==a));t("setSocialButtons",{id:r.id,buttons:i})}}catch(r){(0,B.Po)(r)}},async fetchBlockedUsers({commit:e,state:t},{more:s,...a}={}){s||(e("setBlockedUsers"),e("setBlockedOffset"));const{cancelToken:r,Cancel:i}=(0,L.Yz)("fetchBlockedUsers");try{const i=await(0,b.b_)({offset:t.blockedOffset,...a,cancelToken:r});if(Array.isArray(null==i?void 0:i.list)){if(e("setBlockedOffset",t.blockedOffset+L.P9),i.list.length){const t=(0,S.Fv)(i.list,w.Xd);e("set",t,{root:!0}),e("setBlockedUsers",{itemIds:t.result,more:s})}return{hasMore:i.hasMore}}(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:i}})}catch(n){if(n instanceof i)return{isCanceled:!0}}return{isError:!0}},async fetchSearchUsers({commit:e},{query:t,more:s,...a}={}){if(s||e("setSearchUsers"),!t)return[];try{const r=await(0,b.Kh)({query:t,...a});if(Array.isArray(r)){if(r.length){const t=(0,S.Fv)(r,w.Xd);e("set",t,{root:!0}),e("setSearchUsers",{itemIds:t.result,more:s})}return r}(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(r){}return[]},async fetchSearchAutocomplete({commit:e},{query:t,...s}={}){if(!t)return e("setSearchAutocompleteUsers"),[];try{const a=await(0,b.Kh)({query:t,...s});if(Array.isArray(a)){if(a.length){const t=undefined;e("set",(0,S.Fv)(a,w.Xd),{root:!0}),e("setSearchAutocompleteUsers",a)}else e("setSearchAutocompleteUsers");return a}(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}})}catch(a){}return[]},async fetchSettingsPost({commit:e}){try{let t=await(0,b.vh)();const s=t.options.filter((e=>0!==e.code));t=Object.assign({},t,{options:s}),e("setSettingsPost",t)}catch(t){}},async sendSettingsPost({commit:e},t){try{const s=await(0,b.i)(t);null!=s&&s.success&&e("setSettingsPostCurrentCode",t)}catch(s){Sentry.captureException(s)}},async fetchFriendsList({commit:e},{userId:t,more:s=!1,...a}={}){try{e("setFriendsLoading",!0);const r=await(0,b.XP)({userId:t,...a});if(Array.isArray(r)){if(r.length){const a=(0,S.Fv)(r,w.Xd);e("set",a,{root:!0}),e("setFriendsList",{userId:t,friends:a.result,more:s})}return e("setFriendsLoading",!1),r}(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(r){}return e("setFriendsLoading",!1),[]},async fetchStreamSettings({commit:e}){try{const t=undefined;e("setStreamSettings",{data:await(0,b.yv)(),dataLoaded:!0})}catch(t){}},async saveSubscriberCustomData({commit:e},{id:t,data:s={}}){e("setCustomDataSaving",!0);try{const a=await(0,k.gU)(t,s);if(null!=a&&a.id){const t=undefined;e("set",(0,S.Fv)(a,w.IK),{root:!0})}return e("setCustomDataSaving",!1),!0}catch(a){(0,B.Po)(a)}return e("setCustomDataSaving",!1),!1},async fetchSubscriptionsCount({commit:e,rootGetters:t}){try{const s=await(0,k.x$)();if(s&&"object"==typeof s){e("setSubscriptionsCount",s);const a=undefined;e("setSubscriptionsCountTimestamp",Date.now());const r=f()(s,"subscribers.active",null),i=f()(s,"subscriptions.active",null),n=t["auth/authUserId"],o=t["auth/authUser"];null!==r&&r!==o.subscribersCount&&e("setUserField",{userId:n,field:"subscribersCount",status:r}),null!==i&&i!==o.subscribesCount&&e("setUserField",{userId:n,field:"subscribesCount",status:i})}else(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){}},async getUsersIfNeeded({dispatch:e,state:t},s){var a;if(null!=s&&null!==(a=s.entities)&&void 0!==a&&a.users){const a={...s.entities.users},r=Object.keys(a).map(Number),i={},n=+new Date;if(r.forEach((e=>{const r=a[e]._views;null!=r&&r.length&&r.forEach((s=>{f()(t.items[e],"view.f",0)+864e5>=n||f()(t.items[e],`view[${s}]`,0)+864e5<n&&(i[s]=d()(i[s]||[],[e]))})),delete s.entities.users[e]._views,delete s.entities.users[e]._view})),Object.keys(i).length){const t=Object.keys(i).map((async t=>{const s=[];for(;i[t].length;)s.push(e("getUsersByIds",{ids:{[t]:i[t].splice(0,10)},error:!0}));return await Promise.all(s)}));await Promise.all(t)}}},async getUsersByIds({commit:e},{ids:t,error:s=!1}){try{const s=await(0,b.B3)(t);if(s&&"object"==typeof s){if(Object.keys(s).length){const t=(0,S.Fv)(s,w.Xd);return e("set",t,{root:!0}),t.result}}else(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{result:s}});return[]}catch(a){if(s)throw a;return[]}},async fetchLinks({commit:e}){try{const t=await(0,b.rx)();Array.isArray(t)&&t.length?e("setLinks",t):e("setLinks")}catch(t){}},async postLinks({commit:e,state:t},s=[]){try{var a;null!==(a=s)&&void 0!==a&&a.length||(s=t.links.map((({url:e})=>e)));const r=await(0,b.lJ)({links:s});if(Array.isArray(r)&&r.length)return e("setLinks",r),!0}catch(r){(0,B.Po)(r)}return!1},async putLink({commit:e},t=""){try{const s=await(0,b.GB)(t);if(Array.isArray(s)&&s.length)return e("setLinks",s),!0}catch(s){return(0,B.Po)(s),!1}},async deleteLink({commit:e,dispatch:t},s){e("deleteLink",s);try{const{success:e}=await(0,b.Yw)(s);if(e)return!0}catch(a){(0,B.Po)(a)}return await t("fetchLinks"),!1},async fetchUserLinks({commit:e},t){try{const s=undefined;e("setUserLinks",await(0,b.Pb)(t))}catch(s){}},addConnectedAccount({commit:e,state:t,rootState:s},{userData:a}){if(t.items[s.auth.user]&&a&&void 0!==a.connectedUser&&!t.items[s.auth.user].connectedOfAccounts.find((e=>e===a.connectedUser.id))){const t=undefined;e("set",(0,S.Fv)(a.connectedUser,w.IK),{root:!0}),e("addConnectedAccount",{userId:s.auth.user,userData:a})}},async fetchRestricted({commit:e,state:t},{more:s,...a}={}){s||(e("setRestricted"),e("setRestrictedOffset"));const{cancelToken:r,Cancel:i}=(0,L.Yz)("fetchRestrictedUsers");try{const i=await(0,b.JW)({limit:L.P9,offset:t.restrictedOffset,...a,cancelToken:r});if(i&&"object"==typeof i){var n;if(i.hasMore&&e("setRestrictedOffset",t.restrictedOffset+L.P9),null!==(n=i.list)&&void 0!==n&&n.length){const t=(0,S.Fv)(i.list,w.Xd);e("set",t,{root:!0}),e("setRestricted",{itemIds:t.result,more:s})}return{hasMore:i.hasMore}}(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:i}})}catch(o){if(o instanceof i)return{isCanceled:!0}}return{isError:!0}},async fetchSubscriptionsCountCached({state:e,commit:t,dispatch:s,getters:a}){if(e.isFetchingSubscriptionsCount)return;const r=a.subscriptionsCountIntervalMs;e.subscriptionsCountTimestamp&&Date.now()-e.subscriptionsCountTimestamp<r||(t("setFetchingSubscriptionsCount",!0),await s("fetchSubscriptionsCount"),t("setFetchingSubscriptionsCount",!1))},async fetchNotificationsCounts({commit:e}){try{const t=await(0,b.SP)();t&&"object"==typeof t?e("setNotificationsCounts",t):(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch(t){}},async fetchNotificationsOrder({commit:e}){try{const t=await(0,b.U9)();Array.isArray(t)?t.length&&e("setNotificationsOrder",t):(0,B.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch(t){}},async updateNotificationsOrder({commit:e},t){try{const s=await(0,b.dh)({tabs:t});null!=s&&s.success&&e("setNotificationsOrder",t)}catch(s){Sentry.captureException(s)}},updateChatPinnedCount({commit:e,dispatch:t,rootGetters:s},a){const r=s["auth/authUserId"],i=s["users/getUser"](r).countPinnedChat,n=s["usersLists/getCurrentFilterIsPinned"],o=i+a.status;e("users/setUserField",{userId:r,field:"countPinnedChat",status:Math.max(o,0)},{root:!0}),n&&t("usersLists/updateFeedFiltersAndRefetch",o>0?["pinned"]:[],{root:!0})},async fetchBanners({commit:e,state:t}){if(!t.isBannersLoading){e("setBannersLoading",!0);try{const t=await(0,b.Fh)();Array.isArray(t)&&t.length&&e("setBanners",t)}catch(s){}e("setBannersLoading",!1)}},async connectSpringStore({commit:e,rootGetters:t},{url:s}){try{const a=await M({url:s});if(null!=a&&a.success){const s=undefined;e("setUserField",{userId:t["auth/authUser"].id,field:"isSpringConnected",status:!0})}}catch(a){(0,B.Po)(a)}},async disconnectSpringStore({commit:e,rootGetters:t}){try{const s=undefined;if((await $()).success){const s=undefined;e("setUserField",{userId:t["auth/authUser"].id,field:"isSpringConnected",status:!1})}}catch(s){(0,B.Po)(s)}},async fetchSpringStoreUrl({commit:e,rootGetters:t},{userId:s}={}){try{const{embedUrl:a}=await A(s);if(a){const r=t["auth/authUserId"];e("setUserField",{userId:s||r,field:"springStoreUrl",status:a})}}catch(a){}},async fetchNfts({commit:e},t){try{const s=undefined;e("setNfts",(await(0,O.J8)(t)).assets||[])}catch(s){}},async postValidateAbout(e,t){try{return await(0,b.BS)({about:t})}catch(s){return null==s?void 0:s.data}}}},595097:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return O},getters:function(){return U},mutations:function(){return R},state:function(){return D}});var a=s(333948),r=s(21703),i=s(365069),n=s(436968),o=s.n(n),d=s(782677),c=s(53189),l=s(990733);const u=(e={})=>(e.limit=e.limit||l.P9,e.offset=e.offset||0,e.format="infinite",l.ZP.get(`${l.tW}/lists${(0,l.XP)(e)}`).then((e=>e.data))),m=(e,t)=>l.ZP.get(`${l.tW}/lists/${e}`,{cancelToken:t}).then((e=>e.data)),h=({id:e,offset:t=0,limit:s=l.P9,query:a,field:r,order:i},n)=>l.ZP.get(`${l.tW}/lists/${e}/users${(0,l.XP)({offset:t,limit:s,query:a,field:r,order:i,format:"infinite"})}`,{cancelToken:n}).then((e=>e.data)),f=e=>l.ZP.post(`${l.tW}/lists`,{name:e}).then((e=>e.data)),p=({id:e,data:t})=>l.ZP.patch(`${l.tW}/lists/${e}`,t).then((e=>e.data)),g=e=>l.ZP.delete(`${l.tW}/lists/${e}`).then((e=>e.data)),y=e=>l.ZP.delete(`${l.tW}/lists/${e}/users`).then((e=>e.data)),v=e=>l.ZP.post(`${l.tW}/lists/sort`,e).then((e=>e.data)),S=({listId:e,data:t})=>l.ZP.post(`${l.tW}/lists/${e}/sort`,t).then((e=>e.data)),P=({listId:e,data:t})=>l.ZP.patch(`${l.tW}/lists/${e}/users/sort`,t).then((e=>e.data)),w=(e,t)=>l.ZP.post(`${l.tW}/lists/${e}/users/${t}`).then((e=>e.data)),b=(e,t)=>l.ZP.delete(`${l.tW}/lists/${e}/users/${t}`).then((e=>e.data)),I=e=>l.ZP.post(`${l.tW}/lists/users`,e).then((e=>e.data)),k=({listId:e,year:t,month:s})=>l.ZP.post(`${l.tW}/lists/${e}/users/awards/${t}/${s}`).then((e=>e.data)),C=({listId:e,queueId:t})=>l.ZP.post(`${l.tW}/lists/${e}/users/queue/${t}/buyers`).then((e=>e.data)),T=({type:e,listId:t,postId:s,optionId:a})=>l.ZP.post(`${l.tW}/lists/${t}/users/post/${s}/${e}${a?`/${a}`:""}`).then((e=>e.data)),L=({type:e,listId:t,streamId:s})=>l.ZP.post(`${l.tW}/lists/${t}/users/stream/${s}/${e}`).then((e=>e.data)),M=({type:e,listId:t,storyId:s})=>l.ZP.post(`${l.tW}/lists/${t}/users/story/${s}/${e}`).then((e=>e.data)),$=({type:e,listId:t,id:s})=>l.ZP.post(`${l.tW}/lists/${t}/users/${e}/${s}/claims`).then((e=>e.data)),A=({listId:e,campaignId:t})=>l.ZP.post(`${l.tW}/lists/${e}/users/campaign/${t}/claimers`).then((e=>e.data));var _=s(172462),F=s(243168);const E=()=>({items:{},usersListsIds:[],usersListsIdsModal:[],usersListDirection:"asc",itemsUsersList:[],modalCustomListId:null,customOrderEnabled:!1,customOrderUsersListEnabled:!1,loading:!1,offset:{},usersOffset:0,maxPreviewUserCount:3,hasMore:!1,hasMoreList:!1,needOpenListsModal:!1,isAddUsersMode:!1,pinnedIds:[],couldBePinnedList:[],currentFiltersIds:[],selectedUsersToAddToList:[],feedFiltersIds:[],searchFiltersIds:[]}),D={items:{},usersListsIds:[],usersListsIdsModal:[],usersListDirection:"asc",itemsUsersList:[],modalCustomListId:null,customOrderEnabled:!1,customOrderUsersListEnabled:!1,loading:!1,offset:{},usersOffset:0,maxPreviewUserCount:3,hasMore:!1,hasMoreList:!1,needOpenListsModal:!1,isAddUsersMode:!1,pinnedIds:[],couldBePinnedList:[],currentFiltersIds:[],selectedUsersToAddToList:[],feedFiltersIds:[],searchFiltersIds:[]},U={getUsersListsWithSystemLists:(e,t)=>[...Object.keys(e.items).map((t=>e.items[t])),...t.systemLists],getUsersList:(e,t)=>e=>t.getUsersListsWithSystemLists.find((t=>t.type.toString()===(null==e?void 0:e.toString())||t.id.toString()===(null==e?void 0:e.toString()))),getUsersListByType:(e,t)=>e=>t.getUsersListsWithSystemLists.find((t=>t.type===e)),getFeedFilterList:e=>{const[t]=e.feedFiltersIds;return t||{}},getFeedFilterListId:e=>{const[{listId:t}={}]=e.feedFiltersIds;return t},getCurrentFilterIsPurchased:e=>{const[{listId:t}={}]=e.feedFiltersIds;return"paid"===t},getCurrentFilterIsBlurred:e=>{const[{listId:t}={}]=e.feedFiltersIds;return"locked"===t},getCurrentFilterIsPinned:e=>{const[{listId:t}={}]=e.currentFiltersIds;return"pinned"===t},getAuthUserRelatedFilters:(e,t,s,a)=>e=>{const t=a["auth/authUser"];return"chat"===e?[t.tipsEnabled&&"who_tipped",t.countPriorityChat>0&&"priority",t.countPinnedChat>0&&"pinned",t.chatMessagesCount>0&&"unread"].filter((e=>!!e)):"feed"===e?[t.hasPurchasedPosts&&"paid",t.paidFeed&&"locked"].filter((e=>!!e)):[]},getAuthUserRelatedFeedFilters:(e,t)=>t.getAuthUserRelatedFilters("feed"),getAuthUserRelatedChatFilters:(e,t)=>t.getAuthUserRelatedFilters("chat"),systemLists:(e,t,s)=>{var a,r,i,n,o,d;return[{name:c.default.$t("message.subscribers_tab_restricted"),usersCount:(null===(a=s.users)||void 0===a||null===(r=a.subscriptionsCount)||void 0===r||null===(i=r.subscribers)||void 0===i?void 0:i.restricted)||0,users:[],id:"restricted",type:"restricted"},{name:c.default.$t("message.subscribers_tab_blocked"),usersCount:(null===(n=s.users)||void 0===n||null===(o=n.subscriptionsCount)||void 0===o||null===(d=o.subscribers)||void 0===d?void 0:d.blocked)||0,users:[],id:"blocked",type:"blocked"}]}},R={setIds(e,t=[]){e.usersListsIds=t},setIdsModal(e,t=[]){e.usersListsIdsModal=t},addIds(e,t){e.usersListsIds=[...new Set([...e.usersListsIds,...t])]},prependIds(e,t){e.usersListsIds=[...new Set([...t,...e.usersListsIds])]},appendIds(e,t){e.usersListsIds=[...new Set([...e.usersListsIds,...t])]},addIdsModal(e,t){e.usersListsIdsModal=[...new Set([...e.usersListsIdsModal,...t])]},deleteUsersList(e,t){e.usersListsIds=e.usersListsIds.filter((e=>e!==t)),e.currentFiltersIds=e.currentFiltersIds.filter((({listId:e})=>e!==t)),e.feedFiltersIds=e.feedFiltersIds.filter((({listId:e})=>e!==t)),e.searchFiltersIds=e.searchFiltersIds.filter((({listId:e})=>e!==t))},setModalCustomListId(e,t){e.modalCustomListId=t},setCustomOrderEnabled(e,t){e.customOrderEnabled=t},setCustomOrderUsersListEnabled(e,t){e.customOrderUsersListEnabled=t},setLoading(e,t){e.loading=t},setOffset(e,t){e.offset={...e.offset,...t}},setUsersOffset(e,t=0){e.usersOffset=t},setUsersListUsers(e,{userIds:t=[],more:s=!1}={}){s||(e.itemsUsersList=[]),e.itemsUsersList=[...new Set([...e.itemsUsersList,...t])]},setNeedOpenListsModal(e,t){e.needOpenListsModal=t},updateUsersList(e,t){e.items[t.id]=t},updateUsersListFieldByPath(e,{listId:t,path:s,value:a}){e.items[t]&&(e.items[t]=o()(e.items[t],s,a))},setUsersListField(e,{listId:t,field:s,status:a}){e.items[t]&&(e.items[t]={...e.items[t],[s]:a})},setUsersListDirection(e,t){e.usersListDirection=t},setIsAddUsersMode(e,t){e.isAddUsersMode=t},setPinnedIds(e,t=[]){e.pinnedIds=t},addPinnedIds(e,t=[]){e.pinnedIds=[...new Set([...e.pinnedIds,...t])]},deletePinnedIds(e,t){e.pinnedIds=e.pinnedIds.filter((e=>!t.includes(e)))},addCouldBePinnedList(e,t){e.couldBePinnedList=[...new Set([...e.couldBePinnedList,...t])]},setCouldBePinnedList(e,t=[]){e.couldBePinnedList=t},setListPinned(e,{listId:t,status:s}){e.items[t].isPinnedToFeed=s},setCurrentFiltersIds(e,t=[]){e.currentFiltersIds=t},setFeedFiltersIds(e,t=[]){e.feedFiltersIds=t},setSearchFiltersIds(e,t=[]){e.searchFiltersIds=t},setHasMore(e,t){e.hasMore=t},setHasMoreList(e,t){e.hasMoreList=t},setSelectedUsersToAddToList(e,t){e.selectedUsersToAddToList=t},logout(e){Object.assign(e,{items:{},usersListsIds:[],usersListsIdsModal:[],usersListDirection:"asc",itemsUsersList:[],modalCustomListId:null,customOrderEnabled:!1,customOrderUsersListEnabled:!1,loading:!1,offset:{},usersOffset:0,maxPreviewUserCount:3,hasMore:!1,hasMoreList:!1,needOpenListsModal:!1,isAddUsersMode:!1,pinnedIds:[],couldBePinnedList:[],currentFiltersIds:[],selectedUsersToAddToList:[],feedFiltersIds:[],searchFiltersIds:[]})}},O={async fetchUsersLists({commit:e,state:t,dispatch:s},a={}){e("setLoading",!0);try{const{more:r,notClear:i,filter:n,view:o,limit:c=l.P9}=a;delete a.more,delete a.notClear;const m=`${n||"all"}_${o||"all"}`,h=!("offset"in a);r||(i||(["can_pin","can_pin_chat"].includes(n)?e("setCouldBePinnedList"):["chat","feed"].includes(n)?e("setPinnedIds"):e("setIds")),e("setOffset",{[m]:0})),t.offset[m]||e("setIds"),h&&(a.offset=t.offset[m]||0),a.skip_users="all";const f=await u(a);if(h&&e("setOffset",{[m]:(t.offset[m]||0)+c}),Array.isArray(null==f?void 0:f.list)){const t=(0,d.Fv)(f.list,F.jR);await s("users/getUsersIfNeeded",t,{root:!0});const a=t.result;e("set",t,{root:!0}),e("addIds",a),s("pinnedList",{filter:n,ids:a});const{hasMore:r}=f;return e("setHasMoreList",r),e("setLoading",!1),{list:a,hasMore:r}}(0,_.oj)({error:new Error("typeof response is incorrect"),extra:{response:f}})}catch(r){}return e("setLoading",!1),{list:[],hasMore:!1}},async fetchUsersListsModal({commit:e,dispatch:t},s={}){try{const{more:a,notClear:r,filter:i}=s;delete s.more,delete s.notClear,a||r||(i&&["can_pin","can_pin_chat"].includes(i)?e("setCouldBePinnedList"):e("setIdsModal")),s.skip_users="all";const n=await u(s);if(null!=n&&n.list&&Array.isArray(n.list)){const s=(0,d.Fv)(n.list,F.jR);await t("users/getUsersIfNeeded",s,{root:!0});const r=s.result;return e("set",s,{root:!0}),e(""+(a?"addIdsModal":"setIdsModal"),r),t("pinnedList",{filter:i,ids:r}),{hasMore:n.hasMore}}return(0,_.oj)({error:new Error("typeof response is incorrect"),extra:{response:n}}),{hasMore:!1}}catch(a){return Sentry.captureException(a),{hasMore:void 0}}},async pinnedList({commit:e},{filter:t,ids:s}={}){t&&(["feed","chat"].includes(t)&&e("addPinnedIds",s),["can_pin","can_pin_chat"].includes(t)&&e("addCouldBePinnedList",s))},async fetchUsersList({commit:e},t){var s;const{cancelToken:a,Cancel:r}=(0,l.Yz)("fetchUsersList");let i;try{i=await m(t,a)}catch(n){if(n instanceof r)return}if(null!==(s=i)&&void 0!==s&&s.id){const t=undefined;e("set",(0,d.Fv)(i,F.jX),{root:!0})}},async addUsersList({state:e,commit:t},s){try{const a=await f(s);if(null!=a&&a.id){const s=(0,d.Fv)(a,F.jX);return t("set",s,{root:!0}),"asc"!==e.usersListDirection||e.hasMoreList||t("appendIds",[+s.result]),"desc"===e.usersListDirection&&t("prependIds",[+s.result]),a}}catch(a){(0,_.Po)(a)}return null},async updateUsersList({commit:e,rootState:t},{id:s,name:a}){try{const r=await p({id:s,data:{name:a}});if(null!=r&&r.id){const s=(0,d.Fv)(r,F.jX);e("set",s,{root:!0}),Object.keys(t.users.items).forEach((s=>{if(t.users.items[s].listsStates){let a=!1;const i=[];t.users.items[s].listsStates.forEach(((e,t)=>{i[t]={...e},+e.id==+r.id&&(i[t].name=r.name,a=!0)})),a&&e("users/setUserField",{userId:s,field:"listsStates",status:i},{root:!0})}}))}}catch(r){(0,_.Po)(r)}},async clearUsersList({commit:e,getters:t,rootGetters:s,rootState:a,state:r},i){try{const n=await y(i);if(null!=n&&n.id){const o=t.getUsersList(i)||{},c=[];r.itemsUsersList.forEach((e=>{const t=a.users.items[e];if(null!=t&&t.listsStates){const e=t.listsStates.map((e=>+e.id==+i?"custom"===e.type?null:{...e,hasUser:!1,canAddUser:!0}:e)).filter(Boolean);c.push({...t,listsStates:e})}})),c.length&&e("set",(0,d.Fv)(c,F.Xd),{root:!0}),"friends"===o.type&&e("users/setFriendsList",{userId:s["users/user"].id,friends:[]},{root:!0}),e("set",(0,d.Fv)(n,F.jX),{root:!0}),e("setUsersListUsers")}}catch(n){(0,_.Po)(n)}},async deleteUsersList({commit:e},t){try{const s=await g(t);if(null!=s&&s.success)return e("deleteUsersList",t),e("setUsersListUsers"),!0}catch(s){(0,_.Po)(s)}return!1},async saveUsersListsOrder({commit:e,rootGetters:t},s){let{customOrder:a,sort:r,order:i}=s;"custom"===r&&(i="asc");try{const n=await v(s);if(null!=n&&n.success){a&&e("setIds",a);const s=t["auth/authUserId"];e("users/setUserField",{userId:s,field:"listsSort",status:r},{root:!0}),e("users/setUserField",{userId:s,field:"listsSortOrder",status:i},{root:!0}),e("setLoading",!0)}}catch(n){(0,_.Po)(n)}finally{e("setLoading",!1)}},async toggleUserInList({commit:e,rootGetters:t,state:s,dispatch:a,rootState:r},{listId:i,userId:n}){try{const{listsStates:o=[]}=t["users/getUser"](n),{hasUser:l}=o.find((e=>e.id===i))||{},u=l?b:w,{userState:m,list:h}=await u(i,n)||{},{name:f,params:{list:p}}=c.default.$route;if(m){let d=[...new Set([...o])];const c=d.findIndex((e=>e.id===i));if(c>-1&&d.splice(c,1),!l){const e=[...new Set([...d,m])];d=s.usersListsIds.filter((t=>void 0!==e.find((e=>e.id===t)))).map((t=>e.splice(e.findIndex((e=>e.id===t)),1)[0])).concat(e)}if("friends"===m.type){const s=t["auth/authUserId"],i=r.users.friends[s||t["users/userId"]]||[],o="Profile"===f;o&&i.length>9?await a("users/fetchFriendsList",{userId:s},{root:!0}):o?e("users/setUserFriend",{authUserId:s,id:n},{root:!0}):(e("users/setUserFriend",{authUserId:s,id:n},{root:!0}),e("users/setForceFriendsReload",!0,{root:!0}))}"muted"===m.type&&["Chat","Chats"].includes(f)&&e("chats/setMuteNotifications",n,{root:!0}),e("users/setUserField",{userId:n,field:"listsStates",status:d},{root:!0})}if(h){e("set",(0,d.Fv)(h,F.jX),{root:!0});const t=Number.isFinite(Number(i))?Number(i):i,a=Number.isFinite(Number(p))?Number(p):p,r=undefined;("CustomList"===f&&t===a||["MyFriends","CustomList"].includes(f)&&"friends"===h.type||"close_friends"===p&&"close_friends"===h.type||"Bookmarks"===f&&"bookmarks"===h.type||"Favorites"===f&&"favorites"===h.type)&&e("setUsersListUsers",{userIds:l?s.itemsUsersList.filter((e=>e!==n)):[n],more:!l})}}catch(o){(0,_.Po)(o)}},async fetchUsersListUsers({commit:e,state:t},{id:s,more:a=!1,query:r,field:i,order:n}){const{cancelToken:o,Cancel:c}=(0,l.Yz)("fetchUsersListUsers");e("setLoading",!0),a||(e("setUsersOffset",0),e("setUsersListUsers"));try{const c=await h({id:s,query:r,field:i,order:n,offset:t.usersOffset},o);if(e("setLoading",!1),e("setHasMore",!(null==c||!c.hasMore)),Array.isArray(null==c?void 0:c.list)){if(e("setUsersOffset",t.usersOffset+l.P9),c.list.length){const t=(0,d.Fv)(c.list,F.Xd);return e("set",t,{root:!0}),e("setUsersListUsers",{userIds:t.result,more:a}),t.result}}else(0,_.oj)({error:new Error("typeof response is incorrect"),extra:{response:c}})}catch(u){if(u instanceof c)return}return e("setLoading",!1),[]},async saveUsersListOrder({commit:e},{listId:t,data:s={}}){let{order:a,direction:r,type:i}=s;try{const n=await S({listId:t,data:s});return null!=n&&n.success&&(e("setUsersListField",{listId:t,field:"order",status:a}),e("setUsersListField",{listId:t,field:"direction",status:r}),i&&e("updateUsersListFieldByPath",{listId:t,path:`sortList.${i}`,value:{order:a,direction:r}})),n}catch(n){return(0,_.Po)(n),null}},async updateUsersListOrder(e,{listId:t,data:s}){try{return await P({listId:t,data:s})}catch(a){return(0,_.Po)(a),null}},addTopFansToList:async({dispatch:e},{listId:t,year:s,month:a})=>e("addToList",{fn:k,params:{listId:t,year:s,month:a}}),addCampaignClaimersToList:async({dispatch:e},{listId:t,campaignId:s})=>e("addToList",{fn:A,params:{listId:t,campaignId:s}}),async addUsersToLists({commit:e,dispatch:t},s){try{e("setLoading",!0);const a=await I(s.data);s.updateFriendsList&&e("users/setForceFriendsReload",!0,{root:!0});const r=Object.keys(s.data),i=r.every((e=>a[e]&&s.data[e].every((t=>a[e].includes(t)))));return a&&r.length&&i?(r.forEach((e=>t("fetchUsersList",e))),!0):((0,_.Po)({}),null)}catch(a){return(0,_.Po)(a),null}finally{e("setLoading",!1)}},addQueueBuyersToList:async({dispatch:e},{listId:t,queueId:s})=>e("addToList",{fn:C,params:{listId:t,queueId:s}}),async updateUsersListPin({commit:e,state:t},{listId:s,status:a}){try{e("setLoading",!0);const r={},i=undefined;["Feed","Search","MyFriends","CustomList","UserListsPosts"].includes(c.default.$route.name)?r.isPinnedToFeed=a:r.isPinnedToChat=a;const n=await p({id:s,data:r});if(null!=n&&n.id&&(e(a?"addPinnedIds":"deletePinnedIds",[n.id]),e("set",(0,d.Fv)(n,F.jX),{root:!0}),n.id!==s)){const a=[...t.usersListsIds];a[a.indexOf(s)]=n.id,e("setIds",a),e("setCouldBePinnedList",a)}return n}catch(r){return(0,_.Po)(r),null}finally{e("setLoading",!1)}},updateFeedFiltersAndRefetch({commit:e,dispatch:t},s=[]){if(["Feed","Purchased","TagsRequired","Search"].includes(c.default.$route.name)){e("setFeedFiltersIds",s);const[{listId:a,listType:r}={}]=s;e("posts/setPrevPostsToLoad",!1,{root:!0}),a&&"custom"!==r||(t(a?"stories/resetMyStories":"stories/fetchMyStories",{},{root:!0}),t("stories/fetchFeedStories",{list_id:a},{root:!0}),e("streams/setItemIds",[],{root:!0}),t("streams/fetchStreamsFeed",{list_id:a},{root:!0}))}else["Chat","Chats","Gallery","PinnedMessages"].includes(c.default.$route.name)&&e("setCurrentFiltersIds",s)},addPostUsersToList:async({dispatch:e},{type:t,listId:s,postId:a,optionId:r})=>e("addToList",{fn:T,params:{type:t,listId:s,postId:a,optionId:r}}),async addToList({state:e,commit:t,getters:s},{fn:a,params:r}){try{var i;const n=await a(r);if(null!=n&&null!==(i=n.addedUsers)&&void 0!==i&&i.length){const a={...s.getUsersList(r.listId)};a.usersCount+=n.addedUsers.length,a.users=n.addedUsers.reverse().concat(a.users).slice(0,e.maxPreviewUserCount),t("updateUsersList",a)}return n}catch(n){return(0,_.Po)(n),null}},async addStreamUsersToList({state:e,commit:t,getters:s},{listId:a,...r}){try{var i;const n=await L({listId:a,...r});if(null!=n&&null!==(i=n.addedUsers)&&void 0!==i&&i.length){const r={...s.getUsersList(a)};r.usersCount+=n.addedUsers.length,r.users=n.addedUsers.reverse().concat(r.users).slice(0,e.maxPreviewUserCount),t("updateUsersList",r)}return n}catch(n){return(0,_.Po)(n),null}},async addStoryUsersToList({state:e,commit:t,getters:s},{listId:a,...r}){try{var i;const n=await M({listId:a,...r});if(null!=n&&null!==(i=n.addedUsers)&&void 0!==i&&i.length){const r={...s.getUsersList(a)};r.usersCount+=n.addedUsers.length,r.users=n.addedUsers.reverse().concat(r.users).slice(0,e.maxPreviewUserCount),t("updateUsersList",r)}return n}catch(n){return(0,_.Po)(n),null}},async addClaimsToList({state:e,commit:t,getters:s},{listId:a,...r}){try{var i;const n=await $({listId:a,...r});if(null!=n&&null!==(i=n.addedUsers)&&void 0!==i&&i.length){const r={...s.getUsersList(a)};r.usersCount+=n.addedUsers.length,r.users=n.addedUsers.reverse().concat(r.users).slice(0,e.maxPreviewUserCount),t("updateUsersList",r)}return n}catch(n){return(0,_.Po)(n),null}}}},243168:function(e,t,s){"use strict";s.d(t,{V4:function(){return Ae},P$:function(){return _e},rL:function(){return Q},VR:function(){return J},w1:function(){return Y},dO:function(){return K},Nq:function(){return x},kN:function(){return O},Vc:function(){return Me},JJ:function(){return $e},vU:function(){return ne},lR:function(){return T},xp:function(){return me},WH:function(){return ye},iq:function(){return ve},ub:function(){return we},Xt:function(){return be},eI:function(){return z},Rj:function(){return V},GD:function(){return Pe},C_:function(){return se},_8:function(){return Z},W4:function(){return de},zA:function(){return le},nz:function(){return Le},BO:function(){return Ce},iT:function(){return H},Ro:function(){return te},H3:function(){return b},Vz:function(){return w},e_:function(){return pe},oF:function(){return ge},CF:function(){return fe},qn:function(){return he},OD:function(){return N},Xd:function(){return D},IK:function(){return E},jX:function(){return U},jR:function(){return R},zr:function(){return Ie},Zi:function(){return ke},$7:function(){return ie}});var a=s(333948),r=s(115306),i=s(568757),n=s(782677),o=s(513218),d=s.n(o),c=s(227361),l=s.n(c),u=s(285088),m=()=>{const e=l()(window,"navigator.connection");if(!e||"object"!=typeof e)return{canUse:!1};const t={canUse:!0,isGood:!0};return e.downlinkMax&&e.downlinkMax>=1.5||e.downlink&&e.downlink>=1.5||"4g"===e.effectiveType||["wifi","ethernet"].includes(e.type)?t:{canUse:!0,isGood:!1}};const h=e=>new Date(e).getTime()/1e3,f=(e,t,s,a,r,i)=>{const{canUse:n,isGood:o}=t||{};return"photo"===s?window.innerHeight<=i?r:a:n?o?a:r:e?r:a},p=e=>{if(!d()(e))return{};const t=l()(e,"canView",!1),s=l()(e,"type","photo"),a=l()(e,"files.source.url",""),r=l()(e,"files.source.sources.720")||a,i=l()(e,"files.preview.url")||a,n=l()(e,"files.preview.height",0),o=undefined,c=undefined;return{canView:t,locked:`data:image/jpg;base64,${l()(e,"files.locked.url","")}`,type:s,fullSrc:a,lowSrc:"photo"===s?i:r,photoPreviewHeight:n}},g=(e,t,s)=>{e=Array.isArray(e)&&e.length?e[0]:e;const{canView:a,locked:r,type:i,fullSrc:n,lowSrc:o,photoPreviewHeight:d}=p(e);return a?f(t,s,i,n,o,d):r},y=e=>{const t=window.innerWidth,s=window.innerHeight,a=l()(e,"0.files.source.width"),r=l()(e,"0.files.source.height"),i=undefined,n=150,o=n/(a/r),d=undefined,c=undefined,u=n*(s/o),m=undefined;return u<=t?{bgPreviewWidth:u,bgPreviewHeight:s,originalMediaWidth:a,originalMediaHeight:r}:{bgPreviewWidth:t,bgPreviewHeight:o*(t/n),originalMediaWidth:a,originalMediaHeight:r}},v=(e={})=>{const{id:t,isExpired:s,canLike:a,canDelete:r,isWatched:i,isLiked:n,isReady:o,userId:d,isHighlightCover:c,isLastInHighlight:f,question:p,viewersCount:v,createdAt:S,media:P,viewers:w,likesCount:b,tipsAmount:I,tipsAmountRaw:k,tipsCount:C,commentsCount:T}=e,L=l()(P,"[0].canView"),M=!1!==o&&L?l()(P,"[0].type","photo"):"photo",$="gif"===M?"video":M,A=l()(P,"[0].files.source.duration",0),_=A<=5?5:A,F="photo"===M?void 0:A<=5,E=l()(P,"[0].files.preview.sources.w150",void 0),D=l()(P,"[0].files.squarePreview.sources.w480",void 0),U=L?E:"",R=S?h(S):void 0,{bgPreviewWidth:O,bgPreviewHeight:x,originalMediaWidth:B,originalMediaHeight:j}=y(P),W=undefined,Z=undefined,q=undefined;return{id:t,isExpired:s,canLike:a,canDelete:r,isLiked:n,isReady:o,userId:d,isWatched:i,isHighlightCover:c,isLastInHighlight:f,question:p,viewersCount:v,createdAt:S,type:$,mediaType:M,length:_,loop:F,thumb:E,time:R,viewers:w,bgPreviewWidth:O,bgPreviewHeight:x,originalMediaWidth:B,originalMediaHeight:j,loadingBg:U,src:g(P,u.isMobile,m()),locked:l()(P,"[0].files.locked.url",void 0),thumbLarge:D,likesCount:b,tipsAmount:I,tipsAmountRaw:k,tipsCount:C,commentsCount:T,hasError:l()(P,"[0].hasError",!1)}};var S=s(727484),P=s.n(S);const w=new n.fK.Entity("bundles"),b=new n.fK.Array(w),I=new n.fK.Entity("subscribes",{},{idAttribute:(e,t)=>t.id,processStrategy:(e,t)=>({...e,id:t.id})}),k=new n.fK.Entity("subscribers",{},{idAttribute:(e,t)=>t.id,processStrategy:(e,t)=>({...e,id:t.id})}),C=new n.fK.Entity("offers",{},{processStrategy:(e,t)=>({...e,userId:t.id})}),T=new n.fK.Array(C),L={defaultUser:{openseaInfo:{isConnected:!1,permalink:null,openseaProfileLink:null,hasNft:!1}},mergeStrategy(e,t){let s=[];return e._views?s=e._views:e._view&&(s.push(e._view),delete e._view),t._view&&(s=[...new Set([...s,t._view])],delete t._view),{...e,...t,view:{...e.view||{},...t.view||{}},_views:s}},processStrategy:e=>(e.username&&(e.view&&(e.view={[e.view]:+new Date}),e.newPostsAfterExpireCount&&(e.subscribedByData={newPostsAfterExpireCount:e.newPostsAfterExpireCount},delete e.newPostsAfterExpireCount)),e._view?e._views=[...new Set([...e._views||[],e._view])]:e={...L.defaultUser,...e},{...e,friendsList:[]})},M=new n.fK.Entity("users",{},L),$=new n.fK.Entity("helperAccess",{user:M},{idAttribute:e=>e.userId}),A=new n.fK.Array($),_=new n.fK.Entity("users",{},L),F=new n.fK.Array(_),E=new n.fK.Entity("users",{subscribedByData:I,subscribedOnData:k,subscriptionBundles:b,helperAccess:A,connectedOfAccounts:F},L),D=new n.fK.Array(E),U=new n.fK.Entity("usersLists",{users:D},{processStrategy:e=>({...e})}),R=new n.fK.Array(U),O=new n.fK.Entity("comments",{author:E}),x=new n.fK.Array(O),B=new n.fK.Entity("linkedPosts",{author:E},{processStrategy:e=>({...e,comments:[],streamEvents:[],favoritesList:[],tipsList:[],buyersList:[]})}),j=new n.fK.Array(B),W=new n.fK.Entity("releaseForms"),Z=new n.fK.Array(W),q=new n.fK.Entity("hint",{payload:{user:E}},{idAttribute:e=>e.id||e.code,processStrategy:e=>({...e,text:e.text.replaceAll(/(\d\d\/\d\d\/(\d\d\d\d))/gm,((e,t,s)=>P()(t).format(+(new Date).getFullYear()==+s?"MMM D":"MMM D, YYYY")))})}),N=new n.fK.Array(q),V=new n.fK.Entity("posts",{author:E,fromUser:E,linkedPosts:j,linkedUsers:D,releaseForms:Z},{idAttribute:e=>e.id>0?e.id:e.queueId,processStrategy:e=>({...e,...void 0!==e.createdAt&&{postedAt:e.createdAt},id:e.id>0?e.id:e.queueId,streamEvents:[],favoritesList:[],tipsList:[],buyersList:[]})}),H=new n.fK.Entity("stories",{},{processStrategy:v}),z=new n.fK.Array(V),G={processStrategy:e=>({...e,likePrevent:!1,isMediaPlayed:!1,fromUser:e.fromUser.id})},X=new n.fK.Entity("messages",{},G),Y=new n.fK.Entity("messages",{replyToMessage:X,story:H,releaseForms:Z},G),K=new n.fK.Entity("chats",{withUser:E,lastMessage:Y},{idAttribute:e=>e.withUser.id,processStrategy:e=>({...e,messages:[],typing:!1})}),Q=new n.fK.Array(K),J=new n.fK.Array(Y),ee=new n.fK.Entity("streams",{user:E}),te=new n.fK.Array(ee),se=new n.fK.Array(E),ae=new n.fK.Entity("notification",{user:E,story:H}),re=new n.fK.Entity("votersList",{user:E},{processStrategy:e=>({...e})}),ie=new n.fK.Array(re),ne=new n.fK.Array(ae),oe=new n.fK.Entity("spotifyArtists"),de=new n.fK.Array(oe),ce=new n.fK.Entity("spotifyTracks"),le=new n.fK.Array(ce),ue=new n.fK.Entity("cards"),me=new n.fK.Array(ue),he=new n.fK.Entity("ticketReplies"),fe=new n.fK.Array(he),pe=new n.fK.Entity("supportTickets",{lastComment:he}),ge=new n.fK.Array(pe),ye=new n.fK.Entity("performerHelpers",{helper:E},{idAttribute:e=>e.helperId}),ve=new n.fK.Array(ye),Se=new n.fK.Entity("queues"),Pe=new n.fK.Array(Se),we=new n.fK.Entity("postLabels"),be=new n.fK.Array(we),Ie=new n.fK.Entity("vaultLists"),ke=new n.fK.Array(Ie),Ce=new n.fK.Array(H),Te=new n.fK.Entity("userStories",{stories:Ce,user:E},{idAttribute:e=>e.user.id}),Le=new n.fK.Array(Te),Me=new n.fK.Entity("highlights",{stories:Ce}),$e=new n.fK.Array(Me),Ae=new n.fK.Entity("massMessagesStat"),_e=new n.fK.Array(Ae)},530284:function(e,t,s){"use strict";s.d(t,{A:function(){return a}});const a=(e,t)=>{var s;if("function"==typeof(null==e||null===(s=e.target)||void 0===s?void 0:s.closest))return e.target.closest(t)}},58086:function(e,t){"use strict";const s={getDurationFormat:e=>e<3600?"m:ss":"H:mm:ss",getDurationWithText:e=>e>=3600?"H[h] m[min]":"m[min] s[sec]",secondsToHms(e){if(!e)return"";if((e=+e)/3600>48)return"";const t=Math.floor(e/3600),s=Math.floor(e%3600/60),a=Math.floor(e%3600%60),r=t>0?`${t}h`:"",i=s>0?`${s}m`:"",n=a>0?`${a}s`:"";return e<=120?`${e}s`:r?`${r}${i?" ":""}${i}`:i?`${i}${n?" ":""}${n}`:""}};t.Z=s},963729:function(e,t,s){"use strict";s.d(t,{L:function(){return n},P:function(){return i}});var a=s(333948),r=s.n(a);const i=()=>{const e={};return e.promise=new Promise(((t,s)=>{e.resolve=t,e.reject=s})),e},n=e=>{const t=e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e})))));return Promise.all(t)}},199887:function(e,t,s){"use strict";function a(){let e=!1;const{navigator:t={}}=window;if("maxTouchPoints"in t)e=t.maxTouchPoints>0;else if("msMaxTouchPoints"in t)null!==t&&(e=t.msMaxTouchPoints>0);else{var s,a;const r=null===(s=(a=window).matchMedia)||void 0===s?void 0:s.call(a,"(pointer:coarse)");if("(pointer:coarse)"===(null==r?void 0:r.media))e=!!r.matches;else if("orientation"in window)e=!0;else{const s=t.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(s)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(s)}}return e}s.d(t,{b:function(){return r}});const r=a()},793634:function(e,t,s){"use strict";s.d(t,{C:function(){return i},Q:function(){return r}});var a=s(530284);const r=e=>{const t=document.createElement("div");t.classList.add("b-dropdown-wrapper");const s=document.createElement("div");s.classList.add("overlay"),s.addEventListener("click",(()=>{e.vueTarget.hide()}),{once:!0}),t.appendChild(e.target),t.appendChild(s),document.body.appendChild(t)},i=e=>{let t;if(e.vueTarget)t=(0,a.A)(e,".b-dropdown-wrapper"),e.vueTarget.$el.appendChild(e.target);else{const s=document.body.querySelector(`.b-dropdown-wrapper ul[aria-labelledby=${e.id}__BV_toggle_]`);t=s&&s.parentElement}t&&t.remove()}},172462:function(e,t,s){"use strict";s.d(t,{Po:function(){return g},Ri:function(){return S},Ul:function(){return v},WH:function(){return w},oj:function(){return y}});var a=s(747037),r=s.n(a),i=s(227361),n=s.n(i),o=s(21703),d=s.n(o),c=s(333948),l=s.n(c),u=s(838862),m=s.n(u),h=s(53189),f=s(550615),p=s(310569);const g=(e,t,s)=>{if(e&&"silent"===e.message)return;const a=f.default.state.formApiErrors.hasError&&n()(e,"data.errors");let r,i=!0;null!==t&&"object"==typeof t&&({message:t,onclose:s,buttons:r,html:i=!0}=t),t=t||n()(e,"data.error.message")||n()(e,"data.error.templates")||n()(e,"message")||h.default.$t("message.debug_alert_message"),e instanceof Error&&!e.request&&Sentry.captureException(e),t&&!a&&alert({message:t,html:i,onclose:s,buttons:r})},y=({error:e,tags:t={},extra:s={}})=>{e&&Sentry.withScope((a=>{for(const[e,s]of Object.entries(t))a.setTag(e,s);for(const[e,t]of Object.entries(s))a.setExtra(e,t);Sentry.captureException(e)}))},v=({message:e,tags:t,extra:s,attachments:a})=>{P({data:e,severity:"log",tags:t,extra:s,attachments:a})},S=({error:e,tags:t,extra:s,attachments:a})=>{P({data:e,severity:"error",tags:t,extra:s,attachments:a})},P=({data:e,severity:t="log",tags:s={},extra:a={},attachments:i={}})=>{e&&SentryStreams.withScope((n=>{for(const[e,t]of Object.entries(s))n.setTag(e,t);for(const[e,t]of Object.entries(a))n.setExtra(e,t);for(const[e,t]of Object.entries(i))n.addAttachment({filename:`${e}.txt`,data:JSON.stringify(t,null,"\t")});"error"===t?(r()(e)&&(e=new Error(e)),SentryStreams.captureException(e)):SentryStreams.captureMessage(e,t)}))},w=(e,t)=>{e instanceof Error&&"Network Error"===e.message||e&&e.status>500?h.default.$bvToast.toast(h.default.$t("message.api_error"),p.TQ):"function"==typeof t&&t.call(null,e)}},925832:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(115306),r=s(53189),i=s(990733);const n=(e={})=>i.ZP.post(`${i.tW}/issues/login`,e).then((e=>e.data));var o=async()=>{const e=await n();if(e){"fraud_repayment"===e.action&&(r.default.$store.commit("init/setFraudRepaymentData",e.data,{root:!0}),r.default.$store.commit("init/setIsFraudRepayment",!0,{root:!0})),"login_requires_iv_wait_iv"===e.action&&(r.default.$store.commit("init/setlLoginRequiresIv",e.data,{root:!0}),r.default.$store.commit("init/setIsNeedIV",!0,{root:!0}));const t=(0,i.Es)(window.location);if(t){const{route:s}=r.default.$router.resolve(t),a=r.default.$store.getters["auth/authUser"];(!s||!s.meta||!s.meta.allowFraudRepayment&&"fraud_repayment"===e.action||!s.meta.allowNeedLoginIV&&"login_requires_iv_wait_iv"===e.action||s.params.userId&&s.params.userId!==a.username)&&r.default.$router.replace({name:"Profile",params:{userId:a.username}})}}}},927598:function(e,t,s){"use strict";var a=s(333948),r=s.n(a);t.Z=e=>Array.isArray(e)?[...new Set((e||[]).map((e=>e.id)))].map((t=>e.filter((e=>e.id===t)).pop())):[]},470039:function(e,t,s){var a;s(21703),s(115306),s(573210),function(r,i,n,o){"use strict";var d=["","webkit","Moz","MS","ms","o"],c=i.createElement("div"),l="function",u=Math.round,m=Math.abs,h=Date.now,f;function p(e,t,s){return setTimeout(b(e,s),t)}function g(e,t,s){return!!Array.isArray(e)&&(y(e,s[t],s),!0)}function y(e,t,s){var a;if(e)if(e.forEach)e.forEach(t,s);else if(e.length!==o)for(a=0;a<e.length;)t.call(s,e[a],a,e),a++;else for(a in e)e.hasOwnProperty(a)&&t.call(s,e[a],a,e)}function v(e,t,s){var a="DEPRECATED METHOD: "+t+"\n"+s+" AT \n";return function(){var t=new Error("get-stack-trace"),s=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=r.console&&(r.console.warn||r.console.log);return i&&i.call(r.console,a,s),e.apply(this,arguments)}}f="function"!=typeof Object.assign?function e(t){if(t===o||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var r=arguments[a];if(r!==o&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(s[i]=r[i])}return s}:Object.assign;var S=v((function e(t,s,a){for(var r=Object.keys(s),i=0;i<r.length;)(!a||a&&t[r[i]]===o)&&(t[r[i]]=s[r[i]]),i++;return t}),"extend","Use `assign`."),P=v((function e(t,s){return S(t,s,!0)}),"merge","Use `assign`.");function w(e,t,s){var a=t.prototype,r;(r=e.prototype=Object.create(a)).constructor=e,r._super=a,s&&f(r,s)}function b(e,t){return function s(){return e.apply(t,arguments)}}function I(e,t){return typeof e==l?e.apply(t&&t[0]||o,t):e}function k(e,t){return e===o?t:e}function C(e,t,s){y($(t),(function(t){e.addEventListener(t,s,!1)}))}function T(e,t,s){y($(t),(function(t){e.removeEventListener(t,s,!1)}))}function L(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function M(e,t){return e.indexOf(t)>-1}function $(e){return e.trim().split(/\s+/g)}function A(e,t,s){if(e.indexOf&&!s)return e.indexOf(t);for(var a=0;a<e.length;){if(s&&e[a][s]==t||!s&&e[a]===t)return a;a++}return-1}function _(e){return Array.prototype.slice.call(e,0)}function F(e,t,s){for(var a=[],r=[],i=0;i<e.length;){var n=t?e[i][t]:e[i];A(r,n)<0&&a.push(e[i]),r[i]=n,i++}return s&&(a=t?a.sort((function e(s,a){return s[t]>a[t]})):a.sort()),a}function E(e,t){for(var s,a,r=t[0].toUpperCase()+t.slice(1),i=0;i<d.length;){if((a=(s=d[i])?s+r:t)in e)return a;i++}return o}var D=1;function U(){return D++}function R(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var O=/mobile|tablet|ip(ad|hone|od)|android/i,x="ontouchstart"in r,B=!1,j=!0,W="touch",Z="pen",q="mouse",N="kinect",V=25,H=1,z=2,G=4,X=8,Y=1,K=2,Q=4,J=8,ee=16,te=K|Q,se=J|ee,ae=te|se,re=["x","y"],ie=["clientX","clientY"];function ne(e,t){var s=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){I(e.options.enable,[e])&&s.handler(t)},this.init()}function oe(e){var t,s=e.options.inputClass;return new(t=s||(B?Me:j?Re:x?je:Ie))(e,de)}function de(e,t,s){var a=s.pointers.length,r=s.changedPointers.length,i=t&H&&a-r==0,n=t&(G|X)&&a-r==0;s.isFirst=!!i,s.isFinal=!!n,i&&(e.session={}),s.eventType=t,ce(e,s),e.emit("hammer.input",s),e.recognize(s),e.session.prevInput=s}function ce(e,t){var s=e.session,a=t.pointers,r=a.length;s.firstInput||(s.firstInput=me(t)),r>1&&!s.firstMultiple?s.firstMultiple=me(t):1===r&&(s.firstMultiple=!1);var i=s.firstInput,n=s.firstMultiple,o=n?n.center:i.center,d=t.center=he(a);t.timeStamp=h(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=ye(o,d),t.distance=ge(o,d),le(s,t),t.offsetDirection=pe(t.deltaX,t.deltaY);var c=fe(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=m(c.x)>m(c.y)?c.x:c.y,t.scale=n?Se(n.pointers,a):1,t.rotation=n?ve(n.pointers,a):0,t.maxPointers=s.prevInput?t.pointers.length>s.prevInput.maxPointers?t.pointers.length:s.prevInput.maxPointers:t.pointers.length,ue(s,t);var l=e.element;L(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function le(e,t){var s=t.center,a=e.offsetDelta||{},r=e.prevDelta||{},i=e.prevInput||{};t.eventType!==H&&i.eventType!==G||(r=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},a=e.offsetDelta={x:s.x,y:s.y}),t.deltaX=r.x+(s.x-a.x),t.deltaY=r.y+(s.y-a.y)}function ue(e,t){var s=e.lastInterval||t,a=t.timeStamp-s.timeStamp,r,i,n,d;if(t.eventType!=X&&(a>V||s.velocity===o)){var c=t.deltaX-s.deltaX,l=t.deltaY-s.deltaY,u=fe(a,c,l);i=u.x,n=u.y,r=m(u.x)>m(u.y)?u.x:u.y,d=pe(c,l),e.lastInterval=t}else r=s.velocity,i=s.velocityX,n=s.velocityY,d=s.direction;t.velocity=r,t.velocityX=i,t.velocityY=n,t.direction=d}function me(e){for(var t=[],s=0;s<e.pointers.length;)t[s]={clientX:u(e.pointers[s].clientX),clientY:u(e.pointers[s].clientY)},s++;return{timeStamp:h(),pointers:t,center:he(t),deltaX:e.deltaX,deltaY:e.deltaY}}function he(e){var t=e.length;if(1===t)return{x:u(e[0].clientX),y:u(e[0].clientY)};for(var s=0,a=0,r=0;r<t;)s+=e[r].clientX,a+=e[r].clientY,r++;return{x:u(s/t),y:u(a/t)}}function fe(e,t,s){return{x:t/e||0,y:s/e||0}}function pe(e,t){return e===t?Y:m(e)>=m(t)?e<0?K:Q:t<0?J:ee}function ge(e,t,s){s||(s=re);var a=t[s[0]]-e[s[0]],r=t[s[1]]-e[s[1]];return Math.sqrt(a*a+r*r)}function ye(e,t,s){s||(s=re);var a=t[s[0]]-e[s[0]],r=t[s[1]]-e[s[1]];return 180*Math.atan2(r,a)/Math.PI}function ve(e,t){return ye(t[1],t[0],ie)+ye(e[1],e[0],ie)}function Se(e,t){return ge(t[0],t[1],ie)/ge(e[0],e[1],ie)}ne.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(R(this.element),this.evWin,this.domHandler)}};var Pe={mousedown:H,mousemove:2,mouseup:G},we="mousedown",be="mousemove mouseup";function Ie(){this.evEl=we,this.evWin=be,this.pressed=!1,ne.apply(this,arguments)}w(Ie,ne,{handler:function e(t){var s=Pe[t.type];s&H&&0===t.button&&(this.pressed=!0),2&s&&1!==t.which&&(s=G),this.pressed&&(s&G&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[t],changedPointers:[t],pointerType:q,srcEvent:t}))}});var ke={pointerdown:H,pointermove:2,pointerup:G,pointercancel:X,pointerout:X},Ce={2:W,3:Z,4:q,5:N},Te="pointerdown",Le="pointermove pointerup pointercancel";function Me(){this.evEl=Te,this.evWin=Le,ne.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Te="MSPointerDown",Le="MSPointerMove MSPointerUp MSPointerCancel"),w(Me,ne,{handler:function e(t){var s=this.store,a=!1,r=t.type.toLowerCase().replace("ms",""),i=ke[r],n=Ce[t.pointerType]||t.pointerType,o=n==W,d=A(s,t.pointerId,"pointerId");i&H&&(0===t.button||o)?d<0&&(s.push(t),d=s.length-1):i&(G|X)&&(a=!0),d<0||(s[d]=t,this.callback(this.manager,i,{pointers:s,changedPointers:[t],pointerType:n,srcEvent:t}),a&&s.splice(d,1))}});var $e={touchstart:H,touchmove:2,touchend:G,touchcancel:X},Ae="touchstart",_e="touchstart touchmove touchend touchcancel";function Fe(){this.evTarget=Ae,this.evWin=_e,this.started=!1,ne.apply(this,arguments)}function Ee(e,t){var s=_(e.touches),a=_(e.changedTouches);return t&(G|X)&&(s=F(s.concat(a),"identifier",!0)),[s,a]}w(Fe,ne,{handler:function e(t){var s=$e[t.type];if(s===H&&(this.started=!0),this.started){var a=Ee.call(this,t,s);s&(G|X)&&a[0].length-a[1].length==0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:W,srcEvent:t})}}});var De={touchstart:H,touchmove:2,touchend:G,touchcancel:X},Ue="touchstart touchmove touchend touchcancel";function Re(){this.evTarget=Ue,this.targetIds={},ne.apply(this,arguments)}function Oe(e,t){var s=_(e.touches),a=this.targetIds;if(t&(2|H)&&1===s.length)return a[s[0].identifier]=!0,[s,s];var r,i,n=_(e.changedTouches),o=[],d=this.target;if(i=s.filter((function(e){return!0})),t===H)for(r=0;r<i.length;)a[i[r].identifier]=!0,r++;for(r=0;r<n.length;)a[n[r].identifier]&&o.push(n[r]),t&(G|X)&&delete a[n[r].identifier],r++;return o.length?[F(i.concat(o),"identifier",!0),o]:void 0}w(Re,ne,{handler:function e(t){var s=De[t.type],a=Oe.call(this,t,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:W,srcEvent:t})}});var xe=2500,Be=25;function je(){ne.apply(this,arguments);var e=b(this.handler,this);this.touch=new Re(this.manager,e),this.mouse=new Ie(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function We(e,t){e&H?(this.primaryTouch=t.changedPointers[0].identifier,Ze.call(this,t)):e&(G|X)&&Ze.call(this,t)}function Ze(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var s={x:t.clientX,y:t.clientY};this.lastTouches.push(s);var a=this.lastTouches,r;setTimeout((function(){var e=a.indexOf(s);e>-1&&a.splice(e,1)}),xe)}}function qe(e){for(var t=e.srcEvent.clientX,s=e.srcEvent.clientY,a=0;a<this.lastTouches.length;a++){var r=this.lastTouches[a],i=Math.abs(t-r.x),n=Math.abs(s-r.y);if(i<=DEDUP_DISTANCE&&n<=DEDUP_DISTANCE)return!0}return!1}w(je,ne,{handler:function e(t,s,a){var r=a.pointerType==W,i=a.pointerType==q;if(!(i&&a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents)){if(r)We.call(this,s,a);else if(i&&qe.call(this,a))return;this.callback(t,s,a)}},destroy:function e(){this.touch.destroy(),this.mouse.destroy()}});var Ne=E(c.style,"touchAction"),Ve=Ne!==o,He="compute",ze="auto",Ge="manipulation",Xe="none",Ye="pan-x",Ke="pan-y",Qe=tt();function Je(e,t){this.manager=e,this.set(t)}function et(e){if(M(e,Xe))return Xe;var t=M(e,Ye),s=M(e,Ke);return t&&s?Xe:t||s?t?Ye:Ke:M(e,Ge)?Ge:ze}function tt(){if(!Ve)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(s){e[s]=!t||r.CSS.supports("touch-action",s)})),e}Je.prototype={set:function(e){e==He&&(e=this.compute()),Ve&&this.manager.element.style&&Qe[e]&&(this.manager.element.style[Ne]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){I(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),et(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,s=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var a=this.actions,r=M(a,Xe)&&!Qe[Xe],i=M(a,Ke)&&!Qe[Ke],n=M(a,Ye)&&!Qe[Ye];if(r){var o=1===e.pointers.length,d=e.distance<2,c=e.deltaTime<250;if(o&&d&&c)return}if(!n||!i)return r||i&&s&te||n&&s&se?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var st=1,at=2,rt=4,it=8,nt=8,ot=16,dt=32;function ct(e){this.options=f({},this.defaults,e||{}),this.id=U(),this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=st,this.simultaneous={},this.requireFail=[]}function lt(e){return e&ot?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ut(e){return e==ee?"down":e==J?"up":e==K?"left":e==Q?"right":""}function mt(e,t){var s=t.manager;return s?s.get(e):e}function ht(){ct.apply(this,arguments)}function ft(){ht.apply(this,arguments),this.pX=null,this.pY=null}function pt(){ht.apply(this,arguments)}function gt(){ct.apply(this,arguments),this._timer=null,this._input=null}function yt(){ht.apply(this,arguments)}function vt(){ht.apply(this,arguments)}function St(){ct.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Pt(e,t){return(t=t||{}).recognizers=k(t.recognizers,Pt.defaults.preset),new kt(e,t)}ct.prototype={defaults:{},set:function(e){return f(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=mt(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=mt(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===A(t,e=mt(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=mt(e,this);var t=A(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,s=this.state;function a(s){t.manager.emit(s,e)}s<8&&a(t.options.event+lt(s)),a(t.options.event),e.additionalEvent&&a(e.additionalEvent),s>=8&&a(t.options.event+lt(s))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=dt},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(dt|st)))return!1;e++}return!0},recognize:function(e){var t=f({},e);if(!I(this.options.enable,[this,t]))return this.reset(),void(this.state=dt);56&this.state&&(this.state=st),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(ht,ct,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,s=e.eventType,a=6&t,r=this.attrTest(e);return a&&(s&X||!r)?t|ot:a||r?s&G?8|t:2&t?4|t:2:dt}}),w(ft,ht,{defaults:{event:"pan",threshold:10,pointers:1,direction:ae},getTouchAction:function(){var e=this.options.direction,t=[];return e&te&&t.push(Ke),e&se&&t.push(Ye),t},directionTest:function(e){var t=this.options,s=!0,a=e.distance,r=e.direction,i=e.deltaX,n=e.deltaY;return r&t.direction||(t.direction&te?(r=0===i?Y:i<0?K:Q,s=i!=this.pX,a=Math.abs(e.deltaX)):(r=0===n?Y:n<0?J:ee,s=n!=this.pY,a=Math.abs(e.deltaY))),e.direction=r,s&&a>t.threshold&&r&t.direction},attrTest:function(e){return ht.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ut(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(pt,ht,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(gt,ct,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ze]},process:function(e){var t=this.options,s=e.pointers.length===t.pointers,a=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!a||!s||e.eventType&(G|X)&&!r)this.reset();else if(e.eventType&H)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(e.eventType&G)return 8;return dt},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&G?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),w(yt,ht,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(vt,ht,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:te|se,pointers:1},getTouchAction:function(){return ft.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,s;return t&(te|se)?s=e.overallVelocity:t&te?s=e.overallVelocityX:t&se&&(s=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&m(s)>this.options.velocity&&e.eventType&G},emit:function(e){var t=ut(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(St,ct,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ge]},process:function(e){var t=this.options,s=e.pointers.length===t.pointers,a=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&H&&0===this.count)return this.failTimeout();if(a&&r&&s){if(e.eventType!=G)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,n=!this.pCenter||ge(this.pCenter,e.center)<t.posThreshold,o;if(this.pTime=e.timeStamp,this.pCenter=e.center,n&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return dt},failTimeout:function(){return this._timer=p((function(){this.state=dt}),this.options.interval,this),dt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Pt.VERSION="2.0.7",Pt.defaults={domEvents:!1,touchAction:He,enable:!0,inputTarget:null,inputClass:null,preset:[[yt,{enable:!1}],[pt,{enable:!1},["rotate"]],[vt,{direction:te}],[ft,{direction:te},["swipe"]],[St],[St,{event:"doubletap",taps:2},["tap"]],[gt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var wt=1,bt=2,It;function kt(e,t){this.options=f({},Pt.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=oe(this),this.touchAction=new Je(this,this.options.touchAction),Ct(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ct(e,t){var s=e.element,a;s.style&&(y(e.options.cssProps,(function(r,i){a=E(s.style,i),t?(e.oldCssProps[a]=s.style[a],s.style[a]=r):s.style[a]=e.oldCssProps[a]||""})),t||(e.oldCssProps={}))}function Tt(e,t){var s=i.createEvent("Event");s.initEvent(e,!0,!0),s.gesture=t,t.target.dispatchEvent(s)}kt.prototype={set:function(e){return f(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var s;this.touchAction.preventDefaults(e);var a=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var i=0;i<a.length;)s=a[i],2===t.stopped||r&&s!=r&&!s.canRecognizeWith(r)?s.reset():s.recognize(e),!r&&14&s.state&&(r=t.curRecognizer=s),i++}},get:function(e){if(e instanceof ct)return e;for(var t=this.recognizers,s=0;s<t.length;s++)if(t[s].options.event==e)return t[s];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,s=A(t,e);-1!==s&&(t.splice(s,1),this.touchAction.update())}return this},on:function(e,t){if(e!==o&&t!==o){var s=this.handlers;return y($(e),(function(e){s[e]=s[e]||[],s[e].push(t)})),this}},off:function(e,t){if(e!==o){var s=this.handlers;return y($(e),(function(e){t?s[e]&&s[e].splice(A(s[e],t),1):delete s[e]})),this}},emit:function(e,t){this.options.domEvents&&Tt(e,t);var s=this.handlers[e]&&this.handlers[e].slice();if(s&&s.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](t),a++}},destroy:function(){this.element&&Ct(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},f(Pt,{INPUT_START:H,INPUT_MOVE:2,INPUT_END:G,INPUT_CANCEL:X,STATE_POSSIBLE:st,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:ot,STATE_FAILED:dt,DIRECTION_NONE:Y,DIRECTION_LEFT:K,DIRECTION_RIGHT:Q,DIRECTION_UP:J,DIRECTION_DOWN:ee,DIRECTION_HORIZONTAL:te,DIRECTION_VERTICAL:se,DIRECTION_ALL:ae,Manager:kt,Input:ne,TouchAction:Je,TouchInput:Re,MouseInput:Ie,PointerEventInput:Me,TouchMouseInput:je,SingleTouchInput:Fe,Recognizer:ct,AttrRecognizer:ht,Tap:St,Pan:ft,Swipe:vt,Pinch:pt,Rotate:yt,Press:gt,on:C,off:T,each:y,merge:P,extend:S,assign:f,inherit:w,bindFn:b,prefixed:E}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Pt,(a=function(){return Pt}.call(t,s,t,e))===o||(e.exports=a)}(window,document,"Hammer")},161065:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var a=s(333948),r=s.n(a),i=s(550615);const n=()=>{var e;const{activeHelperAccess:t,username:s,id:a}=i.default.getters["auth/authUser"];if(null==t||null===(e=t.permissions)||void 0===e||!e.length)return[];const r={chats:["/my/chats","/my/mass_chats"],posts:["/posts/create",`/${s}`,`/${a}`,`/u${a}`],stats:["/my/statistics"]};return t.permissions.reduce(((e,t)=>[...new Set([...e,...r[t]||[]])]),[])}},914786:function(e,t){"use strict";const s=(e,t=null)=>{try{const s=localStorage.getItem(e);return null==s?t:s}catch(s){return t}},a=(e,t)=>{try{return localStorage.setItem(e,t)}catch(s){}},r=e=>{try{return localStorage.removeItem(e)}catch(t){}},i=(e,t=null)=>{try{const s=sessionStorage.getItem(e);return null==s?t:s}catch(s){return t}},n=(e,t)=>{try{return sessionStorage.setItem(e,t)}catch(s){}},o=e=>{try{return sessionStorage.removeItem(e)}catch(t){}};t.Z={getItem:s,setItem:a,removeItem:r,getSessionItem:i,setSessionItem:n,removeSessionItem:o}},378945:function(e,t,s){"use strict";s.d(t,{C:function(){return a},w:function(){return r}});const a=e=>{switch(e){case"likes":return"favorites";case"media":return"medias";default:return e}},r=(e=[],t={})=>Array.isArray(e)&&e.length&&t&&"object"==typeof t&&Object.keys(t).length?e.reduce(((e,s)=>(s&&t[s]&&e.push(t[s]),e)),[]):[]},403650:function(e,t,s){"use strict";s.d(t,{OT:function(){return o},xm:function(){return i}});const a=!0;let r="https://static.onlyfans.com";{const e="https://static.onlyfans.com".split("|").filter((e=>e));e.length&&(r=e[Math.round(Math.random()*(e.length-1))])}const i=r,n=`${r}/theme/onlyfans/spa/`,o="/theme/onlyfans/spa/icons/sprite.svg?rev=202310251539-21edf1068d#";s.p=n},315223:function(e,t,s){"use strict";s.d(t,{D:function(){return a}});const a=()=>{const e=document.querySelector("#recovery_mode");e?(e.style.display="block",document.querySelector("#recovery_mode_progress").style.animation="recovery_progress 15s linear",window.isRecoveryMode=!0,setTimeout((()=>{window.location.reload()}),15e3)):window.location.reload()}},409602:function(e,t,s){"use strict";s.d(t,{B7:function(){return o},gV:function(){return n}});var a=s(377043),r=s.n(a);const i=(e=[])=>e.reduce(((e,{mentionedUsers:t})=>e.concat(null!=t&&t.length?t:[])),[]).map((e=>({id:e.id,type:"user",name:e.name,user:e}))),n=e=>{let t=[];return e.forEach((({releaseForms:e})=>{null!=e&&e.length&&(t=t.concat(e))})),r()(t,"id")},o=({token:e,username:t,code:s,signature:a}={})=>({guest:{query:`?rfguesttoken=${e}`,notification:"copy_btn_copied_label"},profile:{query:`/${t}`,notification:"copy_link_to_profile_btn_copied"},username:{query:`${t}`,notification:"username_copied"},link:{query:`/my/release-forms/${s}?signature=${a}`,notification:"copy_link_to_message_btn_copied"}})},990733:function(e,t,s){"use strict";s.d(t,{JW:function(){return Z},tW:function(){return q},XP:function(){return re},K$:function(){return se},ZP:function(){return he},P9:function(){return N},Yz:function(){return le},lK:function(){return me},gy:function(){return oe},HS:function(){return de},jT:function(){return ue},Es:function(){return ie},Zh:function(){return ne},r:function(){return W}});var a=s(21703),r=s(782801),i=s(115306),n=s(333948),o=s(560285),d=s(241637),c=s(550196),l=s(193810),u=s.n(l),m=s(428662),h=s(513218),f=s.n(h),p=s(227361),g=s.n(p),y=s(618446),v=s.n(y),S=s(550615),P=s(997046),w=s(53189),b=s(833415),I=s(914786),k=s(315223),C=(e,t)=>{var s,a,r;return 120===(null==e||null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a||null===(r=a.error)||void 0===r?void 0:r.code)?(w.default.$root.$emit("bv::show::modal","ModalAgeVerification"),{sendToSentry:t,is120:!0}):{sendToSentry:t,is120:!1}},T=(e,t)=>{var s,a,r;return 121===(null==e||null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a||null===(r=a.error)||void 0===r?void 0:r.code)?(alert('You have searched for a term that may be associated with illegal content involving a child.\n\n<ul class="default-list">\n<li>Viewing explicit images of anyone under 18 is illegal and harms children.</li>\n<li>The consequences of viewing or distributing child sexual abuse images can include imprisonment and placement on the sex offenders registry.</li>\n</ul>\n\nThese organisations provide free and confidential help.\n<ul class="default-list">\n<li><a href="https://www.stopitnow.org.uk/" target="_blank" rel="nofollow noopener noreferrer">Stop It Now!</a> 0808 1000 900</li>\n<li><a href="https://www.mielenterveystalo.fi/en/self-help/redirection-self-help-program-stop-using-csam" target="_blank" rel="nofollow noopener noreferrer">ReDirection - A self-help program</a></li></ul>',!0),{sendToSentry:t,is121:!0}):{sendToSentry:t,is121:!1}},L=async(e,t,s)=>new Promise(((a,r)=>{setTimeout((async()=>{try{a(await he[e](t,s))}catch(i){r(i)}}),1e3)})),M=s(925832),$=s(440103),A=s(441669),_=s(470198);const F=3e3,E=300;var D=new WeakMap,U=new WeakMap,R;class O{constructor(e){(0,$.Z)(this,D,{writable:!0,value:0}),(0,$.Z)(this,U,{writable:!0,value:void 0}),(0,_.Z)(this,U,e)}run(){setInterval((()=>{(0,_.Z)(this,D,(0,A.Z)(this,D)+E),(0,A.Z)(this,D)>F&&(0,A.Z)(this,U)&&(0,A.Z)(this,U).call(this)}),3e5)}reset(){(0,_.Z)(this,D,0)}}const x=undefined,B=new O((()=>S.default.dispatch("init/fetchGeoInfo",!0,{root:!0})));B.run();const j=undefined,W="33d57ade8c02dbc5a333db99ff9ae26a",Z=`https://${"onlyfans.com"}`,q="/api2/v2",N=10,V=3e3;let H;const z=c.default.create({baseURL:Z,headers:{"Content-Type":"application/json",accept:"application/json, text/plain, */*"},params:{},withCredentials:!0,maxRedirects:0}),G={get:(e,t)=>ee("get",e,t),post:(e,t,s)=>ee("post",e,t,s),put:(e,t,s)=>ee("put",e,t,s),patch:(e,t,s)=>ee("patch",e,t,s),delete:(e,t,s)=>ee("delete",e,t,s)},X={},Y=(e,t,s,a,r,i)=>{const n=a.headers["retry-after"]||3;X[i]||(X[i]={accept:r.accept,reject:r.reject,counter:0}),n&&0===X[i].counter?(setTimeout((()=>{G[e](t,s)}),1e3*n),X[i].counter+=1):(alert("Please try again later."),X[i].reject(a),delete X[i])};let K,Q;const J=async(e,t,s,a)=>new Promise(((r,i)=>{const n=S.default.getters["modals/isPreloaderShow"];K&&(w.default.$off("confirmSecurityCheck",K),w.default.$off("declineSecurityCheck",Q)),w.default.$window.hidePreloader(),K=async()=>{n&&w.default.$window.showPreloader();try{r(await G[e](t,s))}catch(a){i(a)}},Q=()=>{i({data:a.data,message:"silent"})},w.default.$once("confirmSecurityCheck",K),w.default.$once("declineSecurityCheck",Q),w.default.$nextTick((()=>{w.default.$emit("bv::show::modal","ModalSecurityCheck")}))})),ee=(e,t,s,a)=>new Promise(((r,i)=>{const{isFraudRepayment:n,isNeedIV:o}=S.default.state.init;if((n||o)&&t===`${q}/issues/login`)return void r({});const d=`${e}${t}`;z[e](t,s,a).then((e=>{e&&(B.reset(),X[d]?(X[d].accept(e),delete X[d]):r&&r(e))})).catch((async a=>{if(429===a.status)Y(e,t,s,a,{accept:r,reject:i},d);else if(X[d])X[d].reject(a),delete X[d];else if(400===a.status&&105===g()(a,"data.error.code")){let o=g()(a,"data.error.payload.otpState")||{};o.forceFaceOtp&&(o={faceOtp:!0,email:!1,phoneOtp:!1,appOtp:!1}),S.default.commit("modals/setTrustModal",o,{root:!0});try{r(await J(e,t,s,a))}catch(n){n&&400===n.status&&105===g()(n,"data.error.code")?i(new Error("silent")):i(n)}}else if("session_lock"===g()(a,"data.error.code"))try{r(await L(e,t,s,a))}catch(n){i(n)}else i&&i(a)}))})),te=()=>1e12*Math.random(),se=()=>{let e=I.Z.getItem("bcTokenSha");return e||(e=u()([(new Date).getTime(),te(),te(),window.navigator.userAgent].map(btoa).join(".")),I.Z.setItem("bcTokenSha",e),e)};(0,m.ZP)(z,{retries:0,retryDelay:()=>V}),z.interceptors.request.use((e=>(se(),0===e.url.indexOf(`${q}/`)&&(e.headers={...e.headers,...me(e)}),e))),z.interceptors.response.use((e=>{if(H=void 0,e.headers){const t=e.headers["user-id"],s=S.default.getters["auth/authUserId"];if(!["/users/login-as-helper","/users/helper-logout"].some((t=>e.config.url.includes(`${q}${t}`)))&&t&&s&&+t!=+s)return window.showPreloader(),w.default.$emit("removeAllBeforeUnloadListeners"),w.default.$nextTick((()=>{window.location.reload()})),e;const a=e.headers.date?+new Date(e.headers.date):Date.now();S.default.commit("init/setCurrentDate",a);const{neededReload:r,currentRev:i}=S.default.state.init,n=e.headers["x-of-rev"];!r&&n&&(null===i?S.default.commit("init/setCurrentRev",n):i!==n&&S.default.commit("init/setNeededReload",!0))}return e}),(async e=>{var t;S.default.commit("formApiErrors/setErrorCondition",!1),w.default.$emit("globalRequestErrorListeners",e);const s=e.response||e,a=g()(e,"response.headers");if(a){const e=a["user-id"],t=S.default.getters["auth/authUserId"];if(e&&t&&+e!=+t||400===s.status&&301===g()(s,"data.error.code"))return window.showPreloader(),w.default.$emit("removeAllBeforeUnloadListeners"),w.default.$nextTick((()=>{window.location.reload()})),Promise.reject(s)}if((e instanceof Error&&"Network Error"===e.message||(null==e||null===(t=e.request)||void 0===t?void 0:t.status)>=500)&&(H?v()(H,e.config)?(H=void 0,g()(w.default,"$children[0].$children[0]._isMounted")?alert(w.default.$t("message.api_error")):w.default.$once("mounted",(()=>{alert(w.default.$t("message.api_error"))})),S.default.commit("init/setApiError",!0)):H=void 0:({config:H}=e)),e.request){let t=!0;if((e.request.status<500||e instanceof Error&&"Network Error"===e.message||"string"==typeof s.data&&s.data.toLowerCase().includes("blocked by "))&&(t=!1),401===g()(e,"response.status")&&"SignPage"!==w.default.$route.name){S.default.commit("init/setInitAuth",!1),S.default.commit("auth/setAuthUser",null),S.default.commit("modals/otpModalShow",!1,{root:!0}),S.default.dispatch("logout");const e={},t=w.default.$route.query.return_to||w.default.$route.fullPath;return"/"!==t&&(e.return_to=t),P.Z.push({name:"Feed",params:{isLogout:!0},query:e}),Promise.reject(new Error("silent"))}const a=C(e,t);({sendToSentry:t}=a);const{is120:r}=a;if(r)return Promise.reject(new Error("silent"));const i=T(e,t);({sendToSentry:t}=i);const{is121:n}=i;if(n)return Promise.resolve({});if("session_lock"===g()(e,"response.data.error.code")&&(t=!1),101===g()(e,"response.data.error.code")){t=!1;const s=g()(e,"response.data.error.payload.otpState")||{};S.default.commit("modals/setOtpModal",{title:e.response.data.error.message,strong:!!g()(e,"response.data.error.payload.strong"),phone:!!s.phoneOtp&&!s.forceFaceOtp,app:!!s.appOtp&&!s.forceFaceOtp,email:!!s.email&&!s.forceFaceOtp,phoneCode:s.phoneCode,phoneLast4:s.phoneLast4,face:!!s.faceOtp||!!s.forceFaceOtp},{root:!0}),S.default.commit("modals/otpModalShow",!0,{root:!0})}if(105===g()(e,"response.data.error.code")&&(t=!1),117===g()(e,"response.data.error.code"))return await(0,M.Z)(),Promise.reject(s);const o=g()(e,"request.responseURL")||g()(e,"config.url","");if(o&&["/payments/pay","/users/login","/users/register","/users/forgot-password"].some((e=>o.includes(e)))&&(t=!1),t){const t=new Error(o);t.name=`API error ${e.request.status}`,Sentry.withScope((s=>{s.setTag("responseStatus",e.request.status),s.setExtra("response",e.request.response),Sentry.captureException(t)}))}o&&-1!==o.indexOf("/init")&&200!==e.request.status&&(0,k.D)()}return Promise.reject(s)}));const ae=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16)}`)),re=(e,t=null)=>{if(!f()(e))return"";let s=Object.keys(e).map((s=>{const a=e[s];if(![void 0,null,""].includes(a)){if("object"==typeof a){const e=undefined;return re(a,t?`${t}[${s}]`:s)}return t?`${t}[${Number.isInteger(+s)?"":s}]=${ae(a)}`:`${s}=${ae(a)}`}})).filter((e=>!!e)).join("&");return s&&!t&&(s=`?${s}`),s},ie=e=>{try{const t=new URL(e),{search:s,pathname:a}=t,r=["stripe","epayservice","payoneer"],i=[window.location.hostname,`www.${window.location.hostname}`,"onlyfans.com","www.onlyfans.com","onlyfans.com","www.onlyfans.com","of.com","www.of.com"],n=a.split("/")[1];if(n&&r.includes(n))return!1;if(!i.includes(t.hostname))return!1;const o=P.Z.getMatchedComponents(a);if(Array.isArray(o)&&o.length>1){const e=o[1];if(e&&e.isErrorPage)return!1}return s?a+s:a}catch(t){}return!1},ne=e=>{let{target:t}=e;if(t&&"A"!==t.tagName&&(t=t.closest("a")),t&&"A"===t.tagName&&t.href){const{altKey:s,ctrlKey:a,metaKey:r,shiftKey:i,button:n,defaultPrevented:o}=e;if(r||s||a||i)return!1;if(o)return;if(void 0!==n&&0!==n)return!1;const d=t.getAttribute("target");return!/\b_blank\b/i.test(d)&&ie(t.href)}return!1},oe=e=>{const t=ne(e);if(t){e.preventDefault(),w.default.$emit("bv::hide::modal","ModalAlert"),w.default.$emit("bv::hide::modal","ModalUserAlert");let{target:s}=e;s&&"A"!==s.tagName&&(s=s.closest("a"));const a=s.closest(".toast");a&&w.default.$bvToast.hide(a.id),P.Z.push(t)}},de=(e,t)=>{const s=ne(e);if(s){e.preventDefault(),w.default.$emit("bv::hide::modal","ModalAlert"),w.default.$emit("bv::hide::modal","ModalUserAlert");let{target:a}=e;a&&"A"!==a.tagName&&(a=a.closest("a"));const{route:r}=P.Z.resolve(s),{authorId:i}=t,{name:n,params:{userId:o}}=r;"Profile"===n&&o!==i&&(r.params.profileStatSource="post_mention");const d=a.closest(".toast");d&&w.default.$bvToast.hide(d.id),P.Z.push(r)}},ce={},le=e=>{var t;let s=!1;null!==(t=ce[e])&&void 0!==t&&t.source&&(ce[e].source.cancel(),ce[e]=null,s=!0);const{CancelToken:a,Cancel:r}=c.default;return ce[e]||(ce[e]={}),ce[e].source=a.source(),{cancelToken:ce[e].source.token,isCancelled:s,Cancel:r}},ue=e=>{const{isCancel:t}=c.default;return t(e)},me=e=>{try{const t={...(0,b.Z)(e)};t["app-token"]=W;const s=S.default.getters["auth/authUserId"];return s&&(t["user-id"]=s),t["x-bc"]=se(),t}catch(t){console.error(t)}return{}};var he=G},993043:function(e,t,s){"use strict";s.d(t,{$7:function(){return v},Bw:function(){return y},EC:function(){return h},Sf:function(){return f},Sp:function(){return m}});var a=s(227361),r=s.n(a),i=s(333948),n=s.n(i),o=s(727484),d=s.n(o),c=s(849344),l=s(999023),u=s(596012);const m=e=>{e.forEach((e=>{"stream"===e.type&&e.entity.media&&(e.entity.media.thumb=r()(e,"entity.media.files.thumb.url",null),e.entity.media=[e.entity.media])}))},h=({list:e})=>{const t=[];return Object.keys(e).forEach((s=>{const a=e[s];if(a.post&&a.saved_for_later_post){const{post:e,saved_for_later_post:t}=a,s=e+t;a.posts={sum:s,value:Math.round(e/s*100)},delete a.post,delete a.saved_for_later_post}Object.keys(a).forEach((a=>{const r={start:d()(s).toDate(),date:d()(s).format("YYYY-MM-DD")};"posts"===a?(r.type=a,r.name=String(e[s][a].sum),r.value=String(e[s][a].value)):(r.type="saved_for_later_post"===a?"sfl-post":a,r.name=String(e[s][a])),t.push(r)}))})),t},f=e=>{const t={};if(e.forEach((e=>{const s=d()(e.publishDateTime).format("YYYY-MM-DD");t[s]?t[s].push(e):t[s]=[e]})),Object.keys(t).length){const e={},s=undefined;return Object.keys(t).sort(((e,t)=>d()(e).isAfter(d()(t))?1:-1)).forEach((s=>{e[s]=t[s]})),e}return t},p=e=>{if(!e)return(void 0).$route;const{author:t}=e;return t.subscribedBy?{name:"Post",params:{postId:e.id,userId:t.id}}:{name:"Profile",params:{userId:t.id}}},g=async({commit:e,postsWithLinkedUsers:t,commitName:s})=>{const a={},r=[],i=[];t.forEach((e=>e.entity.linkedPosts.forEach((e=>{r.includes(e.id)||r.push(e.id),i.includes(e.author.id)||i.push(e.author.id)}))));const n=r.map((e=>(0,c.u_)(e))),o=i.map((e=>(0,l.PR)(e))),d=await Promise.all(n),u=await Promise.all(o);d&&(t.forEach((e=>{a[e.entity.id]=e.entity.linkedPosts.map((e=>{const t=d.find((t=>t.id===e.id)),s=u.find((t=>t.id===e.author.id));return{post:{...e,author:s||e.author},link:p(t)}}))})),e(s,a,{root:!0}))},y=async({commit:e,list:t,commitName:s})=>{const a=t.filter((e=>{const t=r()(e,"entity.linkedPosts.length")||0;return"post"===e.type&&t}));a.length&&await g({commit:e,postsWithLinkedUsers:a,commitName:s})},v=async({commit:e,id:t})=>{let s;try{s=await(0,u.PF)(t)}catch(a){}return s&&s.success&&e("deleteItem",t),s}},173764:function(){window.STATIC_PAGES=[{url:"help",name:{en:"Help",fr:"Aide or Assitant",es:"Ayuda",it:"Aiuto",zh:"",pt:"Ajuda",uk:"",de:"Hilfe",tw:"",ro:"Ajutor",hi:"",ru:""},type:"faq",inFooter:!0},{url:"about",name:{en:"About",fr:"Sur Nous",es:"Sobre OnlyFans",it:"Dicono di noi",zh:"",pt:"Sobre",uk:" ",de:"ber",tw:"",ro:"Despre",hi:" ",ru:" "},target:"_blank",inFooter:!0},{url:"https://blog.onlyfans.com/",name:{en:"Blog",zh:"",uk:"",tw:"",hi:"",ru:""},isExtLink:!0,target:"_blank",inFooter:!0},{url:"brand",name:{en:"Branding",fr:"Image de Marque",es:"La construccin de marca",zh:"",pt:"Marca",uk:"",tw:"",hi:"",ru:""},type:"page",target:"_blank",inFooter:!0},{url:"https://store.onlyfans.com/",name:{en:"Store",fr:"E-Boutique",es:"Tienda en lnea",it:"Negozio",zh:"",pt:"Loja",uk:"",tw:"",ro:"Magazin",hi:"",ru:""},isExtLink:!0,target:"_blank",inFooter:!0},{url:"terms",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"",pt:"Termos de Servio",uk:" ",de:"Service-Bedingungen",tw:"",ro:"Termenii de utilizare",hi:"  ",ru:" "},target:"_blank",inFooter:!0},{url:"privacy",name:{en:"Privacy",fr:"Rgles de Confidentialit",es:"Privacidad",zh:"",pt:"Privacidade",uk:"",de:"Datenschutz",tw:"",ro:"Confidenialitate",hi:"",ru:""},target:"_blank",inFooter:!0,inSidebarFooter:!0},{url:"terms#complaints-policy",name:{en:"Complaints Policy",fr:"Politique de Plaintes",es:"Reclamos y poltica",it:"Informativa Reclami",zh:"",pt:"Poltica de reclamaes",uk:" ",de:"Reklamationspolitik",tw:"",ro:"Politica de plngeri",hi:" ",ru:" "},target:"_blank",inFooter:!0},{url:"cookies",name:{en:"Cookie Notice",fr:"Notice de Cookie",es:"Aviso sobre cookies",it:"Informativa sui Cookie",zh:"Cookie ",pt:"Aviso de Cookies",uk:"   cookie",de:"Cookie-Hinweise",tw:"Cookie",ro:"Notificare privind cookie-urile",hi:" ",ru:"   cookie"},target:"_blank",inFooter:!0,inSidebarFooter:!0},{url:"dmca",name:{en:"DMCA",fr:"Copyright DMCA",tw:"DMCA",hi:""},type:"page",inFooter:!0},{url:"usc2257",name:{en:"USC 2257",hi:""},type:"usc2257",target:"_blank",inFooter:!0},{url:"contract",name:{en:"Standard Contract between Fan and Creator",fr:"Contrat Standard entre Fan et Crateur",es:"La norma de contrato entre fan y creador",it:"Contratto Standard tra Fan e Creatore",zh:"Fan  ",pt:"Contrato Padro entre F e Criador",uk:"     ",de:"Standardvertrag zwischen Fan und Urheber",tw:"",ro:"Contractul standard dintre fan i creator",hi:"      ",ru:"     "},target:"_blank",inFooter:!0},{url:"contacts",name:{en:"Contact",es:"Contacto",it:"Contatti",zh:"",pt:"Contato",uk:"",de:"Kontakt",tw:"",hi:"",ru:""},type:"contacts",inFooter:!1},{url:"license_form",name:"License",type:"license",inFooter:!1},{url:"https://twitter.com/onlyfans",name:"Twitter",target:"_blank",isExtLink:!0,inFooter:!1},{url:"transparency-center",name:{en:"OnlyFans Safety & Transparency Center",fr:"Centre de scurit et de transparence OnlyFans",es:"Centro de seguridad y transparencia de OnlyFans",it:"Centro per la sicurezza e la trasparenza di OnlyFans",zh:"OnlyFans ",pt:"Centro de Segurana e Transparncia OnlyFans",uk:"    OnlyFans",de:"OnlyFans Sicherheits- und Transparenzzentrum",tw:"OnlyFans  ",ro:"Centrul de siguran i transparen OnlyFans",hi:"     ",ru:"    OnlyFans"},type:"referrals",inFooter:!0},{url:"banking-help",name:"Adding a Bank Account",type:"page",inFooter:!1},{url:"terms-of-service",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"",pt:"Termos de Servio",uk:" ",de:"Service-Bedingungen",tw:"",ro:"Termenii de utilizare",hi:"  ",ru:" "},type:"page",target:"_blank",inFooter:!1,inSidebarFooter:!0},{url:"tos",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"",pt:"Termos de Servio",uk:" ",de:"Service-Bedingungen",tw:"",ro:"Termenii de utilizare",hi:"  ",ru:" "},type:"page",inFooter:!1},{url:"tosd",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"",pt:"Termos de Servio",uk:" ",de:"Service-Bedingungen",tw:"",ro:"Termenii de utilizare",hi:"  ",ru:" "},type:"page",inFooter:!1},{url:"antitraffickingstatement",name:{en:"Anti-Slavery and Anti-Trafficking Statement",fr:"Dclaration contre l'esclavage et la traite",es:"Declaracin contra la esclavitud y la trata",it:"Dichiarazione contro la schiavit e la tratta",zh:"",pt:"Declarao antiescravagista e antitrfico",uk:"       ",de:"Erklrung zur Bekmpfung von Sklaverei und Menschenhandel",tw:"",ro:"Declaraie anti-sclavie i anti-trafic",hi:"     ",ru:"       "},inFooter:!0},{url:"terms#acceptable-use-policy",name:{en:"Acceptable Use Policy",fr:"Politique d'Utilisation Acceptable ",es:"Poltica de uso aceptable",it:"Politica di Utilizzo Accettabile",zh:"",pt:"Poltica de Uso",uk:"  ",de:"Akzeptable Nutzung",tw:"",ro:"Politica de utilizare acceptat",hi:"  ",ru:"  "},target:"_blank",inFooter:!0}]},734416:function(e,t){"use strict";const s=!0;t.default={streamTypeGroups:{legacy:"Legacy stream types"},streamTypes:{agora_direct:{title:"CloudBeta direct"},agora:{title:"CloudBeta",group:"legacy"},webrtc:{title:"WebRTC",group:"legacy"},tcp:{title:"TCP",group:"legacy"}},canCostreamingStreamTypes:["agora_direct","agora","webrtc","tcp","hls","llhls"],defaultStreamType:{agora_direct:"agora_direct",agora:"agora",webrtc:"webrtc",tcp:"tcp"},primaryFailoverStreamTypes:["agora_direct","agora","webrtc","tcp"],costreamingTypeMappings:{webrtc:"webrtc",tcp:"webrtc",hls:"webrtc",llhls:"webrtc",agora:"agora",agora_direct:"agora_direct"},mutedOnStartStreamTypes:["webrtc","cloudfront","hls","llhls","mux","muxllhls","nano","tcp"]}},872308:function(e,t,s){"use strict";s.d(t,{O:function(){return c},getStreamingTipsComment:function(){return d}});var a=s(573210),r=s.n(a),i=s(333948),n=s.n(i),o=s(720144);const d=({vm:e,authUser:t,toUser:s,amount:a,message:r})=>{let i;return i=t.id==s.id?e.$root.$t("message.stream_tip_comment",{SUMM:`<strong>${a}</strong> `}):e.$t("message.stream_tip_comment_customer",{SUMM:`<strong>${a}</strong> `,MODEL:s.name}),r&&(i+=`<br>${r.trim()}`),i},c=async(e,t)=>{const a=t||document.getElementById(`video_${e.streamUserId}`),r=document.getElementById(`video_container_${e.streamUserId}`);if(!a||!r)return;const{default:i}=await s.e(45713).then(s.bind(s,845713)),n=o.default.extend(i);let d=0,c="100%";const l=a;let{videoWidth:u,videoHeight:m}=l;const h=m/u,f=l.offsetWidth,p=l.offsetHeight,g=undefined;h>p/f?(m=p,u=m/h):(u=f,m=u*h);const y=e.x*u,v=e.y*m;y&&(d=y-25+(f-u)/2,c=v+40+(p-m)/2);const S=new n({propsData:{startLeft:d,startTop:c}});S.$mount(),r.appendChild(S.$el),setTimeout((()=>{r&&r.removeChild(S.$el),S.$destroy()}),1500)}},857775:function(e,t,s){"use strict";s.d(t,{D5:function(){return m},I$:function(){return h},Pe:function(){return u},cT:function(){return l},cc:function(){return d},k2:function(){return c}});var a=s(845220),r=s.n(a),i=s(333948),n=s.n(i);const o=()=>Promise.all([s.e(13983),s.e(19849),s.e(95623),s.e(45223),s.e(45577),s.e(20478),s.e(5898),s.e(83268),s.e(59468),s.e(11094),s.e(95197),s.e(58593),s.e(24646),s.e(39895),s.e(23108),s.e(44599),s.e(56222),s.e(51474),s.e(9980),s.e(45350),s.e(70281),s.e(50268),s.e(79235),s.e(87714),s.e(22169),s.e(71436),s.e(9634),s.e(52514),s.e(61778),s.e(30572),s.e(606),s.e(97443),s.e(52586),s.e(31658),s.e(21621),s.e(54321),s.e(25709),s.e(23299)]).then(s.t.bind(s,713983,23)),d=async e=>{if(window.streamModule){if(window.streamModule.streamType===e)return;window.streamModule.cleanUp("Switching streamType"),delete window.streamModule}const t=await o();window.streamModule=new t.StreamModule(e)},c=async(e,t="webrtc")=>{if(window.viewModule||(window.viewModule={}),!window.viewModule[e]){const s=await o();window.viewModule[e]=new s.ViewModule(t)}},l=()=>{window.streamModule&&window.streamModule.stopStream(!1,"StreamStoppedBeforeModuleDestroy"),delete window.streamModule},u=(e,t)=>{if(window.viewModule){const s=window.viewModule[e];s&&s.stopStream(!1,!0,t)}},m=({instance:e,leave:t=!0,reason:s})=>{window.viewModule&&window.viewModule[e]&&(t&&u(e,s),delete window.viewModule[e])},h=e=>r()(e)||"object"!=typeof e?{allServerList:{},serverListByStreamType:{}}:Object.keys(e).reduce(((t,s)=>(t.serverListByStreamType[s]=[],(e[s]||[]).forEach((e=>{t.serverListByStreamType[s].push(e.name),t.allServerList[e.name]=e})),t)),{allServerList:{},serverListByStreamType:{}})},310569:function(e,t,s){"use strict";s.d(t,{Ao:function(){return E},Ay:function(){return F},BI:function(){return h},C6:function(){return i},FJ:function(){return b},FX:function(){return A},JX:function(){return o},KG:function(){return w},MEDIA_ENTITY_TYPES:function(){return D},PT:function(){return f},Q$:function(){return L},SX:function(){return y},TQ:function(){return U},U0:function(){return k},Yt:function(){return S},Z1:function(){return v},a7:function(){return O},at:function(){return T},bT:function(){return u},e5:function(){return M},eb:function(){return R},f_:function(){return m},gM:function(){return c},hL:function(){return p},i2:function(){return g},iZ:function(){return I},jq:function(){return $},kY:function(){return _},l$:function(){return l},nc:function(){return P},pK:function(){return n},vu:function(){return C},y9:function(){return d}});var a=s(333948),r=s.n(a);const i="all",n="commented",o="replied",d="mentioned",c="tags",l="favorited",u="subscribed",m="tip",h="message",f="purchases",p="price_changed",g="paided_post",y="paided_message",v="system",S="deactivated_media",P="user",w="link",b="document",I="subscribe_was_expired",k="new_trial",C="soon_expire_autoprolong_disabled",T="new_stream",L="reminder_stream",M="new_tips_fund_raising",$="photo",A="gif",_="video",F="audio",E=[$,A,_],D={POST:"post",STORY:"story",MESSAGE:"message",STREAM:"stream",OWN_MEDIA:"own_media"},U={autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"},R=["total_spent","tips","duration","inactive","recommenders","signed_up_before","signed_up_after"],O=[...R,"online","paid"]},502568:function(e,t){"use strict";t.Z=()=>{const e=undefined,t=undefined;return Date.now().toString(36)+Math.random().toString(36).substring(2)}},265823:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var a=s(227361),r=s.n(a);const i=(e,t)=>{const{processId:s,mediaId:a,mediaIndex:i,uniqueId:n,...o}=t;return e.map((e=>{const t=undefined;if(s&&e.processId===s||a&&e.id===a){const t=s?r()(e,"thumbs",[]):r()(e,"files.preview.options",[]);if(t.length){const e=t.findIndex((e=>e.id===o.id));e>-1?t[e]={...o}:t.push(o)}e.thumb=o.url,e.thumbId=o.id}return e}))}},738129:function(e,t,s){"use strict";s.d(t,{$g:function(){return m},MX:function(){return _},OW:function(){return E},S4:function(){return U},T5:function(){return h},Xg:function(){return c},at:function(){return R},lD:function(){return f},tJ:function(){return o},vc:function(){return d},vq:function(){return C},yK:function(){return F}});var a=s(333948),r=s.n(a),i=s(437035);const n=e=>Array.isArray(e)&&e.length?e.reduce(((e,{name:t,children:s})=>t?[...e,t,...s?n(s):[]]:e),[]):[],o=n(i.H),d=n(i.Hh),c=n(i.Ii),l=["Subscribers","SubscribersByType","Promotions","Subscribes","SubscribesByType"],u=["order_field","order_dir"],m="FILTERS_SUBSCRIBERS_MODAL",h="FILTERS_SUBSCRIBERS_ALL",f="FILTERS_SUBSCRIBES_ALL",p=["total_spent","tips","duration","inactive","recommenders","signed_up_before","signed_up_after","online","spent_date_start","spent_date_end"],g=[...p,"recommender_id","promoId"],y=undefined,v={[m]:p,[h]:g,[f]:["paid","online"]},S={"Subscribers::all":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]},"SubscribersByType::active":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]},"SubscribersByType::expired":{order_field:["last_activity","expire_date","subscribe_date","is_expired"],order_dir:["asc","desc"]},"SubscribersByType::restricted":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]},"SubscribersByType::blocked":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]},"SubscribersByType::activity":{order_field:["last_activity","summ_subscribes","summ_post","summ_chat_messages","summ_call","summ_stream","summ_tips","summ_total"],order_dir:["asc","desc"]},"Promotions::promo":{order_field:["create_date","is_finished","subscribe_days","expire_date","finish_date"],order_dir:["asc","desc"]},"Subscribes::all":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]},"SubscribesByType::active":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]},"SubscribesByType::expired":{order_field:["last_activity","expire_date","subscribe_date","is_expired"],order_dir:["asc","desc"]},"SubscribesByType::attention":{order_field:["last_activity","is_expired"],order_dir:["asc","desc"]},"SubscribesByType::restricted":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]},"SubscribesByType::blocked":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]},"RestrictedUsers::all":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]},"BlockedUsers::all":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]},"UsersLists::all":{order_field:["last_activity","expire_date","subscribe_date"],order_dir:["asc","desc"]}},P=[{name:"last_activity",label:"sort_recent_label",sub:"all|active|expired|attention|activity|restricted|blocked"},{name:"summ_subscribes",label:"subscribers_activity_subscribes_summ_title",sub:"activity"},{name:"summ_post",label:"subscribers_activity_posts_title",sub:"activity"},{name:"summ_chat_messages",label:"subscribers_activity_chats_summ_title",sub:"activity"},{name:"summ_stream",label:"subscribers_activity_live_streams_title",sub:"activity"},{name:"summ_tips",label:"subscribers_activity_tips_summ_title",sub:"activity"},{name:"summ_total",label:"subscribers_activity_total_summ_title",sub:"activity"},{name:"expire_date",label:"subscribers_current_subscription_title",sub:"active"},{name:"expire_date",label:"subscribers_previous_subscription_title",sub:"expired"},{name:"expire_date",label:"subscribers_subscription_title",sub:"all|restricted|blocked"},{name:"subscribe_date",label:"subscribers_started_title",sub:"all|active|expired|restricted|blocked"},{name:"is_expired",label:"subscribers_expired_sort_title",sub:"expired|attention"},{name:"create_date",label:"subscribers_offer_sent_title",sub:"promo"},{name:"is_finished",label:"subscribers_offer_current_offer_title",sub:"promo"},{name:"subscribe_days",label:"subscribers_offer_duration_title",sub:"promo"},{name:"expire_date",label:"subscribers_offer_expires_title",sub:"promo"},{name:"finish_date",label:"subscribers_offer_claimed_title",sub:"promo"}];let w="";const b={},I=e=>{const{name:t,params:{type:s=""}}=e;switch(!0){case"Promotions"===t:return"promo";case["Subscribers","Subscribes","RestrictedUsers","BlockedUsers"].includes(t):case c.includes(t):return"all";default:return`${s}`}},k=e=>{const{name:t}=e,s=I(e);return!0===c.includes(t)?`UsersLists::${s}`:`${t}::${s}`},C=e=>{e&&(w=k(e))},T=e=>b[`${w}::${e}`],L=e=>l.includes(e.name),M=(e,t)=>{if(!u.includes(e))return!0;const s=T(e)||[];return!!s&&s.includes(t)},$=e=>{const t=undefined;return Object.entries(e.query).some((([e,t])=>!M(e,t)))},A=e=>Object.entries(e.query).reduce(((e,[t,s])=>M(t,s)?{...e,[t]:s}:e),{}),_=e=>(C(e),T("sortOptions")||[]),F=e=>L(e)&&$(e),E=e=>{const t=A(e);return{...e,query:t}},D=(e,t)=>{if(t&&v[t])return v[t];const{name:s}=e;return"Subscribes"===s||"SubscribesByType"===s?v[f]||[]:v[m]||[]},U=(e,t)=>{const s=D(e,t),a={...e.query};return s.reduce(((e,t)=>void 0===a[t]?e:{...e,[t]:a[t]}),{})},R=(e,t)=>{const s=D(e,t),a={...e.query};return Object.entries(a).reduce(((e,[t,a])=>s.includes(t)?e:{...e,[t]:a}),{})},O=undefined;(()=>{Object.entries(S).forEach((([e,{order_field:t,order_dir:s}])=>{const[,a]=e.split("::"),r=P.filter((({name:e,sub:s})=>t.includes(e)&&s.includes(a)));b[`${e}::sortOptions`]=r,b[`${e}::order_field`]=t,b[`${e}::order_dir`]=s}))})()},870008:function(e,t,s){"use strict";s.d(t,{F:function(){return h},h:function(){return f}});var a=s(333948),r=s.n(a),i=s(115306),n=s.n(i),o=s(422592),d=s(550615),c=s(423593),l=s(999023);function u(e){return new Promise((t=>{var s,a,r,i,n;const o=null===(s=d.default.getters)||void 0===s?void 0:s["auth/authUser"],c=null===(a=d.default.getters)||void 0===a?void 0:a["auth/authUserId"],u=null===(r=d.default.getters)||void 0===r?void 0:r["settings/userLoginPrefix"],m={...null===(i=d.default.state)||void 0===i||null===(n=i.settings)||void 0===n?void 0:n.existedUsernames},h=e=>d.default.commit("settings/setExistedUsernames",e,{root:!0});if(e===o.username)return void t({valid:!0});if(e.length<5)return void t({valid:!1});if(e===`${u}${c}`)return void t({valid:!0});const f=new RegExp(`^${u}\\d+$`),p=new RegExp("^id\\d+$"),g=new RegExp("^[a-z](?:[._-]?[a-z0-9]+)+$","i");if(f.test(e)||p.test(e)||!g.test(e))t({valid:!1});else{if(m[e]){const{valid:s}=m[e];if(!s||m[e].checkDate>=+new Date-6e5)return void t({valid:s});delete m[e],h(m)}(0,l.eP)(e).then((({success:s})=>{m[e]={valid:!s},s||(m[e].checkDate=+new Date),h(m),t({valid:!s})})).catch((()=>{t({valid:!0})}))}}))}function m(e){return new Promise((t=>{const s=undefined;/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||Number.isInteger(e)||"string"==typeof e&&e.length<=24&&!e.includes("@")?t({valid:!0}):t({valid:!1})}))}const h=()=>({messages:{email:()=>(0,c.t)("message.email_is_not_valid")},custom:{reportAbuseDesc:{min:()=>(0,c.t)("message.report_abuse_issue_minlength")}}}),f={checkPassword:{getMessage:e=>(0,c.t)("message.check_password_validate",{FIELD:e}),validate:e=>/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/.test(e)},minLength:{getMessage:(e,[t])=>(0,c.t)("message.minlength_validation_error",{LENGTH:t}),validate:(e,[t])=>e.length>=t},urls:{getMessage:()=>(0,c.t)("message.urls_validation_error"),validate:e=>!e.split(/[\s\n]/).filter((e=>e.length)).some((e=>!o.HQ.validate(e)))},noturl:{validate:e=>!o.HQ.validate(e,{require_protocol:!0})},notInPastTime:{validate:e=>{const t=undefined,s=undefined;return new Date(e).getTime()>(new Date).getTime()}},notInPastDate:{validate:e=>{const t=new Date(e).toDateString(),s=(new Date).toDateString(),a=undefined,r=undefined;return new Date(e).getTime()>(new Date).getTime()||t===s}},confirmPassword:{getMessage:()=>(0,c.t)("message.passwords_not_match_message"),validate:(e,[t])=>e===decodeURIComponent(t)},minCardLength:{getMessage:(e,t)=>(0,c.t)("message.card_numbed_min_length_error",{FIELD:e,COUNT:t[0]}),validate:(e,t)=>o.VV.validate(e.replace(/\s/g,""),t)},maxCardLength:{getMessage:(e,t)=>(0,c.t)("message.card_numbed_max_length_error",{FIELD:e,COUNT:t[0]}),validate:(e,t)=>o.Fp.validate(e.replace(/\s/g,""),t)},username:{getMessage:e=>`${e} is not available.`,validate:u},loginIdEmail:{validate:m}}},258373:function(e,t,s){var a={"./ar":[514837,14837],"./ar.js":[514837,14837],"./az":[139410,39410],"./az.js":[139410,39410],"./bg":[6916,6916],"./bg.js":[6916,6916],"./ca":[548528,48528],"./ca.js":[548528,48528],"./cs":[846664,46664],"./cs.js":[846664,46664],"./da":[99235,99235],"./da.js":[99235,99235],"./de":[639948,39948],"./de.js":[639948,39948],"./el":[832492,32492],"./el.js":[832492,32492],"./en":[224685,24685],"./en.js":[224685,24685],"./es":[482953,82953],"./es.js":[482953,82953],"./et":[749724,49724],"./et.js":[749724,49724],"./eu":[15073,15073],"./eu.js":[15073,15073],"./fa":[724910,24910],"./fa.js":[724910,24910],"./fi":[405095,5095],"./fi.js":[405095,5095],"./fr":[643786,43786],"./fr.js":[643786,43786],"./he":[265734,65734],"./he.js":[265734,65734],"./hi":[511888,11888],"./hi.js":[511888,11888],"./hr":[909084,9084],"./hr.js":[909084,9084],"./hu":[49180,49180],"./hu.js":[49180,49180],"./id":[144661,44661],"./id.js":[144661,44661],"./it":[854781,54781],"./it.js":[854781,54781],"./ja":[236890,36890],"./ja.js":[236890,36890],"./ka":[577972,77972],"./ka.js":[577972,77972],"./ko":[125706,25706],"./ko.js":[125706,25706],"./lt":[627209,27209],"./lt.js":[627209,27209],"./lv":[80309,80309],"./lv.js":[80309,80309],"./mn":[89517,89517],"./mn.js":[89517,89517],"./ms_MY":[446130,46130],"./ms_MY.js":[446130,46130],"./nb_NO":[898133,98133],"./nb_NO.js":[898133,98133],"./ne":[674349,74349],"./ne.js":[674349,74349],"./nl":[304374,4374],"./nl.js":[304374,4374],"./nn_NO":[130565,30565],"./nn_NO.js":[130565,30565],"./pl":[207406,7406],"./pl.js":[207406,7406],"./pt_BR":[906348,6348],"./pt_BR.js":[906348,6348],"./pt_PT":[200050,50],"./pt_PT.js":[200050,50],"./ro":[826226,26226],"./ro.js":[826226,26226],"./ru":[208949,8949],"./ru.js":[208949,8949],"./sk":[995066,95066],"./sk.js":[995066,95066],"./sl":[442960,42960],"./sl.js":[442960,42960],"./sq":[986419,86419],"./sq.js":[986419,86419],"./sr":[138992,38992],"./sr.js":[138992,38992],"./sr_Latin":[36257,36257],"./sr_Latin.js":[36257,36257],"./sv":[442147,42147],"./sv.js":[442147,42147],"./th":[496617,96617],"./th.js":[496617,96617],"./tr":[850107,50107],"./tr.js":[850107,50107],"./uk":[665287,65287],"./uk.js":[665287,65287],"./vi":[38689,38689],"./vi.js":[38689,38689],"./zh_CN":[144051,44051],"./zh_CN.js":[144051,44051],"./zh_TW":[831110,31110],"./zh_TW.js":[831110,31110]};function r(e){if(!s.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return s.e(t[1]).then((function(){return s.t(r,23)}))}r.keys=function(){return Object.keys(a)},r.id=258373,e.exports=r},501078:function(e,t,s){var a={"./auth.js":397235,"./banking.js":906189,"./bookmarks.js":534674,"./bundles.js":497965,"./campaigns.js":807394,"./chats.js":835401,"./collections.js":494566,"./comments.js":206060,"./creditTransactions.js":474878,"./currentPlayMedia.js":928658,"./draft.js":849156,"./formApiErrors.js":979155,"./hiddenHints.js":903479,"./hints.js":229551,"./index.js":211988,"./init.js":901371,"./lastPosts.js":732700,"./live.js":954075,"./massMessagesStat.js":478831,"./mediaVault.js":796053,"./misc.js":193263,"./modals.js":172441,"./offers.js":544956,"./payments.js":702817,"./performerHelpers.js":260950,"./photoSwipe.js":802333,"./postLabels.js":886465,"./postStatCollector.js":557910,"./posts.js":274889,"./referrals.js":818474,"./releaseForms.js":50473,"./router.js":669479,"./savedForLater.js":258135,"./schedule.js":453398,"./settings.js":363345,"./shopify.js":556208,"./socket.js":325928,"./statements.js":487979,"./static.js":225720,"./statistic.js":798427,"./stories.js":746382,"./streaming.js":982049,"./streams.js":966312,"./streamsPast.js":269186,"./streamsScheduled.js":971708,"./subscribers.js":79233,"./subscribes.js":514614,"./translations.js":699560,"./users.js":857107,"./usersLists.js":595097};function r(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function e(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=501078}},t={},s,a,r,i,n,o,d,c,l;function u(s){var a=t[s];if(void 0!==a)return a.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,u),r.loaded=!0,r.exports}u.m=e,u.amdO={},s=[],u.O=function(e,t,a,r){if(!t){for(var i=1/0,n=0;n<s.length;n++){for(var t=s[n][0],a=s[n][1],r=s[n][2],o=!0,d=0;d<t.length;d++)(!1&r||i>=r)&&Object.keys(u.O).every((function(e){return u.O[e](t[d])}))?t.splice(d--,1):(o=!1,r<i&&(i=r));if(o){s.splice(n--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var n=s.length;n>0&&s[n-1][2]>r;n--)s[n]=s[n-1];s[n]=[t,a,r]},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,{a:t}),t},a=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},u.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var s=Object.create(null);u.r(s);var i={};r=r||[null,a({}),a([]),a(a)];for(var n=2&t&&e;"object"==typeof n&&!~r.indexOf(n);n=a(n))Object.getOwnPropertyNames(n).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},u.d(s,i),s},u.d=function(e,t){for(var s in t)u.o(t,s)&&!u.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},u.f={},u.e=function(e){return Promise.all(Object.keys(u.f).reduce((function(t,s){return u.f[s](e,t),t}),[]))},u.u=function(e){return({211:"search-a1baaf03",335:"statements-vat",606:"live-215cad8b",785:"aws-sdk-c3373795",825:"chats-017397ff",918:"chats-95328e84",995:"ChartJs-aacc2dbb",1737:"chats-1656f0b4",2236:"sign-page-5c551db8",2681:"additionally",2889:"media-vault",3310:"search-8407002a",3458:"chats-d754f73d",4305:"static-transparency-report-center-privacy",4856:"chats-5c551db8",5276:"static-transparency-report-center-verification",5295:"static-terms-6a95778b",7544:"main-a460eb09",7844:"banking-vat-60c3be78",8415:"chats-dc4f56bd",8620:"collections",9966:"search-017397ff",10591:"chats-e3cee7e7",10653:"settings-qr",10852:"aws-sdk-5211a47b",11197:"chats-4a33e37e",11362:"static-about",11453:"referrals-017397ff",11671:"uploader",14686:"statementsVat",14751:"aws-sdk-22b821a7",16808:"statistics-fans-d87c119a",16938:"static-law-a523c416",17784:"aws-sdk-7bd36f9a",18427:"chats-2aa534db",19067:"web3",20041:"error",20644:"referrals-215cad8b",21473:"banking-page-d87c119a",21621:"live-b2d3dc10",21774:"payments-alternative-add",22125:"static-transparency-report-center-commitment",22685:"aws-sdk-78a34c87",23299:"live-5c551db8",23598:"static-transparency-report-center",23711:"chats-ad6a2f20",24701:"search-228c2599",25019:"report-dmca-5c551db8",25191:"static-statement",25709:"live-756cf438",26492:"search-ad6a2f20",26668:"static-download-report",28843:"MakeFeedPost-215cad8b",29860:"referrals-c17b433d",30231:"static-law-68302b6c",30572:"live-a87a1724",30808:"ChartJs-d87c119a",31127:"static-transparency-report-assisting",31658:"live-11aeed1f",31786:"settings-spotify",33220:"static-transparency-report-center-preventing",33602:"chats-6efc6c6a",34586:"static-law-2e3a7503",34917:"search-215cad8b",36357:"search-b6ebefd2",36599:"report-dmca-017397ff",37176:"settings-ip-017397ff",37810:"banking-w9-fff52040",38154:"settings-things-i-like",38321:"MakeFeedPost-4c21b3f6",38459:"aws-sdk-91a1aed6",39328:"chats-list-017397ff",40122:"chats-d87c119a",41526:"settings-ip-d87c119a",42117:"report-dmca-fdfe9809",42143:"statistics-fans-c17b433d",42317:"chats-c5df2ce3",42356:"hellosign-e4ef477f",43743:"aws-sdk-7721dd11",44829:"statements-fdfe9809",46721:"chats-f495b49d",46726:"banking-page-4c120c8f",46776:"chats-list-bc050c32",47208:"chats-list-d87c119a",48532:"chats-stats",49342:"TributeJS",49408:"settings-sessions",50676:"aws-sdk-9abb97e8",50993:"chats-dc133cc6",51266:"static-privacy",52586:"live-093652e0",52793:"settings-shopify-products",54321:"live-7c3e23cc",54602:"statements-payout",55029:"MakeFeedPost-a1ab1bb5",55757:"feed-page",55946:"statements-bc050c32",56496:"aws-sdk-69df323b",56676:"referrals-d87c119a",57335:"ChartJs-6b8dd54e",57812:"aws-sdk-c0d76f48",57871:"banking-page-bc050c32",57921:"static-terms-c0e86ab2",58359:"eruda",58475:"banking-vat-017397ff",58687:"streaming-dashboard",59112:"chats-eb58996c",60249:"settings-language",60593:"chats-list-b80f15b3",60610:"banking-wrapper-fdfe9809",60877:"payments-add-card",61039:"hellosign-003c3ef8",61389:"aws-sdk-8af8abc7",61760:"ChartJs-b26c46e2",61765:"aws-sdk-1e832453",61778:"live-017397ff",62296:"banking-wrapper-d99074a4",62339:"chats-c14739e3",64016:"search-5c551db8",64385:"chats-3140520a",64395:"MakeFeedPost-e0b79306",64957:"statistics-trial-links",64963:"chats-page",64982:"statistics-each",65226:"banking-payout-types",65725:"nft-gallery",66281:"MakeFeedPost-017397ff",68779:"statistics-fans-2dad7310",69002:"statements-earning-stats",69418:"search-92b51063",70210:"referrals-4c120c8f",70809:"oauth-page",71145:"chats-4c120c8f",71169:"aws-sdk-b49fab05",71267:"main-42f9d7e6",71437:"chats-2dad7310",73782:"settings-story",73922:"settings-eth-wallet",74530:"banking-w9-017397ff",75044:"static-transparency-report",75609:"sign-page-d87c119a",75821:"chats-d439a7ee",76081:"chats-40877cc0",77190:"chats-aabeae55",77447:"search-b80f15b3",77615:"banking-wrapper-017397ff",80246:"statistics-fans-d70a4990",80676:"chats-953ccc23",81040:"static-cookies",81302:"static-transparency-report-center-tackling",81403:"ChartJs-4c120c8f",81545:"statistics-fans-017397ff",82784:"aws-sdk-014e3cf4",83531:"aws-sdk-00833fa6",83717:"search-1c88d971",83863:"banking-verify",84866:"banking-page-3b26bf38",84935:"static-law-d87c119a",85430:"static",85669:"static-transparency-report-center-safeguarding",86118:"sign-page-017397ff",86414:"aws-sdk-577f2249",86463:"static-transparency-report-helping",86652:"settings-page",87983:"payments",88683:"static-brand",88784:"banking-wrapper-c3da4ff3",89113:"paymentGates",89720:"static-law-483868f2",89846:"statements-5c551db8",89869:"static-values",89944:"settings-nft-assets",89964:"static-law-017397ff",90594:"report-dmca-c17b433d",92053:"settings-passwordless-authentication",92100:"chats-e1b01c24",92594:"statistics-disputes",92776:"settings-twitter",96216:"settings-fans",96487:"streaming-chat",96493:"chats-69e571ff",96699:"payments-cards",97196:"search-b2d3dc10",97443:"live-65e9c26b",97901:"statements-c17b433d"}[e]||e)+".js?rev=202310251539-21edf1068d"},u.miniCssF=function(e){return({335:"statements-vat",606:"live-215cad8b",825:"chats-017397ff",918:"chats-95328e84",2681:"additionally",2889:"media-vault",3310:"search-8407002a",7544:"main-a460eb09",7844:"banking-vat-60c3be78",8620:"collections",10653:"settings-qr",11362:"static-about",11453:"referrals-017397ff",20041:"error",21473:"banking-page-d87c119a",21774:"payments-alternative-add",25709:"live-756cf438",26668:"static-download-report",28843:"MakeFeedPost-215cad8b",30808:"ChartJs-d87c119a",34917:"search-215cad8b",36357:"search-b6ebefd2",38154:"settings-things-i-like",39328:"chats-list-017397ff",40122:"chats-d87c119a",41526:"settings-ip-d87c119a",42117:"report-dmca-fdfe9809",44829:"statements-fdfe9809",46726:"banking-page-4c120c8f",48532:"chats-stats",49342:"TributeJS",51266:"static-privacy",52793:"settings-shopify-products",54602:"statements-payout",55757:"feed-page",57921:"static-terms-c0e86ab2",58475:"banking-vat-017397ff",58687:"streaming-dashboard",60610:"banking-wrapper-fdfe9809",60877:"payments-add-card",64957:"statistics-trial-links",64963:"chats-page",65226:"banking-payout-types",65725:"nft-gallery",68779:"statistics-fans-2dad7310",70809:"oauth-page",71267:"main-42f9d7e6",71437:"chats-2dad7310",73782:"settings-story",73922:"settings-eth-wallet",74530:"banking-w9-017397ff",75609:"sign-page-d87c119a",83863:"banking-verify",84866:"banking-page-3b26bf38",86118:"sign-page-017397ff",87983:"payments",88683:"static-brand",89113:"paymentGates",89869:"static-values",89944:"settings-nft-assets",89964:"static-law-017397ff",92053:"settings-passwordless-authentication",92100:"chats-e1b01c24",92594:"statistics-disputes",96487:"streaming-chat",96699:"payments-cards",97196:"search-b2d3dc10",97901:"statements-c17b433d"}[e]||e)+".css?rev=202310251539-21edf1068d"},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i={},n="of-vue:",u.l=function(e,t,s,a){if(i[e])i[e].push(t);else{var r,o;if(void 0!==s)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var l=d[c];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==n+s){r=l;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,u.nc&&r.setAttribute("nonce",u.nc),r.setAttribute("data-webpack",n+s),r.src=e),i[e]=[t];var m=function(t,s){r.onerror=r.onload=null,clearTimeout(h);var a=i[e];if(delete i[e],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(e){return e(s)})),t)return t(s)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),o&&document.head.appendChild(r)}},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},u.p="https://static.onlyfans.com/theme/onlyfans/spa/",o=function(e,t,s,a){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(i){if(r.onerror=r.onload=null,"load"===i.type)s();else{var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");d.code="CSS_CHUNK_LOAD_FAILED",d.type=n,d.request=o,r.parentNode.removeChild(r),a(d)}};return r.onerror=r.onload=i,r.href=t,document.head.appendChild(r),r},d=function(e,t){for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var r,i=(r=s[a]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}for(var n=document.getElementsByTagName("style"),a=0;a<n.length;a++){var r,i;if((i=(r=n[a]).getAttribute("data-href"))===e||i===t)return r}},c=function(e){return new Promise((function(t,s){var a=u.miniCssF(e),r=u.p+a;if(d(a,r))return t();o(e,r,t,s)}))},l={32143:0},u.f.miniCss=function(e,t){var s={145:1,335:1,606:1,825:1,918:1,2681:1,2889:1,3310:1,5605:1,6956:1,7544:1,7844:1,8620:1,10653:1,11011:1,11094:1,11312:1,11362:1,11453:1,11655:1,12078:1,14533:1,20041:1,21473:1,21597:1,21774:1,22169:1,23108:1,24293:1,24646:1,25709:1,26668:1,27609:1,28836:1,28843:1,30654:1,30808:1,31558:1,32250:1,33560:1,34063:1,34917:1,36357:1,38154:1,38282:1,38833:1,39141:1,39285:1,39328:1,40122:1,41526:1,42117:1,42152:1,42554:1,44759:1,44829:1,45577:1,45700:1,45713:1,45953:1,46726:1,47855:1,48532:1,48549:1,48952:1,49342:1,50359:1,50964:1,51197:1,51266:1,51525:1,52793:1,53140:1,54602:1,55757:1,57909:1,57921:1,58475:1,58593:1,58687:1,59468:1,60610:1,60877:1,61512:1,62359:1,64298:1,64777:1,64957:1,64963:1,65226:1,65629:1,65649:1,65725:1,67782:1,68779:1,70809:1,71218:1,71252:1,71267:1,71437:1,72450:1,72864:1,73314:1,73782:1,73922:1,74530:1,75609:1,76573:1,76596:1,77485:1,79235:1,79969:1,80794:1,81457:1,83338:1,83863:1,84271:1,84866:1,84934:1,85013:1,86118:1,86287:1,87749:1,87983:1,88181:1,88683:1,89113:1,89869:1,89944:1,89964:1,90116:1,92053:1,92100:1,92594:1,93409:1,93847:1,95197:1,95623:1,96487:1,96699:1,97196:1,97800:1,97901:1,98641:1};l[e]?t.push(l[e]):0!==l[e]&&s[e]&&t.push(l[e]=c(e).then((function(){l[e]=0}),(function(t){throw delete l[e],t})))},function(){var e={32143:0};u.f.j=function(t,s){var a=u.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else if(/^(3(4063|6357|9285|9328)|4(21(17|52)|5577)|8(25|4934|5013|9964)|7[58]44|11453|23108|24646|5605|61512|68779|95623)$/.test(t))e[t]=0;else{var r=new Promise((function(s,r){a=e[t]=[s,r]}));s.push(a[2]=r);var i=u.p+u.u(t),n=new Error,o=function(s){if(u.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;n.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",n.name="ChunkLoadError",n.type=r,n.request=i,a[1](n)}};u.l(i,o,"chunk-"+t,t)}},u.O.j=function(t){return 0===e[t]};var t=function(t,s){var a=s[0],r=s[1],i=s[2],n,o,d=0;if(a.some((function(t){return 0!==e[t]}))){for(n in r)u.o(r,n)&&(u.m[n]=r[n]);if(i)var c=i(u)}for(t&&t(s);d<a.length;d++)o=a[d],u.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return u.O(c)},s=self.webpackChunkof_vue=self.webpackChunkof_vue||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}(),u.O(void 0,[33415,64381,82444,75640,24144,47701,93680,68863,9116,62392,46106,56155,99234,16122,95200,71632,35470,47371,1619,30935,7879,71981,25145,16738,69943,20136,79740,97527,12009,62327,51674,95109,2682,98469,66219,87594,93779,80871,30651,37047,22384,70934,85969,89218,37086,10125,37230],(function(){return u(383574)}));var m=u.O(void 0,[33415,64381,82444,75640,24144,47701,93680,68863,9116,62392,46106,56155,99234,16122,95200,71632,35470,47371,1619,30935,7879,71981,25145,16738,69943,20136,79740,97527,12009,62327,51674,95109,2682,98469,66219,87594,93779,80871,30651,37047,22384,70934,85969,89218,37086,10125,37230],(function(){return u(53189)}));m=u.O(m)}();
